import{r as m,R as D}from"./react-38b596a0.js";import{n as U,c as Q,l as $}from"./dom-helpers-31057db3.js";import"./react-lifecycles-compat-86471e09.js";import{R as W}from"./react-dom-e6a66cff.js";import{A as q,_ as y}from"./@babel-5978d8d7.js";import{P as s}from"./prop-types-bdeb2994.js";import{u as V,a as T,b as L,c as X}from"./@restart-6df4391e.js";import{p as Z,h as ee,a as te,c as re,e as ne,o as oe,f as ie,b as ae,d as ue,g as se}from"./@popperjs-9dd40b19.js";import{w as fe}from"./warning-f47cdb75.js";var le=Z({defaultModifiers:[ee,te,re,ne,oe,ie,ae,ue]}),K=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},ce={name:"applyStyles",enabled:!1},de={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var n=t.state;return function(){var r=n.elements,o=r.reference,i=r.popper;if("removeAttribute"in o){var f=(o.getAttribute("aria-describedby")||"").split(",").filter(function(l){return l.trim()!==i.id});f.length?o.setAttribute("aria-describedby",f.join(",")):o.removeAttribute("aria-describedby")}}},fn:function(t){var n,r=t.state,o=r.elements,i=o.popper,f=o.reference,l=(n=i.getAttribute("role"))==null?void 0:n.toLowerCase();if(i.id&&l==="tooltip"&&"setAttribute"in f){var v=f.getAttribute("aria-describedby");if(v&&v.split(",").indexOf(i.id)!==-1)return;f.setAttribute("aria-describedby",v?v+","+i.id:i.id)}}},pe=[];function ve(e,t,n){var r=n===void 0?{}:n,o=r.enabled,i=o===void 0?!0:o,f=r.placement,l=f===void 0?"bottom":f,v=r.strategy,b=v===void 0?"absolute":v,h=r.modifiers,E=h===void 0?pe:h,u=q(r,["enabled","placement","strategy","modifiers"]),a=m.useRef(),d=m.useCallback(function(){var g;(g=a.current)==null||g.update()},[]),c=m.useCallback(function(){var g;(g=a.current)==null||g.forceUpdate()},[]),R=V(m.useState({placement:l,update:d,forceUpdate:c,attributes:{},styles:{popper:K(b),arrow:{}}})),C=R[0],p=R[1],M=m.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(P){var w=P.state,S={},x={};Object.keys(w.elements).forEach(function(O){S[O]=w.styles[O],x[O]=w.attributes[O]}),p({state:w,styles:S,attributes:x,update:d,forceUpdate:c,placement:w.placement})}}},[d,c,p]);return m.useEffect(function(){!a.current||!i||a.current.setOptions({placement:l,strategy:b,modifiers:[].concat(E,[M,ce])})},[b,l,M,i]),m.useEffect(function(){if(!(!i||e==null||t==null))return a.current=le(e,t,y({},u,{placement:l,strategy:b,modifiers:[].concat(E,[de,M])})),function(){a.current!=null&&(a.current.destroy(),a.current=void 0,p(function(g){return y({},g,{attributes:{},styles:{popper:K(b)}})}))}},[i,e,t]),C}function be(e){return e&&"setState"in e?W.findDOMNode(e):e??null}const me=function(e){return U(be(e))};var ye=27,H=function(){};function ge(e){return e.button===0}function Ee(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var j=function(t){return t&&("current"in t?t.current:t)};function he(e,t,n){var r=n===void 0?{}:n,o=r.disabled,i=r.clickTrigger,f=i===void 0?"click":i,l=m.useRef(!1),v=t||H,b=m.useCallback(function(u){var a,d=j(e);fe(!!d,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),l.current=!d||Ee(u)||!ge(u)||!!Q(d,(a=u.composedPath==null?void 0:u.composedPath()[0])!=null?a:u.target)},[e]),h=T(function(u){l.current||v(u)}),E=T(function(u){u.keyCode===ye&&v(u)});m.useEffect(function(){if(!(o||e==null)){var u=window.event,a=me(j(e)),d=$(a,f,b,!0),c=$(a,f,function(p){if(p===u){u=void 0;return}h(p)}),R=$(a,"keyup",function(p){if(p===u){u=void 0;return}E(p)}),C=[];return"ontouchstart"in a.documentElement&&(C=[].slice.call(a.body.children).map(function(p){return $(p,"mousemove",H)})),function(){d(),c(),R(),C.forEach(function(p){return p()})}}},[e,o,f,b,h,E])}function we(e){var t={};return Array.isArray(e)?(e==null||e.forEach(function(n){t[n.name]=n}),t):e||t}function Ce(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function Re(e){var t,n,r,o,i=e.enabled,f=e.enableEvents,l=e.placement,v=e.flip,b=e.offset,h=e.fixed,E=e.containerPadding,u=e.arrowElement,a=e.popperConfig,d=a===void 0?{}:a,c=we(d.modifiers);return y({},d,{placement:l,enabled:i,strategy:h?"fixed":d.strategy,modifiers:Ce(y({},c,{eventListeners:{enabled:f},preventOverflow:y({},c.preventOverflow,{options:E?y({padding:E},(t=c.preventOverflow)==null?void 0:t.options):(n=c.preventOverflow)==null?void 0:n.options}),offset:{options:y({offset:b},(r=c.offset)==null?void 0:r.options)},arrow:y({},c.arrow,{enabled:!!u,options:y({},(o=c.arrow)==null?void 0:o.options,{element:u})}),flip:y({enabled:!!v},c.flip)}))})}var _=function(t){var n;return typeof document>"u"?null:t==null?U().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(n=t)!=null&&n.nodeType&&t||null)};function I(e,t){var n=m.useState(function(){return _(e)}),r=n[0],o=n[1];if(!r){var i=_(e);i&&o(i)}return m.useEffect(function(){t&&r&&t(r)},[t,r]),m.useEffect(function(){var f=_(e);f!==r&&o(f)},[e,r]),r}var k=D.forwardRef(function(e,t){var n=e.flip,r=e.offset,o=e.placement,i=e.containerPadding,f=i===void 0?5:i,l=e.popperConfig,v=l===void 0?{}:l,b=e.transition,h=L(),E=h[0],u=h[1],a=L(),d=a[0],c=a[1],R=X(u,t),C=I(e.container),p=I(e.target),M=m.useState(!e.show),g=M[0],P=M[1],w=ve(p,E,Re({placement:o,enableEvents:!!e.show,containerPadding:f||5,flip:n,offset:r,arrowElement:d,popperConfig:v})),S=w.styles,x=w.attributes,O=q(w,["styles","attributes"]);e.show?g&&P(!1):!e.transition&&!g&&P(!0);var F=function(){P(!0),e.onExited&&e.onExited.apply(e,arguments)},N=e.show||b&&!g;if(he(E,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!N)return null;var A=e.children(y({},O,{show:!!e.show,props:y({},x.popper,{style:S.popper,ref:R}),arrowProps:y({},x.arrow,{style:S.arrow,ref:c})}));if(b){var B=e.onExit,G=e.onExiting,Y=e.onEnter,z=e.onEntering,J=e.onEntered;A=D.createElement(b,{in:e.show,appear:!0,onExit:B,onExiting:G,onExited:F,onEnter:Y,onEntering:z,onEntered:J},A)}return C?W.createPortal(A,C):null});k.displayName="Overlay";k.propTypes={show:s.bool,placement:s.oneOf(se),target:s.any,container:s.any,flip:s.bool,children:s.func.isRequired,containerPadding:s.number,popperConfig:s.object,rootClose:s.bool,rootCloseEvent:s.oneOf(["click","mousedown"]),rootCloseDisabled:s.bool,onHide:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];if(t.rootClose){var i;return(i=s.func).isRequired.apply(i,[t].concat(r))}return s.func.apply(s,[t].concat(r))},transition:s.elementType,onEnter:s.func,onEntering:s.func,onEntered:s.func,onExit:s.func,onExiting:s.func,onExited:s.func};const Te=k;export{Te as O};
