import{R as g}from"./react-38b596a0.js";import{B as N,_ as h,A as S}from"./@babel-5978d8d7.js";import{p as W}from"./react-lifecycles-compat-86471e09.js";import{i as F}from"./invariant-2c4081a0.js";var D=function(){};function L(r,c){var u={};return Object.keys(r).forEach(function(b){u[y(b)]=D}),u}function T(r,c){return r[c]!==void 0}function y(r){return"default"+r.charAt(0).toUpperCase()+r.substr(1)}function M(r){return!!r&&(typeof r!="function"||r.prototype&&r.prototype.isReactComponent)}var q="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function B(r,c,u){u===void 0&&(u=[]);var b=r.displayName||r.name||"Component",_=M(r),d=Object.keys(c),x=d.map(y);_||!u.length||F(!1);var l=function(o){N(a,o);function a(){for(var n,i=arguments.length,f=new Array(i),p=0;p<i;p++)f[p]=arguments[p];n=o.call.apply(o,[this].concat(f))||this,n.handlers=Object.create(null),d.forEach(function(t){var e=c[t],P=function(O){if(n.props[e]){var U;n._notifying=!0;for(var j=arguments.length,C=new Array(j>1?j-1:0),R=1;R<j;R++)C[R-1]=arguments[R];(U=n.props)[e].apply(U,[O].concat(C)),n._notifying=!1}n.unmounted||n.setState(function(A){var E,w=A.values;return{values:h(Object.create(null),w,(E={},E[t]=O,E))}})};n.handlers[e]=P}),u.length&&(n.attachRef=function(t){n.inner=t});var v=Object.create(null);return d.forEach(function(t){v[t]=n.props[y(t)]}),n.state={values:v,prevProps:{}},n}var s=a.prototype;return s.shouldComponentUpdate=function(){return!this._notifying},a.getDerivedStateFromProps=function(i,f){var p=f.values,v=f.prevProps,t={values:h(Object.create(null),p),prevProps:{}};return d.forEach(function(e){t.prevProps[e]=i[e],!T(i,e)&&T(v,e)&&(t.values[e]=i[y(e)])}),t},s.componentWillUnmount=function(){this.unmounted=!0},s.render=function(){var i=this,f=this.props,p=f.innerRef,v=S(f,["innerRef"]);x.forEach(function(e){delete v[e]});var t={};return d.forEach(function(e){var P=i.props[e];t[e]=P!==void 0?P:i.state.values[e]}),g.createElement(r,h({},v,t,this.handlers,{ref:p||this.attachRef}))},a}(g.Component);W(l),l.displayName="Uncontrolled("+b+")",l.propTypes=h({innerRef:function(){}},L(c)),u.forEach(function(o){l.prototype[o]=function(){var s;return(s=this.inner)[o].apply(s,arguments)}});var m=l;return g.forwardRef&&(m=g.forwardRef(function(o,a){return g.createElement(l,h({},o,{innerRef:a,__source:{fileName:q,lineNumber:128},__self:this}))}),m.propTypes=l.propTypes),m.ControlledComponent=r,m.deferControlTo=function(o,a,s){return a===void 0&&(a={}),B(o,h({},c,a),s)},m}export{B as u};
