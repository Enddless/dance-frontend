import{b as te,d as re,e as G,f as U,h as de,i as I,j as Dn,k as En,l as fe,m as Cr,n as ze,o as Vt,p as Q,q as Mr,r as we,s as Fe,t as Ie,u as Xe,v as Ve,w as wn,x as Gt,y as kr,z as Sn}from"./@babel-5978d8d7.js";import{R as g,r as F}from"./react-38b596a0.js";import{i as ft}from"./invariant-2c4081a0.js";import{u as _n}from"./uncontrollable-84c3097f.js";import{c as X,r as nt}from"./clsx-b22c2e19.js";import{P as A,p as Ar}from"./prop-types-bdeb2994.js";import{i as On,l as $r,a as gt,g as Ut,b as Zt,e as yt,n as Tr,s as oe,c as It,d as bt,m as Rn,f as Cn,h as ht,j as Wt,k as Ht,o as Yt}from"./date-arithmetic-92dfef60.js";import{r as Mn,c as kn,t as An,m as $n,d as Tn,o as Pn,i as xn,f as Nn,s as zn}from"./lodash-es-12f1d146.js";import{q as Ln,h as Pt,p as Pr,r as xr,s as Nr,c as jt,a as or,g as qt,b as Fn,d as In,l as Wn,e as zr,o as xt,f as Hn,i as Yn,j as jn,k as qn,m as Bn}from"./dom-helpers-31057db3.js";import{O as Kn}from"./react-overlays-25dc6cf3.js";import{m as Lr}from"./memoize-one-297ddbcb.js";import"./dayjs-c9899edc.js";import{i as Xn,f as Vn}from"./lodash-3c04d9ca.js";function ve(r){return r.children}var ae={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},ee={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},ir=Object.keys(ee).map(function(r){return ee[r]});A.oneOfType([A.string,A.func]);A.any;A.func;A.oneOfType([A.arrayOf(A.oneOf(ir)),A.objectOf(function(r,a){var n=ir.indexOf(a)!==-1&&typeof r[a]=="boolean";if(n)return null;for(var e=arguments.length,t=new Array(e>2?e-2:0),s=2;s<e;s++)t[s-2]=arguments[s];return A.elementType.apply(A,[r,a].concat(t))})]);A.oneOfType([A.oneOf(["overlap","no-overlap"]),A.func]);function Y(r,a){r&&r.apply(null,[].concat(a))}var lr={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function Fr(r,a){var n=oe(r,"month");return oe(n,"week",a.startOfWeek())}function Ir(r,a){var n=It(r,"month");return It(n,"week",a.startOfWeek())}function Gn(r,a){for(var n=Fr(r,a),e=Ir(r,a),t=[];gt(n,e,"day");)t.push(n),n=bt(n,1,"day");return t}function Bt(r,a){var n=oe(r,a);return yt(n,r)?n:bt(n,1,a)}function Un(r,a){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",e=r,t=[];gt(e,a,n);)t.push(e),e=bt(e,1,n);return t}function Zn(r,a){return a==null&&r==null?null:(a==null&&(a=new Date),r==null&&(r=new Date),r=oe(r,"day"),r=Wt(r,Wt(a)),r=ht(r,ht(a)),r=Ht(r,Ht(a)),Yt(r,Yt(a)))}function cr(r){return Wt(r)===0&&ht(r)===0&&Ht(r)===0&&Yt(r)===0}function et(r,a,n){return!n||n==="milliseconds"?Math.abs(+r-+a):Math.round(Math.abs(+oe(r,n)/lr[n]-+oe(a,n)/lr[n]))}var Jn=A.oneOfType([A.string,A.func]);function Qn(r,a,n,e,t){var s=typeof e=="function"?e(n,t,r):a.call(r,n,e,t);return ft(s==null||typeof s=="string","`localizer format(..)` must return a string, null, or undefined"),s}function ea(r,a,n){return new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,a+n,0,0)}function Jt(r,a){return r.getTimezoneOffset()-a.getTimezoneOffset()}function ta(r,a){return et(r,a,"minutes")+Jt(r,a)}function ra(r){var a=oe(r,"day");return et(a,r,"minutes")+Jt(a,r)}function na(r,a){return $r(r,a,"day")}function aa(r,a,n){var e=yt(r,a,"minutes");return e?Zt(a,n,"minutes"):Ut(a,n,"minutes")}function sa(r){var a=r.evtA,n=a.start,e=a.end,t=a.allDay,s=r.evtB,l=s.start,o=s.end,i=s.allDay,c=+oe(n,"day")-+oe(l,"day"),u=et(n,Bt(e,"day"),"day"),d=et(l,Bt(o,"day"),"day");return c||Math.max(d,1)-Math.max(u,1)||!!i-!!t||+n-+l||+e-+o}function oa(r){var a=r.event,n=a.start,e=a.end,t=r.range,s=t.start,l=t.end,o=oe(n,"day"),i=gt(o,l,"day"),c=Tr(o,e,"minutes"),u=c?Ut(e,s,"minutes"):Zt(e,s,"minutes");return i&&u}function ia(r,a){return yt(r,a,"day")}function la(r,a){return cr(r)&&cr(a)}var ca=U(function r(a){var n=this;G(this,r),ft(typeof a.format=="function","date localizer `format(..)` must be a function"),ft(typeof a.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=a.propType||Jn,this.formats=a.formats,this.format=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return Qn.apply(void 0,[n,a.format].concat(t))},this.startOfWeek=a.firstOfWeek,this.merge=a.merge||Zn,this.inRange=a.inRange||On,this.lt=a.lt||$r,this.lte=a.lte||gt,this.gt=a.gt||Ut,this.gte=a.gte||Zt,this.eq=a.eq||yt,this.neq=a.neq||Tr,this.startOf=a.startOf||oe,this.endOf=a.endOf||It,this.add=a.add||bt,this.range=a.range||Un,this.diff=a.diff||et,this.ceil=a.ceil||Bt,this.min=a.min||Rn,this.max=a.max||Cn,this.minutes=a.minutes||ht,this.firstVisibleDay=a.firstVisibleDay||Fr,this.lastVisibleDay=a.lastVisibleDay||Ir,this.visibleDays=a.visibleDays||Gn,this.getSlotDate=a.getSlotDate||ea,this.getTimezoneOffset=a.getTimezoneOffset||function(e){return e.getTimezoneOffset()},this.getDstOffset=a.getDstOffset||Jt,this.getTotalMin=a.getTotalMin||ta,this.getMinutesFromMidnight=a.getMinutesFromMidnight||ra,this.continuesPrior=a.continuesPrior||na,this.continuesAfter=a.continuesAfter||aa,this.sortEvents=a.sortEvents||sa,this.inEventRange=a.inEventRange||oa,this.isSameDate=a.isSameDate||ia,this.startAndEndAreDateOnly=a.startAndEndAreDateOnly||la,this.segmentOffset=a.browserTZOffset?a.browserTZOffset():0});function ua(r,a,n,e){var t=I(I({},r.formats),n);return I(I({},r),{},{messages:e,startOfWeek:function(){return r.startOfWeek(a)},format:function(l,o){return r.format(l,t[o]||o,a)}})}var da={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(a){return"+".concat(a," more")}};function va(r){return I(I({},da),r)}function fa(r){var a=r.ref,n=r.callback;F.useEffect(function(){var e=function(s){a.current&&!a.current.contains(s.target)&&n()};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}},[a,n])}var ha=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],Wr=function(r){te(n,r);var a=re(n);function n(){return G(this,n),a.apply(this,arguments)}return U(n,[{key:"render",value:function(){var t=this.props,s=t.style,l=t.className,o=t.event,i=t.selected,c=t.isAllDay,u=t.onSelect,d=t.onDoubleClick,v=t.onKeyPress,f=t.localizer,h=t.continuesPrior,m=t.continuesAfter,p=t.accessors,y=t.getters,b=t.children,D=t.components,E=D.event,w=D.eventWrapper,O=t.slotStart,R=t.slotEnd,M=de(t,ha);delete M.resizable;var x=p.title(o),$=p.tooltip(o),T=p.end(o),k=p.start(o),z=p.allDay(o),L=c||z||f.diff(k,f.ceil(T,"day"),"day")>1,H=y.eventProp(o,k,T,i),j=g.createElement("div",{className:"rbc-event-content",title:$||void 0},E?g.createElement(E,{event:o,continuesPrior:h,continuesAfter:m,title:x,isAllDay:z,localizer:f,slotStart:O,slotEnd:R}):x);return g.createElement(w,Object.assign({},this.props,{type:"date"}),g.createElement("div",Object.assign({},M,{tabIndex:0,style:I(I({},H.style),s),className:X("rbc-event",l,H.className,{"rbc-selected":i,"rbc-event-allday":L,"rbc-event-continues-prior":h,"rbc-event-continues-after":m}),onClick:function(q){return u&&u(o,q)},onDoubleClick:function(q){return d&&d(o,q)},onKeyPress:function(q){return v&&v(o,q)}}),typeof b=="function"?b(j):j))}}]),n}(g.Component);function Dt(r,a){return!r||a==null?!1:xn(r,a)}function Hr(r,a){var n=r.right-r.left,e=n/a;return e}function Yr(r,a,n,e){var t=Hr(r,e);return n?e-1-Math.floor((a-r.left)/t):Math.floor((a-r.left)/t)}function ma(r,a){var n=a.x,e=a.y;return e>=r.top&&e<=r.bottom&&n>=r.left&&n<=r.right}function pa(r,a,n,e,t){var s=-1,l=-1,o=e-1,i=Hr(a,e),c=Yr(a,n.x,t,e),u=a.top<n.y&&a.bottom>n.y,d=a.top<r.y&&a.bottom>r.y,v=r.y>a.bottom,f=a.top>r.y,h=n.top<a.top&&n.bottom>a.bottom;return h&&(s=0,l=o),u&&(f?(s=0,l=c):v&&(s=c,l=o)),d&&(s=l=t?o-Math.floor((r.x-a.left)/i):Math.floor((r.x-a.left)/i),u?c<s?s=c:l=c:r.y<n.y?l=o:s=0),{startIdx:s,endIdx:l}}function ga(r){var a=r.target,n=r.offset,e=r.container,t=r.box,s=xt(a),l=s.top,o=s.left,i=s.width,c=s.height,u=xt(e),d=u.top,v=u.left,f=u.width,h=u.height,m=xt(t),p=m.width,y=m.height,b=d+h,D=v+f,E=l+y,w=o+p,O=n.x,R=n.y,M=E>b?l-y-R:l+R+c,x=w>D?o+O-p+i:o+O;return{topOffset:M,leftOffset:x}}function ya(r){var a=r.containerRef,n=r.accessors,e=r.getters,t=r.selected,s=r.components,l=r.localizer,o=r.position,i=r.show,c=r.events,u=r.slotStart,d=r.slotEnd,v=r.onSelect,f=r.onDoubleClick,h=r.onKeyPress,m=r.handleDragStart,p=r.popperRef,y=r.target,b=r.offset;fa({ref:p,callback:i}),F.useLayoutEffect(function(){var w=ga({target:y,offset:b,container:a.current,box:p.current}),O=w.topOffset,R=w.leftOffset;p.current.style.top="".concat(O,"px"),p.current.style.left="".concat(R,"px")},[b.x,b.y,y]);var D=o.width,E={minWidth:D+D/2};return g.createElement("div",{style:E,className:"rbc-overlay",ref:p},g.createElement("div",{className:"rbc-overlay-header"},l.format(u,"dayHeaderFormat")),c.map(function(w,O){return g.createElement(Wr,{key:O,type:"popup",localizer:l,event:w,getters:e,onSelect:v,accessors:n,components:s,onDoubleClick:f,onKeyPress:h,continuesPrior:l.lt(n.end(w),u,"day"),continuesAfter:l.gte(n.start(w),d,"day"),slotStart:u,slotEnd:d,selected:Dt(w,t),draggable:!0,onDragStart:function(){return m(w)},onDragEnd:function(){return i()}})}))}var jr=g.forwardRef(function(r,a){return g.createElement(ya,Object.assign({},r,{popperRef:a}))});jr.propTypes={accessors:A.object.isRequired,getters:A.object.isRequired,selected:A.object,components:A.object.isRequired,localizer:A.object.isRequired,position:A.object.isRequired,show:A.func.isRequired,events:A.array.isRequired,slotStart:A.instanceOf(Date).isRequired,slotEnd:A.instanceOf(Date),onSelect:A.func,onDoubleClick:A.func,onKeyPress:A.func,handleDragStart:A.func,style:A.object,offset:A.shape({x:A.number,y:A.number})};function ba(r){var a=r.containerRef,n=r.popupOffset,e=n===void 0?5:n,t=r.overlay,s=r.accessors,l=r.localizer,o=r.components,i=r.getters,c=r.selected,u=r.handleSelectEvent,d=r.handleDoubleClickEvent,v=r.handleKeyPressEvent,f=r.handleDragStart,h=r.onHide,m=r.overlayDisplay,p=F.useRef(null);if(!t.position)return null;var y=e;isNaN(e)||(y={x:e,y:e});var b=t.position,D=t.events,E=t.date,w=t.end;return g.createElement(Kn,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:h,target:t.target},function(O){var R=O.props;return g.createElement(jr,Object.assign({},R,{containerRef:a,ref:p,target:t.target,offset:y,accessors:s,getters:i,selected:c,components:o,localizer:l,position:b,show:m,events:D,slotStart:E,slotEnd:w,onSelect:u,onDoubleClick:d,onKeyPress:v,handleDragStart:f}))})}var Qt=g.forwardRef(function(r,a){return g.createElement(ba,Object.assign({},r,{containerRef:a}))});Qt.propTypes={popupOffset:A.oneOfType([A.number,A.shape({x:A.number,y:A.number})]),overlay:A.shape({position:A.object,events:A.array,date:A.instanceOf(Date),end:A.instanceOf(Date)}),accessors:A.object.isRequired,localizer:A.object.isRequired,components:A.object.isRequired,getters:A.object.isRequired,selected:A.object,handleSelectEvent:A.func,handleDoubleClickEvent:A.func,handleKeyPressEvent:A.func,handleDragStart:A.func,onHide:A.func,overlayDisplay:A.func};function Z(r,a){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return Wn(n,r,a,{passive:!1})}function Da(r,a,n){return!r||jt(r,document.elementFromPoint(a,n))}function Ea(r,a){var n=a.clientX,e=a.clientY,t=document.elementFromPoint(n,e);return zr(t,".rbc-event",r)}function wa(r,a){var n=a.clientX,e=a.clientY,t=document.elementFromPoint(n,e);return zr(t,".rbc-show-more",r)}function mt(r,a){return!!Ea(r,a)}function Sa(r,a){return!!wa(r,a)}function Ye(r){var a=r;return r.touches&&r.touches.length&&(a=r.touches[0]),{clientX:a.clientX,clientY:a.clientY,pageX:a.pageX,pageY:a.pageY}}var ur=5,_a=250,qr=function(){function r(a){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=n.global,t=e===void 0?!1:e,s=n.longPressThreshold,l=s===void 0?250:s,o=n.validContainers,i=o===void 0?[]:o;G(this,r),this.isDetached=!1,this.container=a,this.globalMouse=!a||t,this.longPressThreshold=l,this.validContainers=i,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Z("touchmove",function(){},window),this._removeKeyDownListener=Z("keydown",this._keyListener),this._removeKeyUpListener=Z("keyup",this._keyListener),this._removeDropFromOutsideListener=Z("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Z("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return U(r,[{key:"on",value:function(n,e){var t=this._listeners[n]||(this._listeners[n]=[]);return t.push(e),{remove:function(){var l=t.indexOf(e);l!==-1&&t.splice(l,1)}}}},{key:"emit",value:function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),s=1;s<e;s++)t[s-1]=arguments[s];var l,o=this._listeners[n]||[];return o.forEach(function(i){l===void 0&&(l=i.apply(void 0,t))}),l}},{key:"teardown",value:function(){this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(n){var e=this._selectRect;return!e||!this.selecting?!1:dr(e,Le(n))}},{key:"filter",value:function(n){var e=this._selectRect;return!e||!this.selecting?[]:n.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(n,e){var t=this,s=null,l=null,o=null,i=function(v){s=setTimeout(function(){u(),n(v)},t.longPressThreshold),l=Z("touchmove",function(){return u()}),o=Z("touchend",function(){return u()})},c=Z("touchstart",i),u=function(){s&&clearTimeout(s),l&&l(),o&&o(),s=null,l=null,o=null};return e&&i(e),function(){u(),c()}}},{key:"_addInitialEventListener",value:function(){var n=this,e=Z("mousedown",function(s){n._removeInitialEventListener(),n._handleInitialEvent(s),n._removeInitialEventListener=Z("mousedown",n._handleInitialEvent)}),t=Z("touchstart",function(s){n._removeInitialEventListener(),n._removeInitialEventListener=n._addLongPressListener(n._handleInitialEvent,s)});this._removeInitialEventListener=function(){e(),t()}}},{key:"_dropFromOutsideListener",value:function(n){var e=Ye(n),t=e.pageX,s=e.pageY,l=e.clientX,o=e.clientY;this.emit("dropFromOutside",{x:t,y:s,clientX:l,clientY:o}),n.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(n){var e=Ye(n),t=e.pageX,s=e.pageY,l=e.clientX,o=e.clientY;this.emit("dragOverFromOutside",{x:t,y:s,clientX:l,clientY:o}),n.preventDefault()}},{key:"_handleInitialEvent",value:function(n){if(!this.isDetached){var e=Ye(n),t=e.clientX,s=e.clientY,l=e.pageX,o=e.pageY,i=this.container(),c,u;if(!(n.which===3||n.button===2||!Da(i,t,s))){if(!this.globalMouse&&i&&!jt(i,n.target)){var d=Oa(0),v=d.top,f=d.left,h=d.bottom,m=d.right;if(u=Le(i),c=dr({top:u.top-v,left:u.left-f,bottom:u.bottom+h,right:u.right+m},{top:o,left:l}),!c)return}var p=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(n.type),x:l,y:o,clientX:t,clientY:s});if(p!==!1)switch(n.type){case"mousedown":this._removeEndListener=Z("mouseup",this._handleTerminatingEvent),this._onEscListener=Z("keydown",this._handleTerminatingEvent),this._removeMoveListener=Z("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(n),this._removeEndListener=Z("touchend",this._handleTerminatingEvent),this._removeMoveListener=Z("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(n){var e=n.target,t=this.validContainers;return!t||!t.length||!e?!0:t.some(function(s){return!!e.closest(s)})}},{key:"_handleTerminatingEvent",value:function(n){var e=Ye(n),t=e.pageX,s=e.pageY;if(this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),!!this._initialEventData){var l=!this.container||jt(this.container(),n.target),o=this._isWithinValidContainer(n),i=this._selectRect,c=this.isClick(t,s);return this._initialEventData=null,n.key==="Escape"||!o?this.emit("reset"):c&&l?this._handleClickEvent(n):c?this.emit("reset"):this.emit("select",i)}}},{key:"_handleClickEvent",value:function(n){var e=Ye(n),t=e.pageX,s=e.pageY,l=e.clientX,o=e.clientY,i=new Date().getTime();return this._lastClickData&&i-this._lastClickData.timestamp<_a?(this._lastClickData=null,this.emit("doubleClick",{x:t,y:s,clientX:l,clientY:o})):(this._lastClickData={timestamp:i},this.emit("click",{x:t,y:s,clientX:l,clientY:o}))}},{key:"_handleMoveEvent",value:function(n){if(!(this._initialEventData===null||this.isDetached)){var e=this._initialEventData,t=e.x,s=e.y,l=Ye(n),o=l.pageX,i=l.pageY,c=Math.abs(t-o),u=Math.abs(s-i),d=Math.min(o,t),v=Math.min(i,s),f=this.selecting;this.isClick(o,i)&&!f&&!(c||u)||(this.selecting=!0,this._selectRect={top:v,left:d,x:o,y:i,right:d+c,bottom:v+u},f||this.emit("selectStart",this._initialEventData),this.isClick(o,i)||this.emit("selecting",this._selectRect),n.preventDefault())}}},{key:"_keyListener",value:function(n){this.ctrl=n.metaKey||n.ctrlKey}},{key:"isClick",value:function(n,e){var t=this._initialEventData,s=t.x,l=t.y,o=t.isTouch;return!o&&Math.abs(n-s)<=ur&&Math.abs(e-l)<=ur}}]),r}();function Oa(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Vt(r)!=="object"&&(r={top:r,left:r,right:r,bottom:r}),r}function dr(r,a){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,e=Le(r),t=e.top,s=e.left,l=e.right,o=l===void 0?s:l,i=e.bottom,c=i===void 0?t:i,u=Le(a),d=u.top,v=u.left,f=u.right,h=f===void 0?v:f,m=u.bottom,p=m===void 0?d:m;return!(c-n<d||t+n>p||o-n<v||s+n>h)}function Le(r){if(!r.getBoundingClientRect)return r;var a=r.getBoundingClientRect(),n=a.left+vr("left"),e=a.top+vr("top");return{top:e,left:n,right:(r.offsetWidth||0)+n,bottom:(r.offsetHeight||0)+e}}function vr(r){if(r==="left")return window.pageXOffset||document.body.scrollLeft||0;if(r==="top")return window.pageYOffset||document.body.scrollTop||0}var Ra=function(r){te(n,r);var a=re(n);function n(e,t){var s;return G(this,n),s=a.call(this,e,t),s.state={selecting:!1},s.containerRef=F.createRef(),s}return U(n,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(t){!t.selectable&&this.props.selectable&&this._selectable(),t.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var t=this.props,s=t.range,l=t.getNow,o=t.getters,i=t.date,c=t.components.dateCellWrapper,u=t.localizer,d=this.state,v=d.selecting,f=d.startIdx,h=d.endIdx,m=l();return g.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},s.map(function(p,y){var b=v&&y>=f&&y<=h,D=o.dayProp(p),E=D.className,w=D.style;return g.createElement(c,{key:y,value:p,range:s},g.createElement("div",{style:w,className:X("rbc-day-bg",E,b&&"rbc-selected-cell",u.isSameDate(p,m)&&"rbc-today",i&&u.neq(i,p,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var t=this,s=this.containerRef.current,l=this._selector=new qr(this.props.container,{longPressThreshold:this.props.longPressThreshold}),o=function(c,u){if(!mt(s,c)&&!Sa(s,c)){var d=Le(s),v=t.props,f=v.range,h=v.rtl;if(ma(d,c)){var m=Yr(d,c.x,h,f.length);t._selectSlot({startIdx:m,endIdx:m,action:u,box:c})}}t._initial={},t.setState({selecting:!1})};l.on("selecting",function(i){var c=t.props,u=c.range,d=c.rtl,v=-1,f=-1;if(t.state.selecting||(Y(t.props.onSelectStart,[i]),t._initial={x:i.x,y:i.y}),l.isSelected(s)){var h=Le(s),m=pa(t._initial,h,i,u.length,d);v=m.startIdx,f=m.endIdx}t.setState({selecting:!0,startIdx:v,endIdx:f})}),l.on("beforeSelect",function(i){if(t.props.selectable==="ignoreEvents")return!mt(t.containerRef.current,i)}),l.on("click",function(i){return o(i,"click")}),l.on("doubleClick",function(i){return o(i,"doubleClick")}),l.on("select",function(i){t._selectSlot(I(I({},t.state),{},{action:"select",bounds:i})),t._initial={},t.setState({selecting:!1}),Y(t.props.onSelectEnd,[t.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(t){var s=t.endIdx,l=t.startIdx,o=t.action,i=t.bounds,c=t.box;s!==-1&&l!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:l,end:s,action:o,bounds:i,box:c,resourceId:this.props.resourceId})}}]),n}(g.Component),ue={propTypes:{slotMetrics:A.object.isRequired,selected:A.object,isAllDay:A.bool,accessors:A.object.isRequired,localizer:A.object.isRequired,components:A.object.isRequired,getters:A.object.isRequired,onSelect:A.func,onDoubleClick:A.func,onKeyPress:A.func},defaultProps:{segments:[],selected:{}},renderEvent:function(a,n){var e=a.selected;a.isAllDay;var t=a.accessors,s=a.getters,l=a.onSelect,o=a.onDoubleClick,i=a.onKeyPress,c=a.localizer,u=a.slotMetrics,d=a.components,v=a.resizable,f=u.continuesPrior(n),h=u.continuesAfter(n);return g.createElement(Wr,{event:n,getters:s,localizer:c,accessors:t,components:d,onSelect:l,onDoubleClick:o,onKeyPress:i,continuesPrior:f,continuesAfter:h,slotStart:u.first,slotEnd:u.last,selected:Dt(n,e),resizable:v})},renderSpan:function(a,n,e){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",s=Math.abs(n)/a*100+"%";return g.createElement("div",{key:e,className:"rbc-row-segment",style:{WebkitFlexBasis:s,flexBasis:s,maxWidth:s}},t)}},Br=function(r){te(n,r);var a=re(n);function n(){return G(this,n),a.apply(this,arguments)}return U(n,[{key:"render",value:function(){var t=this,s=this.props,l=s.segments,o=s.slotMetrics.slots,i=s.className,c=1;return g.createElement("div",{className:X(i,"rbc-row")},l.reduce(function(u,d,v){var f=d.event,h=d.left,m=d.right,p=d.span,y="_lvl_"+v,b=h-c,D=ue.renderEvent(t.props,f);return b&&u.push(ue.renderSpan(o,b,"".concat(y,"_gap"))),u.push(ue.renderSpan(o,p,y,D)),c=m+1,u},[]))}}]),n}(g.Component);Br.defaultProps=I({},ue.defaultProps);function Kr(r){var a=r.dateRange,n=r.unit,e=n===void 0?"day":n,t=r.localizer;return{first:a[0],last:t.add(a[a.length-1],1,e)}}function Ca(r,a,n,e){var t=Kr({dateRange:a,localizer:e}),s=t.first,l=t.last,o=e.diff(s,l,"day"),i=e.max(e.startOf(n.start(r),"day"),s),c=e.min(e.ceil(n.end(r),"day"),l),u=Nn(a,function(v){return e.isSameDate(v,i)}),d=e.diff(i,c,"day");return d=Math.min(d,o),d=Math.max(d-e.segmentOffset,1),{event:r,span:d,left:u+1,right:Math.max(u+d,1)}}function Xr(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,n,e,t,s=[],l=[];for(n=0;n<r.length;n++){for(t=r[n],e=0;e<s.length&&Ma(t,s[e]);e++);e>=a?l.push(t):(s[e]||(s[e]=[])).push(t)}for(n=0;n<s.length;n++)s[n].sort(function(o,i){return o.left-i.left});return{levels:s,extra:l}}function tt(r,a,n,e,t){var s={start:e.start(r),end:e.end(r)},l={start:a,end:n};return t.inEventRange({event:s,range:l})}function Ma(r,a){return a.some(function(n){return n.left<=r.right&&n.right>=r.left})}function Vr(r,a,n,e){var t={start:n.start(r),end:n.end(r),allDay:n.allDay(r)},s={start:n.start(a),end:n.end(a),allDay:n.allDay(a)};return e.sortEvents({evtA:t,evtB:s})}var Gr=function(a,n){return a.left<=n&&a.right>=n},fr=function(a,n){return a.filter(function(e){return Gr(e,n)}).length},Ur=function(r){te(n,r);var a=re(n);function n(){return G(this,n),a.apply(this,arguments)}return U(n,[{key:"render",value:function(){for(var t=this.props,s=t.segments,l=t.slotMetrics.slots,o=Xr(s).levels[0],i=1,c=1,u=[];i<=l;){var d="_lvl_"+i,v=o.filter(function(D){return Gr(D,i)})[0]||{},f=v.event,h=v.left,m=v.right,p=v.span;if(!f){i++;continue}var y=Math.max(0,h-c);if(this.canRenderSlotEvent(h,p)){var b=ue.renderEvent(this.props,f);y&&u.push(ue.renderSpan(l,y,d+"_gap")),u.push(ue.renderSpan(l,p,d,b)),c=i=m+1}else y&&u.push(ue.renderSpan(l,y,d+"_gap")),u.push(ue.renderSpan(l,1,d,this.renderShowMore(s,i))),c=i=i+1}return g.createElement("div",{className:"rbc-row"},u)}},{key:"canRenderSlotEvent",value:function(t,s){var l=this.props.segments;return Mn(t,t+s).every(function(o){var i=fr(l,o);return i===1})}},{key:"renderShowMore",value:function(t,s){var l=this,o=this.props.localizer,i=fr(t,s);return i?g.createElement("button",{type:"button",key:"sm_"+s,className:X("rbc-button-link","rbc-show-more"),onClick:function(u){return l.showMore(s,u)}},o.messages.showMore(i)):!1}},{key:"showMore",value:function(t,s){s.preventDefault(),s.stopPropagation(),this.props.onShowMore(t,s.target)}}]),n}(g.Component);Ur.defaultProps=I({},ue.defaultProps);var ka=function(a){var n=a.children;return g.createElement("div",{className:"rbc-row-content-scroll-container"},n)},Aa=function(a,n){return a.left<=n&&a.right>=n},$a=function(a,n){return a[0].range===n[0].range&&a[0].events===n[0].events};function Zr(){return Lr(function(r){for(var a=r.range,n=r.events,e=r.maxRows,t=r.minRows,s=r.accessors,l=r.localizer,o=Kr({dateRange:a,localizer:l}),i=o.first,c=o.last,u=n.map(function(m){return Ca(m,a,s,l)}),d=Xr(u,Math.max(e-1,1)),v=d.levels,f=d.extra,h=f.length>0?t-1:t;v.length<h;)v.push([]);return{first:i,last:c,levels:v,extra:f,range:a,slots:a.length,clone:function(p){var y=Zr();return y(I(I({},r),p))},getDateForSlot:function(p){return a[p]},getSlotForDate:function(p){return a.find(function(y){return l.isSameDate(y,p)})},getEventsForSlot:function(p){return u.filter(function(y){return Aa(y,p)}).map(function(y){return y.event})},continuesPrior:function(p){return l.continuesPrior(s.start(p),i)},continuesAfter:function(p){var y=s.start(p),b=s.end(p);return l.continuesAfter(y,b,c)}}},$a)}var pt=function(r){te(n,r);var a=re(n);function n(){var e;G(this,n);for(var t=arguments.length,s=new Array(t),l=0;l<t;l++)s[l]=arguments[l];return e=a.call.apply(a,[this].concat(s)),e.handleSelectSlot=function(o){var i=e.props,c=i.range,u=i.onSelectSlot;u(c.slice(o.start,o.end+1),o)},e.handleShowMore=function(o,i){var c=e.props,u=c.range,d=c.onShowMore,v=e.slotMetrics(e.props),f=Ln(e.containerRef.current,".rbc-row-bg")[0],h;f&&(h=f.children[o-1]);var m=v.getEventsForSlot(o);d(m,u[o-1],h,o,i)},e.getContainer=function(){var o=e.props.container;return o?o():e.containerRef.current},e.renderHeadingCell=function(o,i){var c=e.props,u=c.renderHeader,d=c.getNow,v=c.localizer;return u({date:o,key:"header_".concat(i),className:X("rbc-date-cell",v.isSameDate(o,d())&&"rbc-now")})},e.renderDummy=function(){var o=e.props,i=o.className,c=o.range,u=o.renderHeader,d=o.showAllEvents;return g.createElement("div",{className:i,ref:e.containerRef},g.createElement("div",{className:X("rbc-row-content",d&&"rbc-row-content-scrollable")},u&&g.createElement("div",{className:"rbc-row",ref:e.headingRowRef},c.map(e.renderHeadingCell)),g.createElement("div",{className:"rbc-row",ref:e.eventRowRef},g.createElement("div",{className:"rbc-row-segment"},g.createElement("div",{className:"rbc-event"},g.createElement("div",{className:"rbc-event-content"}," "))))))},e.containerRef=F.createRef(),e.headingRowRef=F.createRef(),e.eventRowRef=F.createRef(),e.slotMetrics=Zr(),e}return U(n,[{key:"getRowLimit",value:function(){var t,s=Pt(this.eventRowRef.current),l=(t=this.headingRowRef)!==null&&t!==void 0&&t.current?Pt(this.headingRowRef.current):0,o=Pt(this.containerRef.current)-l;return Math.max(Math.floor(o/s),1)}},{key:"render",value:function(){var t=this.props,s=t.date,l=t.rtl,o=t.range,i=t.className,c=t.selected,u=t.selectable,d=t.renderForMeasure,v=t.accessors,f=t.getters,h=t.components,m=t.getNow,p=t.renderHeader,y=t.onSelect,b=t.localizer,D=t.onSelectStart,E=t.onSelectEnd,w=t.onDoubleClick,O=t.onKeyPress,R=t.resourceId,M=t.longPressThreshold,x=t.isAllDay,$=t.resizable,T=t.showAllEvents;if(d)return this.renderDummy();var k=this.slotMetrics(this.props),z=k.levels,L=k.extra,H=T?ka:ve,j=h.weekWrapper,V={selected:c,accessors:v,getters:f,localizer:b,components:h,onSelect:y,onDoubleClick:w,onKeyPress:O,resourceId:R,slotMetrics:k,resizable:$};return g.createElement("div",{className:i,role:"rowgroup",ref:this.containerRef},g.createElement(Ra,{localizer:b,date:s,getNow:m,rtl:l,range:o,selectable:u,container:this.getContainer,getters:f,onSelectStart:D,onSelectEnd:E,onSelectSlot:this.handleSelectSlot,components:h,longPressThreshold:M,resourceId:R}),g.createElement("div",{className:X("rbc-row-content",T&&"rbc-row-content-scrollable"),role:"row"},p&&g.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},o.map(this.renderHeadingCell)),g.createElement(H,null,g.createElement(j,Object.assign({isAllDay:x},V,{rtl:this.props.rtl}),z.map(function(q,ke){return g.createElement(Br,Object.assign({key:ke,segments:q},V))}),!!L.length&&g.createElement(Ur,Object.assign({segments:L,onShowMore:this.handleShowMore},V))))))}}]),n}(g.Component);pt.defaultProps={minRows:0,maxRows:1/0};var Jr=function(a){var n=a.label;return g.createElement("span",{role:"columnheader","aria-sort":"none"},n)},Ta=function(a){var n=a.label,e=a.drilldownView,t=a.onDrillDown;return e?g.createElement("button",{type:"button",className:"rbc-button-link",onClick:t,role:"cell"},n):g.createElement("span",null,n)},Pa=["date","className"],xa=function(a,n,e,t,s){return a.filter(function(l){return tt(l,n,e,t,s)})},Et=function(r){te(n,r);var a=re(n);function n(){var e;G(this,n);for(var t=arguments.length,s=new Array(t),l=0;l<t;l++)s[l]=arguments[l];return e=a.call.apply(a,[this].concat(s)),e.getContainer=function(){return e.containerRef.current},e.renderWeek=function(o,i){var c=e.props,u=c.events,d=c.components,v=c.selectable,f=c.getNow,h=c.selected,m=c.date,p=c.localizer,y=c.longPressThreshold,b=c.accessors,D=c.getters,E=c.showAllEvents,w=e.state,O=w.needLimitMeasure,R=w.rowLimit,M=xa(Dn(u),o[0],o[o.length-1],b,p);return M.sort(function(x,$){return Vr(x,$,b,p)}),g.createElement(pt,{key:i,ref:i===0?e.slotRowRef:void 0,container:e.getContainer,className:"rbc-month-row",getNow:f,date:m,range:o,events:M,maxRows:E?1/0:R,selected:h,selectable:v,components:d,accessors:b,getters:D,localizer:p,renderHeader:e.readerDateHeading,renderForMeasure:O,onShowMore:e.handleShowMore,onSelect:e.handleSelectEvent,onDoubleClick:e.handleDoubleClickEvent,onKeyPress:e.handleKeyPressEvent,onSelectSlot:e.handleSelectSlot,longPressThreshold:y,rtl:e.props.rtl,resizable:e.props.resizable,showAllEvents:E})},e.readerDateHeading=function(o){var i=o.date,c=o.className,u=de(o,Pa),d=e.props,v=d.date,f=d.getDrilldownView,h=d.localizer,m=h.neq(i,v,"month"),p=h.isSameDate(i,v),y=f(i),b=h.format(i,"dateFormat"),D=e.props.components.dateHeader||Ta;return g.createElement("div",Object.assign({},u,{className:X(c,m&&"rbc-off-range",p&&"rbc-current"),role:"cell"}),g.createElement(D,{label:b,date:i,drilldownView:y,isOffRange:m,onDrillDown:function(w){return e.handleHeadingClick(i,y,w)}}))},e.handleSelectSlot=function(o,i){e._pendingSelection=e._pendingSelection.concat(o),clearTimeout(e._selectTimer),e._selectTimer=setTimeout(function(){return e.selectDates(i)})},e.handleHeadingClick=function(o,i,c){c.preventDefault(),e.clearSelection(),Y(e.props.onDrillDown,[o,i])},e.handleSelectEvent=function(){e.clearSelection();for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];Y(e.props.onSelectEvent,i)},e.handleDoubleClickEvent=function(){e.clearSelection();for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];Y(e.props.onDoubleClickEvent,i)},e.handleKeyPressEvent=function(){e.clearSelection();for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];Y(e.props.onKeyPressEvent,i)},e.handleShowMore=function(o,i,c,u,d){var v=e.props,f=v.popup,h=v.onDrillDown,m=v.onShowMore,p=v.getDrilldownView,y=v.doShowMoreDrillDown;if(e.clearSelection(),f){var b=Pr(c,e.containerRef.current);e.setState({overlay:{date:i,events:o,position:b,target:d}})}else y&&Y(h,[i,p(i)||ee.DAY]);Y(m,[o,i,u])},e.overlayDisplay=function(){e.setState({overlay:null})},e.state={rowLimit:5,needLimitMeasure:!0,date:null},e.containerRef=F.createRef(),e.slotRowRef=F.createRef(),e._bgRows=[],e._pendingSelection=[],e}return U(n,[{key:"componentDidMount",value:function(){var t=this,s;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){s||xr(function(){s=!1,t.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var t=this.props,s=t.date,l=t.localizer,o=t.className,i=l.visibleDays(s,l),c=kn(i,7);return this._weekCount=c.length,g.createElement("div",{className:X("rbc-month-view",o),role:"table","aria-label":"Month View",ref:this.containerRef},g.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(c[0])),c.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(t){var s=this.props,l=s.localizer,o=s.components,i=t[0],c=t[t.length-1],u=o.header||Jr;return l.range(i,c,"day").map(function(d,v){return g.createElement("div",{key:"header_"+v,className:"rbc-header"},g.createElement(u,{date:d,localizer:l,label:l.format(d,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var t,s,l=this,o=(t=(s=this.state)===null||s===void 0?void 0:s.overlay)!==null&&t!==void 0?t:{},i=this.props,c=i.accessors,u=i.localizer,d=i.components,v=i.getters,f=i.selected,h=i.popupOffset,m=i.handleDragStart,p=function(){return l.setState({overlay:null})};return g.createElement(Qt,{overlay:o,accessors:c,localizer:u,components:d,getters:v,selected:f,popupOffset:h,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:m,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:p})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(t){var s=this._pendingSelection.slice();this._pendingSelection=[],s.sort(function(i,c){return+i-+c});var l=new Date(s[0]),o=new Date(s[s.length-1]);o.setDate(s[s.length-1].getDate()+1),Y(this.props.onSelectSlot,{slots:s,start:l,end:o,action:t.action,bounds:t.bounds,box:t.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(t,s){var l=t.date,o=t.localizer;return{date:l,needLimitMeasure:o.neq(l,s.date,"month")}}}]),n}(g.Component);Et.range=function(r,a){var n=a.localizer,e=n.firstVisibleDay(r,n),t=n.lastVisibleDay(r,n);return{start:e,end:t}};Et.navigate=function(r,a,n){var e=n.localizer;switch(a){case ae.PREVIOUS:return e.add(r,-1,"month");case ae.NEXT:return e.add(r,1,"month");default:return r}};Et.title=function(r,a){var n=a.localizer;return n.format(r,"monthHeaderFormat")};var hr=function(a){var n=a.min,e=a.max,t=a.step,s=a.slots,l=a.localizer;return"".concat(+l.startOf(n,"minutes"))+"".concat(+l.startOf(e,"minutes"))+"".concat(t,"-").concat(s)};function er(r){for(var a=r.min,n=r.max,e=r.step,t=r.timeslots,s=r.localizer,l=hr({start:a,end:n,step:e,timeslots:t,localizer:s}),o=1+s.getTotalMin(a,n),i=s.getMinutesFromMidnight(a),c=Math.ceil((o-1)/(e*t)),u=c*t,d=new Array(c),v=new Array(u),f=0;f<c;f++){d[f]=new Array(t);for(var h=0;h<t;h++){var m=f*t+h,p=m*e;v[m]=d[f][h]=s.getSlotDate(a,i,p)}}var y=v.length*e;v.push(s.getSlotDate(a,i,y));function b(D){var E=s.diff(a,D,"minutes")+s.getDstOffset(a,D);return Math.min(E,o)}return{groups:d,update:function(E){return hr(E)!==l?er(E):this},dateIsInGroup:function(E,w){var O=d[w+1];return s.inRange(E,d[w][0],O?O[0]:n,"minutes")},nextSlot:function(E){var w=v[Math.min(v.indexOf(E)+1,v.length-1)];return w===E&&(w=s.add(E,e,"minutes")),w},closestSlotToPosition:function(E){var w=Math.min(v.length-1,Math.max(0,Math.floor(E*u)));return v[w]},closestSlotFromPoint:function(E,w){var O=Math.abs(w.top-w.bottom);return this.closestSlotToPosition((E.y-w.top)/O)},closestSlotFromDate:function(E){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(s.lt(E,a,"minutes"))return v[0];if(s.gt(E,n,"minutes"))return v[v.length-1];var O=s.diff(a,E,"minutes");return v[(O-O%e)/e+w]},startsBeforeDay:function(E){return s.lt(E,a,"day")},startsAfterDay:function(E){return s.gt(E,n,"day")},startsBefore:function(E){return s.lt(s.merge(a,E),a,"minutes")},startsAfter:function(E){return s.gt(s.merge(n,E),n,"minutes")},getRange:function(E,w,O,R){O||(E=s.min(n,s.max(a,E))),R||(w=s.min(n,s.max(a,w)));var M=b(E),x=b(w),$=x>e*u&&!s.eq(n,w)?(M-e)/(e*u)*100:M/(e*u)*100;return{top:$,height:x/(e*u)*100-$,start:b(E),startDate:E,end:b(w),endDate:w}},getCurrentTimePosition:function(E){var w=b(E),O=w/(e*u)*100;return O}}}var Na=function(){function r(a,n){var e=n.accessors,t=n.slotMetrics;G(this,r);var s=t.getRange(e.start(a),e.end(a)),l=s.start,o=s.startDate,i=s.end,c=s.endDate,u=s.top,d=s.height;this.start=l,this.end=i,this.startMs=+o,this.endMs=+c,this.top=u,this.height=d,this.data=a}return U(r,[{key:"_width",get:function(){if(this.rows){var n=this.rows.reduce(function(t,s){return Math.max(t,s.leaves.length+1)},0)+1;return 100/n}if(this.leaves){var e=100-this.container._width;return e/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var n=this._width,e=Math.min(100,this._width*1.7);if(this.rows)return e;if(this.leaves)return this.leaves.length>0?e:n;var t=this.row.leaves,s=t.indexOf(this);return s===t.length-1?n:e}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var n=this.row,e=n.leaves,t=n.xOffset,s=n._width,l=e.indexOf(this)+1;return t+l*s}}]),r}();function za(r,a,n){return Math.abs(a.start-r.start)<n||a.start>r.start&&a.start<r.end}function La(r){for(var a=zn(r,["startMs",function(o){return-o.endMs}]),n=[];a.length>0;){var e=a.shift();n.push(e);for(var t=0;t<a.length;t++){var s=a[t];if(!(e.endMs>s.startMs)){if(t>0){var l=a.splice(t,1)[0];n.push(l)}break}}}return n}function Qr(r){for(var a=r.events,n=r.minimumStartDifference,e=r.slotMetrics,t=r.accessors,s=a.map(function(u){return new Na(u,{slotMetrics:e,accessors:t})}),l=La(s),o=[],i=function(){var d=l[c],v=o.find(function(m){return m.end>d.start||Math.abs(d.start-m.start)<n});if(!v)return d.rows=[],o.push(d),1;d.container=v;for(var f=null,h=v.rows.length-1;!f&&h>=0;h--)za(v.rows[h],d,n)&&(f=v.rows[h]);f?(f.leaves.push(d),d.row=f):(d.leaves=[],v.rows.push(d))},c=0;c<l.length;c++)i();return l.map(function(u){return{event:u.data,style:{top:u.top,height:u.height,width:u.width,xOffset:Math.max(0,u.xOffset)}}})}function en(r,a,n){for(var e=0;e<r.friends.length;++e)if(!(n.indexOf(r.friends[e])>-1)){a=a>r.friends[e].idx?a:r.friends[e].idx,n.push(r.friends[e]);var t=en(r.friends[e],a,n);a=a>t?a:t}return a}function Fa(r){var a=r.events,n=r.minimumStartDifference,e=r.slotMetrics,t=r.accessors,s=Qr({events:a,minimumStartDifference:n,slotMetrics:e,accessors:t});s.sort(function(H,j){return H=H.style,j=j.style,H.top!==j.top?H.top>j.top?1:-1:H.top+H.height<j.top+j.height?1:-1});for(var l=0;l<s.length;++l)s[l].friends=[],delete s[l].style.left,delete s[l].style.left,delete s[l].idx,delete s[l].size;for(var o=0;o<s.length-1;++o)for(var i=s[o],c=i.style.top,u=i.style.top+i.style.height,d=o+1;d<s.length;++d){var v=s[d],f=v.style.top,h=v.style.top+v.style.height;(f>=c&&h<=u||h>c&&h<=u||f>=c&&f<u)&&(i.friends.push(v),v.friends.push(i))}for(var m=0;m<s.length;++m){for(var p=s[m],y=[],b=0;b<100;++b)y.push(1);for(var D=0;D<p.friends.length;++D)p.friends[D].idx!==void 0&&(y[p.friends[D].idx]=0);p.idx=y.indexOf(1)}for(var E=0;E<s.length;++E){var w=0;if(!s[E].size){var O=[],R=en(s[E],0,O);w=100/(R+1),s[E].size=w;for(var M=0;M<O.length;++M)O[M].size=w}}for(var x=0;x<s.length;++x){var $=s[x];$.style.left=$.idx*$.size;for(var T=0,k=0;k<$.friends.length;++k){var z=$.friends[k].idx;T=T>z?T:z}T<=$.idx&&($.size=100-$.idx*$.size);var L=$.idx===0?0:3;$.style.width="calc(".concat($.size,"% - ").concat(L,"px)"),$.style.height="calc(".concat($.style.height,"% - 2px)"),$.style.xOffset="calc(".concat($.style.left,"% + ").concat(L,"px)")}return s}var mr={overlap:Qr,"no-overlap":Fa};function Ia(r){return!!(r&&r.constructor&&r.call&&r.apply)}function Wa(r){r.events,r.minimumStartDifference,r.slotMetrics,r.accessors;var a=r.dayLayoutAlgorithm,n=a;return a in mr&&(n=mr[a]),Ia(n)?n.apply(this,arguments):[]}var tn=function(r){te(n,r);var a=re(n);function n(){return G(this,n),a.apply(this,arguments)}return U(n,[{key:"render",value:function(){var t=this.props,s=t.renderSlot,l=t.resource,o=t.group,i=t.getters,c=t.components,u=c===void 0?{}:c,d=u.timeSlotWrapper,v=d===void 0?ve:d,f=i?i.slotGroupProp(o):{};return g.createElement("div",Object.assign({className:"rbc-timeslot-group"},f),o.map(function(h,m){var p=i?i.slotProp(h,l):{};return g.createElement(v,{key:m,value:h,resource:l},g.createElement("div",Object.assign({},p,{className:X("rbc-time-slot",p.className)}),s&&s(h,m)))}))}}]),n}(F.Component);function $e(r){return typeof r=="string"?r:r+"%"}function Ha(r){var a=r.style,n=r.className,e=r.event,t=r.accessors,s=r.rtl,l=r.selected,o=r.label,i=r.continuesPrior,c=r.continuesAfter,u=r.getters,d=r.onClick,v=r.onDoubleClick,f=r.isBackgroundEvent,h=r.onKeyPress,m=r.components,p=m.event,y=m.eventWrapper,b=t.title(e),D=t.tooltip(e),E=t.end(e),w=t.start(e),O=u.eventProp(e,w,E,l),R=a.height,M=a.top,x=a.width,$=a.xOffset,T=[g.createElement("div",{key:"1",className:"rbc-event-label"},o),g.createElement("div",{key:"2",className:"rbc-event-content"},p?g.createElement(p,{event:e,title:b}):b)],k=f?I(I({},O.style),{},ze({top:$e(M),height:$e(R),width:"calc(".concat(x," + 10px)")},s?"right":"left",$e(Math.max(0,$)))):I(I({},O.style),{},ze({top:$e(M),width:$e(x),height:$e(R)},s?"right":"left",$e($)));return g.createElement(y,Object.assign({type:"time"},r),g.createElement("div",{role:"button",tabIndex:0,onClick:d,onDoubleClick:v,style:k,onKeyPress:h,title:D?(typeof o=="string"?o+": ":"")+D:void 0,className:X(f?"rbc-background-event":"rbc-event",n,O.className,{"rbc-selected":l,"rbc-event-continues-earlier":i,"rbc-event-continues-later":c})},T))}var Ya=function(a){var n=a.children,e=a.className,t=a.style,s=a.innerRef;return g.createElement("div",{className:e,style:t,ref:s},n)},ja=g.forwardRef(function(r,a){return g.createElement(Ya,Object.assign({},r,{innerRef:a}))}),qa=["dayProp"],Ba=["eventContainerWrapper"],rn=function(r){te(n,r);var a=re(n);function n(){var e;G(this,n);for(var t=arguments.length,s=new Array(t),l=0;l<t;l++)s[l]=arguments[l];return e=a.call.apply(a,[this].concat(s)),e.state={selecting:!1,timeIndicatorPosition:null},e.intervalTriggered=!1,e.renderEvents=function(o){var i=o.events,c=o.isBackgroundEvent,u=e.props,d=u.rtl,v=u.selected,f=u.accessors,h=u.localizer,m=u.getters,p=u.components,y=u.step,b=u.timeslots,D=u.dayLayoutAlgorithm,E=u.resizable,w=En(e),O=w.slotMetrics,R=h.messages,M=Wa({events:i,accessors:f,slotMetrics:O,minimumStartDifference:Math.ceil(y*b/2),dayLayoutAlgorithm:D});return M.map(function(x,$){var T=x.event,k=x.style,z=f.end(T),L=f.start(T),H="eventTimeRangeFormat",j,V=O.startsBeforeDay(L),q=O.startsAfterDay(z);V?H="eventTimeRangeEndFormat":q&&(H="eventTimeRangeStartFormat"),V&&q?j=R.allDay:j=h.format({start:L,end:z},H);var ke=V||O.startsBefore(L),S=q||O.startsAfter(z);return g.createElement(Ha,{style:k,event:T,label:j,key:"evt_"+$,getters:m,rtl:d,components:p,continuesPrior:ke,continuesAfter:S,accessors:f,resource:e.props.resource,selected:Dt(T,v),onClick:function(C){return e._select(I(I({},T),{},{sourceResource:e.props.resource}),C)},onDoubleClick:function(C){return e._doubleClick(T,C)},isBackgroundEvent:c,onKeyPress:function(C){return e._keyPress(T,C)},resizable:E})})},e._selectable=function(){var o=e.containerRef.current,i=e.props,c=i.longPressThreshold,u=i.localizer,d=e._selector=new qr(function(){return o},{longPressThreshold:c}),v=function(p){var y=e.props.onSelecting,b=e.state||{},D=f(p),E=D.startDate,w=D.endDate;y&&(u.eq(b.startDate,E,"minutes")&&u.eq(b.endDate,w,"minutes")||y({start:E,end:w,resourceId:e.props.resource})===!1)||(e.state.start!==D.start||e.state.end!==D.end||e.state.selecting!==D.selecting)&&e.setState(D)},f=function(p){var y=e.slotMetrics.closestSlotFromPoint(p,Le(o));e.state.selecting||(e._initialSlot=y);var b=e._initialSlot;u.lte(b,y)?y=e.slotMetrics.nextSlot(y):u.gt(b,y)&&(b=e.slotMetrics.nextSlot(b));var D=e.slotMetrics.getRange(u.min(b,y),u.max(b,y));return I(I({},D),{},{selecting:!0,top:"".concat(D.top,"%"),height:"".concat(D.height,"%")})},h=function(p,y){if(!mt(e.containerRef.current,p)){var b=f(p),D=b.startDate,E=b.endDate;e._selectSlot({startDate:D,endDate:E,action:y,box:p})}e.setState({selecting:!1})};d.on("selecting",v),d.on("selectStart",v),d.on("beforeSelect",function(m){if(e.props.selectable==="ignoreEvents")return!mt(e.containerRef.current,m)}),d.on("click",function(m){return h(m,"click")}),d.on("doubleClick",function(m){return h(m,"doubleClick")}),d.on("select",function(m){e.state.selecting&&(e._selectSlot(I(I({},e.state),{},{action:"select",bounds:m})),e.setState({selecting:!1}))}),d.on("reset",function(){e.state.selecting&&e.setState({selecting:!1})})},e._teardownSelectable=function(){e._selector&&(e._selector.teardown(),e._selector=null)},e._selectSlot=function(o){for(var i=o.startDate,c=o.endDate,u=o.action,d=o.bounds,v=o.box,f=i,h=[];e.props.localizer.lte(f,c);)h.push(f),f=new Date(+f+e.props.step*60*1e3);Y(e.props.onSelectSlot,{slots:h,start:i,end:c,resourceId:e.props.resource,action:u,bounds:d,box:v})},e._select=function(){for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];Y(e.props.onSelectEvent,i)},e._doubleClick=function(){for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];Y(e.props.onDoubleClickEvent,i)},e._keyPress=function(){for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];Y(e.props.onKeyPressEvent,i)},e.slotMetrics=er(e.props),e.containerRef=F.createRef(),e}return U(n,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){t.selectable&&!this.props.selectable&&this._selectable(),!t.selectable&&this.props.selectable&&this._teardownSelectable(),this.slotMetrics=this.slotMetrics.update(t)}},{key:"componentDidUpdate",value:function(t,s){var l=this.props,o=l.getNow,i=l.isNow,c=l.localizer,u=l.date,d=l.min,v=l.max,f=c.neq(t.getNow(),o(),"minutes");if(t.isNow!==i||f){if(this.clearTimeIndicatorInterval(),i){var h=!f&&c.eq(t.date,u,"minutes")&&s.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(h)}}else i&&(c.neq(t.min,d,"minutes")||c.neq(t.max,v,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var t=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!s&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){t.intervalTriggered=!0,t.positionTimeIndicator(),t.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var t=this.props,s=t.min,l=t.max,o=t.getNow,i=o();if(i>=s&&i<=l){var c=this.slotMetrics.getCurrentTimePosition(i);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:c})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var t=this.props,s=t.date,l=t.max,o=t.rtl,i=t.isNow,c=t.resource,u=t.accessors,d=t.localizer,v=t.getters,f=v.dayProp,h=de(v,qa),m=t.components,p=m.eventContainerWrapper,y=de(m,Ba),b=this.slotMetrics,D=this.state,E=D.selecting,w=D.top,O=D.height,R=D.startDate,M=D.endDate,x={start:R,end:M},$=f(l),T=$.className,k=$.style,z=y.dayColumnWrapper||ja;return g.createElement(z,{ref:this.containerRef,date:s,style:k,className:X(T,"rbc-day-slot","rbc-time-column",i&&"rbc-now",i&&"rbc-today",E&&"rbc-slot-selecting"),slotMetrics:b},b.groups.map(function(L,H){return g.createElement(tn,{key:H,group:L,resource:c,getters:h,components:y})}),g.createElement(p,{localizer:d,resource:c,accessors:u,getters:h,components:y,slotMetrics:b},g.createElement("div",{className:X("rbc-events-container",o&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),E&&g.createElement("div",{className:"rbc-slot-selection",style:{top:w,height:O}},g.createElement("span",null,d.format(x,"selectRangeFormat"))),i&&this.intervalTriggered&&g.createElement("div",{className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}}))}}]),n}(g.Component);rn.defaultProps={dragThroughEvents:!0,timeslots:2};function Ka(r){var a=r.min,n=r.max,e=r.localizer;return e.getTimezoneOffset(a)!==e.getTimezoneOffset(n)?{start:e.add(a,-1,"day"),end:e.add(n,-1,"day")}:{start:a,end:n}}var Xa=function(a){var n=a.min,e=a.max,t=a.timeslots,s=a.step,l=a.localizer,o=a.getNow,i=a.resource,c=a.components,u=a.getters,d=a.gutterRef,v=c.timeGutterWrapper,f=F.useMemo(function(){return Ka({min:n,max:e,localizer:l})},[n==null?void 0:n.toISOString(),e==null?void 0:e.toISOString(),l]),h=f.start,m=f.end,p=F.useState(er({min:h,max:m,timeslots:t,step:s,localizer:l})),y=fe(p,2),b=y[0],D=y[1];F.useEffect(function(){b&&D(b.update({min:h,max:m,timeslots:t,step:s,localizer:l}))},[h==null?void 0:h.toISOString(),m==null?void 0:m.toISOString(),t,s]);var E=F.useCallback(function(w,O){if(O)return null;var R=b.dateIsInGroup(o(),O);return g.createElement("span",{className:X("rbc-label",R&&"rbc-now")},l.format(w,"timeGutterFormat"))},[b,l,o]);return g.createElement(v,{slotMetrics:b},g.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:d},b.groups.map(function(w,O){return g.createElement(tn,{key:O,group:w,resource:i,components:c,renderSlot:E,getters:u})})))},Va=g.forwardRef(function(r,a){return g.createElement(Xa,Object.assign({gutterRef:a},r))}),Ga=function(a){var n=a.label;return g.createElement(g.Fragment,null,n)},Ua=function(r){te(n,r);var a=re(n);function n(){var e;G(this,n);for(var t=arguments.length,s=new Array(t),l=0;l<t;l++)s[l]=arguments[l];return e=a.call.apply(a,[this].concat(s)),e.handleHeaderClick=function(o,i,c){c.preventDefault(),Y(e.props.onDrillDown,[o,i])},e.renderRow=function(o){var i=e.props,c=i.events,u=i.rtl,d=i.selectable,v=i.getNow,f=i.range,h=i.getters,m=i.localizer,p=i.accessors,y=i.components,b=i.resizable,D=p.resourceId(o),E=o?c.filter(function(w){return p.resource(w)===D}):c;return g.createElement(pt,{isAllDay:!0,rtl:u,getNow:v,minRows:2,maxRows:e.props.allDayMaxRows+1,range:f,events:E,resourceId:D,className:"rbc-allday-cell",selectable:d,selected:e.props.selected,components:y,accessors:p,getters:h,localizer:m,onSelect:e.props.onSelectEvent,onShowMore:e.props.onShowMore,onDoubleClick:e.props.onDoubleClickEvent,onKeyPress:e.props.onKeyPressEvent,onSelectSlot:e.props.onSelectSlot,longPressThreshold:e.props.longPressThreshold,resizable:b})},e}return U(n,[{key:"renderHeaderCells",value:function(t){var s=this,l=this.props,o=l.localizer,i=l.getDrilldownView,c=l.getNow,u=l.getters.dayProp,d=l.components.header,v=d===void 0?Jr:d,f=c();return t.map(function(h,m){var p=i(h),y=o.format(h,"dayFormat"),b=u(h),D=b.className,E=b.style,w=g.createElement(v,{date:h,label:y,localizer:o});return g.createElement("div",{key:m,style:E,className:X("rbc-header",D,o.isSameDate(h,f)&&"rbc-today")},p?g.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(R){return s.handleHeaderClick(h,p,R)}},w):g.createElement("span",null,w))})}},{key:"render",value:function(){var t=this,s=this.props,l=s.width,o=s.rtl,i=s.resources,c=s.range,u=s.events,d=s.getNow,v=s.accessors,f=s.selectable,h=s.components,m=s.getters,p=s.scrollRef,y=s.localizer,b=s.isOverflowing,D=s.components,E=D.timeGutterHeader,w=D.resourceHeader,O=w===void 0?Ga:w,R=s.resizable,M={};b&&(M[o?"marginLeft":"marginRight"]="".concat(Nr()-1,"px"));var x=i.groupEvents(u);return g.createElement("div",{style:M,ref:p,className:X("rbc-time-header",b&&"rbc-overflowing")},g.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:l,minWidth:l,maxWidth:l}},E&&g.createElement(E,null)),i.map(function($,T){var k=fe($,2),z=k[0],L=k[1];return g.createElement("div",{className:"rbc-time-header-content",key:z||T},L&&g.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(T)},g.createElement("div",{className:"rbc-header"},g.createElement(O,{index:T,label:v.resourceTitle(L),resource:L}))),g.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(c.length<=1?" rbc-time-header-cell-single-day":"")},t.renderHeaderCells(c)),g.createElement(pt,{isAllDay:!0,rtl:o,getNow:d,minRows:2,maxRows:t.props.allDayMaxRows+1,range:c,events:x.get(z)||[],resourceId:L&&z,className:"rbc-allday-cell",selectable:f,selected:t.props.selected,components:h,accessors:v,getters:m,localizer:y,onSelect:t.props.onSelectEvent,onShowMore:t.props.onShowMore,onDoubleClick:t.props.onDoubleClickEvent,onKeyPress:t.props.onKeyPressEvent,onSelectSlot:t.props.onSelectSlot,longPressThreshold:t.props.longPressThreshold,resizable:R}))}))}}]),n}(g.Component),Nt={};function Za(r,a){return{map:function(e){return r?r.map(function(t,s){return e([a.resourceId(t),t],s)}):[e([Nt,null],0)]},groupEvents:function(e){var t=new Map;return r?(e.forEach(function(s){var l=a.resource(s)||Nt;if(Array.isArray(l))l.forEach(function(i){var c=t.get(i)||[];c.push(s),t.set(i,c)});else{var o=t.get(l)||[];o.push(s),t.set(l,o)}}),t):(t.set(Nt,e),t)}}}var Ge=function(r){te(n,r);var a=re(n);function n(e){var t;return G(this,n),t=a.call(this,e),t.handleScroll=function(s){t.scrollRef.current&&(t.scrollRef.current.scrollLeft=s.target.scrollLeft)},t.handleResize=function(){or(t.rafHandle),t.rafHandle=xr(t.checkOverflow)},t.handleKeyPressEvent=function(){t.clearSelection();for(var s=arguments.length,l=new Array(s),o=0;o<s;o++)l[o]=arguments[o];Y(t.props.onKeyPressEvent,l)},t.handleSelectEvent=function(){t.clearSelection();for(var s=arguments.length,l=new Array(s),o=0;o<s;o++)l[o]=arguments[o];Y(t.props.onSelectEvent,l)},t.handleDoubleClickEvent=function(){t.clearSelection();for(var s=arguments.length,l=new Array(s),o=0;o<s;o++)l[o]=arguments[o];Y(t.props.onDoubleClickEvent,l)},t.handleShowMore=function(s,l,o,i,c){var u=t.props,d=u.popup,v=u.onDrillDown,f=u.onShowMore,h=u.getDrilldownView,m=u.doShowMoreDrillDown;if(t.clearSelection(),d){var p=Pr(o,t.containerRef.current);t.setState({overlay:{date:l,events:s,position:I(I({},p),{},{width:"200px"}),target:c}})}else m&&Y(v,[l,h(l)||ee.DAY]);Y(f,[s,l,i])},t.handleSelectAllDaySlot=function(s,l){var o=t.props.onSelectSlot,i=new Date(s[0]),c=new Date(s[s.length-1]);c.setDate(s[s.length-1].getDate()+1),Y(o,{slots:s,start:i,end:c,action:l.action,resourceId:l.resourceId})},t.overlayDisplay=function(){t.setState({overlay:null})},t.checkOverflow=function(){if(!t._updatingOverflow){var s=t.contentRef.current;if(s!=null&&s.scrollHeight){var l=s.scrollHeight>s.clientHeight;t.state.isOverflowing!==l&&(t._updatingOverflow=!0,t.setState({isOverflowing:l},function(){t._updatingOverflow=!1}))}}},t.memoizedResources=Lr(function(s,l){return Za(s,l)}),t.state={gutterWidth:void 0,isOverflowing:null},t.scrollRef=g.createRef(),t.contentRef=g.createRef(),t.containerRef=g.createRef(),t._scrollRatio=null,t.gutterRef=F.createRef(),t}return U(n,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),or(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderEvents",value:function(t,s,l,o){var i=this,c=this.props,u=c.min,d=c.max,v=c.components,f=c.accessors,h=c.localizer,m=c.dayLayoutAlgorithm,p=this.memoizedResources(this.props.resources,f),y=p.groupEvents(s),b=p.groupEvents(l);return p.map(function(D,E){var w=fe(D,2),O=w[0],R=w[1];return t.map(function(M,x){var $=(y.get(O)||[]).filter(function(k){return h.inRange(M,f.start(k),f.end(k),"day")}),T=(b.get(O)||[]).filter(function(k){return h.inRange(M,f.start(k),f.end(k),"day")});return g.createElement(rn,Object.assign({},i.props,{localizer:h,min:h.merge(M,u),max:h.merge(M,d),resource:R&&O,components:v,isNow:h.isSameDate(M,o),key:E+"-"+x,date:M,events:$,backgroundEvents:T,dayLayoutAlgorithm:m}))})})}},{key:"render",value:function(){var t,s=this.props,l=s.events,o=s.backgroundEvents,i=s.range,c=s.width,u=s.rtl,d=s.selected,v=s.getNow,f=s.resources,h=s.components,m=s.accessors,p=s.getters,y=s.localizer,b=s.min,D=s.max,E=s.showMultiDayTimes,w=s.longPressThreshold,O=s.resizable;c=c||this.state.gutterWidth;var R=i[0],M=i[i.length-1];this.slots=i.length;var x=[],$=[],T=[];return l.forEach(function(k){if(tt(k,R,M,m,y)){var z=m.start(k),L=m.end(k);m.allDay(k)||y.startAndEndAreDateOnly(z,L)||!E&&!y.isSameDate(z,L)?x.push(k):$.push(k)}}),o.forEach(function(k){tt(k,R,M,m,y)&&T.push(k)}),x.sort(function(k,z){return Vr(k,z,m,y)}),g.createElement("div",{className:X("rbc-time-view",f&&"rbc-time-view-resources"),ref:this.containerRef},g.createElement(Ua,{range:i,events:x,width:c,rtl:u,getNow:v,localizer:y,selected:d,allDayMaxRows:this.props.showAllEvents?1/0:(t=this.props.allDayMaxRows)!==null&&t!==void 0?t:1/0,resources:this.memoizedResources(f,m),selectable:this.props.selectable,accessors:m,getters:p,components:h,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:w,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:O}),this.props.popup&&this.renderOverlay(),g.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},g.createElement(Va,{date:R,ref:this.gutterRef,localizer:y,min:y.merge(R,b),max:y.merge(R,D),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:h,className:"rbc-time-gutter",getters:p}),this.renderEvents(i,$,T,v())))}},{key:"renderOverlay",value:function(){var t,s,l=this,o=(t=(s=this.state)===null||s===void 0?void 0:s.overlay)!==null&&t!==void 0?t:{},i=this.props,c=i.accessors,u=i.localizer,d=i.components,v=i.getters,f=i.selected,h=i.popupOffset,m=i.handleDragStart,p=function(){return l.setState({overlay:null})};return g.createElement(Qt,{overlay:o,accessors:c,localizer:u,components:d,getters:v,selected:f,popupOffset:h,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:m,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:p})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var t=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var s,l=(s=t.gutterRef)!==null&&s!==void 0&&s.current?qt(t.gutterRef.current):void 0;l&&t.state.gutterWidth!==l&&t.setState({gutterWidth:l})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var t=this.contentRef.current;t.scrollTop=t.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,s=t.min,l=t.max,o=t.scrollToTime,i=t.localizer,c=i.diff(i.merge(o,s),o,"milliseconds"),u=i.diff(s,l,"milliseconds");this._scrollRatio=c/u}}]),n}(F.Component);Ge.defaultProps={step:30,timeslots:2};var Ja=["date","localizer","min","max","scrollToTime","enableAutoScroll"],wt=function(r){te(n,r);var a=re(n);function n(){return G(this,n),a.apply(this,arguments)}return U(n,[{key:"render",value:function(){var t=this.props,s=t.date,l=t.localizer,o=t.min,i=o===void 0?l.startOf(new Date,"day"):o,c=t.max,u=c===void 0?l.endOf(new Date,"day"):c,d=t.scrollToTime,v=d===void 0?l.startOf(new Date,"day"):d,f=t.enableAutoScroll,h=f===void 0?!0:f,m=de(t,Ja),p=n.range(s,{localizer:l});return g.createElement(Ge,Object.assign({},m,{range:p,eventOffset:10,localizer:l,min:i,max:u,scrollToTime:v,enableAutoScroll:h}))}}]),n}(g.Component);wt.range=function(r,a){var n=a.localizer;return[n.startOf(r,"day")]};wt.navigate=function(r,a,n){var e=n.localizer;switch(a){case ae.PREVIOUS:return e.add(r,-1,"day");case ae.NEXT:return e.add(r,1,"day");default:return r}};wt.title=function(r,a){var n=a.localizer;return n.format(r,"dayHeaderFormat")};var Qa=["date","localizer","min","max","scrollToTime","enableAutoScroll"],De=function(r){te(n,r);var a=re(n);function n(){return G(this,n),a.apply(this,arguments)}return U(n,[{key:"render",value:function(){var t=this.props,s=t.date,l=t.localizer,o=t.min,i=o===void 0?l.startOf(new Date,"day"):o,c=t.max,u=c===void 0?l.endOf(new Date,"day"):c,d=t.scrollToTime,v=d===void 0?l.startOf(new Date,"day"):d,f=t.enableAutoScroll,h=f===void 0?!0:f,m=de(t,Qa),p=n.range(s,this.props);return g.createElement(Ge,Object.assign({},m,{range:p,eventOffset:15,localizer:l,min:i,max:u,scrollToTime:v,enableAutoScroll:h}))}}]),n}(g.Component);De.defaultProps=Ge.defaultProps;De.navigate=function(r,a,n){var e=n.localizer;switch(a){case ae.PREVIOUS:return e.add(r,-1,"week");case ae.NEXT:return e.add(r,1,"week");default:return r}};De.range=function(r,a){var n=a.localizer,e=n.startOfWeek(),t=n.startOf(r,"week",e),s=n.endOf(r,"week",e);return n.range(t,s)};De.title=function(r,a){var n=a.localizer,e=De.range(r,{localizer:n}),t=Cr(e),s=t[0],l=t.slice(1);return n.format({start:s,end:l.pop()},"dayRangeHeaderFormat")};var es=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function tr(r,a){return De.range(r,a).filter(function(n){return[6,0].indexOf(n.getDay())===-1})}var at=function(r){te(n,r);var a=re(n);function n(){return G(this,n),a.apply(this,arguments)}return U(n,[{key:"render",value:function(){var t=this.props,s=t.date,l=t.localizer,o=t.min,i=o===void 0?l.startOf(new Date,"day"):o,c=t.max,u=c===void 0?l.endOf(new Date,"day"):c,d=t.scrollToTime,v=d===void 0?l.startOf(new Date,"day"):d,f=t.enableAutoScroll,h=f===void 0?!0:f,m=de(t,es),p=tr(s,this.props);return g.createElement(Ge,Object.assign({},m,{range:p,eventOffset:15,localizer:l,min:i,max:u,scrollToTime:v,enableAutoScroll:h}))}}]),n}(g.Component);at.defaultProps=Ge.defaultProps;at.range=tr;at.navigate=De.navigate;at.title=function(r,a){var n=a.localizer,e=tr(r,{localizer:n}),t=Cr(e),s=t[0],l=t.slice(1);return n.format({start:s,end:l.pop()},"dayRangeHeaderFormat")};function Ee(r){var a=r.accessors,n=r.components,e=r.date,t=r.events,s=r.getters,l=r.length,o=r.localizer,i=r.onDoubleClickEvent,c=r.onSelectEvent,u=r.selected,d=F.useRef(null),v=F.useRef(null),f=F.useRef(null),h=F.useRef(null),m=F.useRef(null);F.useEffect(function(){b()});var p=function(R,M,x){var $=n.event,T=n.date;return M=M.filter(function(k){return tt(k,o.startOf(R,"day"),o.endOf(R,"day"),a,o)}),M.map(function(k,z){var L=a.title(k),H=a.end(k),j=a.start(k),V=s.eventProp(k,j,H,Dt(k,u)),q=z===0&&o.format(R,"agendaDateFormat"),ke=z===0?g.createElement("td",{rowSpan:M.length,className:"rbc-agenda-date-cell"},T?g.createElement(T,{day:R,label:q}):q):!1;return g.createElement("tr",{key:x+"_"+z,className:V.className,style:V.style},ke,g.createElement("td",{className:"rbc-agenda-time-cell"},y(R,k)),g.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(_){return c&&c(k,_)},onDoubleClick:function(_){return i&&i(k,_)}},$?g.createElement($,{event:k,title:L}):L))},[])},y=function(R,M){var x="",$=n.time,T=o.messages.allDay,k=a.end(M),z=a.start(M);return a.allDay(M)||(o.eq(z,k)?T=o.format(z,"agendaTimeFormat"):o.isSameDate(z,k)?T=o.format({start:z,end:k},"agendaTimeRangeFormat"):o.isSameDate(R,z)?T=o.format(z,"agendaTimeFormat"):o.isSameDate(R,k)&&(T=o.format(k,"agendaTimeFormat"))),o.gt(R,z,"day")&&(x="rbc-continues-prior"),o.lt(R,k,"day")&&(x+=" rbc-continues-after"),g.createElement("span",{className:x.trim()},$?g.createElement($,{event:M,day:R,label:T}):T)},b=function(){if(m.current){var R=d.current,M=m.current.firstChild;if(M){var x=h.current.scrollHeight>h.current.clientHeight,$=[],T=$;$=[qt(M.children[0]),qt(M.children[1])],(T[0]!==$[0]||T[1]!==$[1])&&(v.current.style.width=$[0]+"px",f.current.style.width=$[1]+"px"),x?(Fn(R,"rbc-header-overflowing"),R.style.marginRight=Nr()+"px"):In(R,"rbc-header-overflowing")}}},D=o.messages,E=o.add(e,l,"day"),w=o.range(e,E,"day");return t=t.filter(function(O){return tt(O,o.startOf(e,"day"),o.endOf(E,"day"),a,o)}),t.sort(function(O,R){return+a.start(O)-+a.start(R)}),g.createElement("div",{className:"rbc-agenda-view"},t.length!==0?g.createElement(g.Fragment,null,g.createElement("table",{ref:d,className:"rbc-agenda-table"},g.createElement("thead",null,g.createElement("tr",null,g.createElement("th",{className:"rbc-header",ref:v},D.date),g.createElement("th",{className:"rbc-header",ref:f},D.time),g.createElement("th",{className:"rbc-header"},D.event)))),g.createElement("div",{className:"rbc-agenda-content",ref:h},g.createElement("table",{className:"rbc-agenda-table"},g.createElement("tbody",{ref:m},w.map(function(O,R){return p(O,t,R)}))))):g.createElement("span",{className:"rbc-agenda-empty"},D.noEventsInRange))}Ee.defaultProps={length:30};Ee.range=function(r,a){var n=a.length,e=n===void 0?Ee.defaultProps.length:n,t=a.localizer,s=t.add(r,e,"day");return{start:r,end:s}};Ee.navigate=function(r,a,n){var e=n.length,t=e===void 0?Ee.defaultProps.length:e,s=n.localizer;switch(a){case ae.PREVIOUS:return s.add(r,-t,"day");case ae.NEXT:return s.add(r,t,"day");default:return r}};Ee.title=function(r,a){var n=a.length,e=n===void 0?Ee.defaultProps.length:n,t=a.localizer,s=t.add(r,e,"day");return t.format({start:r,end:s},"agendaHeaderFormat")};var Te,dt=(Te={},ze(Te,ee.MONTH,Et),ze(Te,ee.WEEK,De),ze(Te,ee.WORK_WEEK,at),ze(Te,ee.DAY,wt),ze(Te,ee.AGENDA,Ee),Te),ts=["action","date","today"];function rs(r,a){var n=a.action,e=a.date,t=a.today,s=de(a,ts);switch(r=typeof r=="string"?dt[r]:r,n){case ae.TODAY:e=t||new Date;break;case ae.DATE:break;default:ft(r&&typeof r.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),e=r.navigate(e,n,s)}return e}var ns=function(r){te(n,r);var a=re(n);function n(){var e;G(this,n);for(var t=arguments.length,s=new Array(t),l=0;l<t;l++)s[l]=arguments[l];return e=a.call.apply(a,[this].concat(s)),e.navigate=function(o){e.props.onNavigate(o)},e.view=function(o){e.props.onView(o)},e}return U(n,[{key:"render",value:function(){var t=this.props,s=t.localizer.messages,l=t.label;return g.createElement("div",{className:"rbc-toolbar"},g.createElement("span",{className:"rbc-btn-group"},g.createElement("button",{type:"button",onClick:this.navigate.bind(null,ae.TODAY)},s.today),g.createElement("button",{type:"button",onClick:this.navigate.bind(null,ae.PREVIOUS)},s.previous),g.createElement("button",{type:"button",onClick:this.navigate.bind(null,ae.NEXT)},s.next)),g.createElement("span",{className:"rbc-toolbar-label"},l),g.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(s)))}},{key:"viewNamesGroup",value:function(t){var s=this,l=this.props.views,o=this.props.view;if(l.length>1)return l.map(function(i){return g.createElement("button",{type:"button",key:i,className:X({"rbc-active":o===i}),onClick:s.view.bind(null,i)},t[i])})}}]),n}(g.Component);function as(r,a){var n=null;return typeof a=="function"?n=a(r):typeof a=="string"&&Vt(r)==="object"&&r!=null&&a in r&&(n=r[a]),n}var me=function(a){return function(n){return as(n,a)}},ss=["view","date","getNow","onNavigate"],os=["view","toolbar","events","backgroundEvents","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function nn(r){if(Array.isArray(r))return r;for(var a=[],n=0,e=Object.entries(r);n<e.length;n++){var t=fe(e[n],2),s=t[0],l=t[1];l&&a.push(s)}return a}function is(r,a){var n=a.views,e=nn(n);return e.indexOf(r)!==-1}var an=function(r){te(n,r);var a=re(n);function n(){var e;G(this,n);for(var t=arguments.length,s=new Array(t),l=0;l<t;l++)s[l]=arguments[l];return e=a.call.apply(a,[this].concat(s)),e.getViews=function(){var o=e.props.views;return Array.isArray(o)?An(o,function(i,c){return i[c]=dt[c]},{}):Vt(o)==="object"?$n(o,function(i,c){return i===!0?dt[c]:i}):dt},e.getView=function(){var o=e.getViews();return o[e.props.view]},e.getDrilldownView=function(o){var i=e.props,c=i.view,u=i.drilldownView,d=i.getDrilldownView;return d?d(o,c,Object.keys(e.getViews())):u},e.handleRangeChange=function(o,i,c){var u=e.props,d=u.onRangeChange,v=u.localizer;d&&i.range&&d(i.range(o,{localizer:v}),c)},e.handleNavigate=function(o,i){var c=e.props,u=c.view,d=c.date,v=c.getNow,f=c.onNavigate,h=de(c,ss),m=e.getView(),p=v();d=rs(m,I(I({},h),{},{action:o,date:i||d||p,today:p})),f(d,u,o),e.handleRangeChange(d,m)},e.handleViewChange=function(o){o!==e.props.view&&is(o,e.props)&&e.props.onView(o);var i=e.getViews();e.handleRangeChange(e.props.date||e.props.getNow(),i[o],o)},e.handleSelectEvent=function(){for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];Y(e.props.onSelectEvent,i)},e.handleDoubleClickEvent=function(){for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];Y(e.props.onDoubleClickEvent,i)},e.handleKeyPressEvent=function(){for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];Y(e.props.onKeyPressEvent,i)},e.handleSelectSlot=function(o){Y(e.props.onSelectSlot,o)},e.handleDrillDown=function(o,i){var c=e.props.onDrillDown;if(c){c(o,i,e.drilldownView);return}i&&e.handleViewChange(i),e.handleNavigate(ae.DATE,o)},e.state={context:n.getContext(e.props)},e}return U(n,[{key:"render",value:function(){var t=this.props,s=t.view,l=t.toolbar,o=t.events,i=t.backgroundEvents,c=t.style,u=t.className,d=t.elementProps,v=t.date,f=t.getNow,h=t.length,m=t.showMultiDayTimes,p=t.onShowMore,y=t.doShowMoreDrillDown;t.components,t.formats,t.messages,t.culture;var b=de(t,os);v=v||f();var D=this.getView(),E=this.state.context,w=E.accessors,O=E.components,R=E.getters,M=E.localizer,x=E.viewNames,$=O.toolbar||ns,T=D.title(v,{localizer:M,length:h});return g.createElement("div",Object.assign({},d,{className:X(u,"rbc-calendar",b.rtl&&"rbc-rtl"),style:c}),l&&g.createElement($,{date:v,view:s,views:x,label:T,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:M}),g.createElement(D,Object.assign({},b,{events:o,backgroundEvents:i,date:v,getNow:f,length:h,localizer:M,getters:R,components:O,accessors:w,showMultiDayTimes:m,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:p,doShowMoreDrillDown:y})))}}],[{key:"getDerivedStateFromProps",value:function(t){return{context:n.getContext(t)}}},{key:"getContext",value:function(t){var s=t.startAccessor,l=t.endAccessor,o=t.allDayAccessor,i=t.tooltipAccessor,c=t.titleAccessor,u=t.resourceAccessor,d=t.resourceIdAccessor,v=t.resourceTitleAccessor,f=t.eventPropGetter,h=t.backgroundEventPropGetter,m=t.slotPropGetter,p=t.slotGroupPropGetter,y=t.dayPropGetter,b=t.view,D=t.views,E=t.localizer,w=t.culture,O=t.messages,R=O===void 0?{}:O,M=t.components,x=M===void 0?{}:M,$=t.formats,T=$===void 0?{}:$,k=nn(D),z=va(R);return{viewNames:k,localizer:ua(E,w,T,z),getters:{eventProp:function(){return f&&f.apply(void 0,arguments)||{}},backgroundEventProp:function(){return h&&h.apply(void 0,arguments)||{}},slotProp:function(){return m&&m.apply(void 0,arguments)||{}},slotGroupProp:function(){return p&&p.apply(void 0,arguments)||{}},dayProp:function(){return y&&y.apply(void 0,arguments)||{}}},components:Tn(x[b]||{},Pn(x,k),{eventWrapper:ve,backgroundEventWrapper:ve,eventContainerWrapper:ve,dateCellWrapper:ve,weekWrapper:ve,timeSlotWrapper:ve,timeGutterWrapper:ve}),accessors:{start:me(s),end:me(l),allDay:me(o),tooltip:me(i),title:me(c),resource:me(u),resourceId:me(d),resourceTitle:me(v)}}}}]),n}(g.Component);an.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:ee.MONTH,views:[ee.MONTH,ee.WEEK,ee.DAY,ee.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:ee.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var ki=_n(an,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),ls=function(a,n,e){var t=a.start,s=a.end;return e.format(t,"MMMM DD",n)+" – "+e.format(s,e.eq(t,s,"month")?"DD":"MMMM DD",n)},cs=function(a,n,e){var t=a.start,s=a.end;return e.format(t,"L",n)+" – "+e.format(s,"L",n)},zt=function(a,n,e){var t=a.start,s=a.end;return e.format(t,"LT",n)+" – "+e.format(s,"LT",n)},us=function(a,n,e){var t=a.start;return e.format(t,"LT",n)+" – "},ds=function(a,n,e){var t=a.end;return" – "+e.format(t,"LT",n)},vs={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:zt,eventTimeRangeFormat:zt,eventTimeRangeStartFormat:us,eventTimeRangeEndFormat:ds,timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:ls,agendaHeaderFormat:cs,agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:zt};function pe(r){var a=r&&r.toLowerCase();return a==="FullYear"?a="year":a||(a=void 0),a}function Ai(r){var a=function(_,C){return C?_.locale(C):_};function n(S){return r(S).toDate().getTimezoneOffset()}function e(S,_){var C,P,N=r(S).local(),W=r(_).local();if(!r.tz)return N.toDate().getTimezoneOffset()-W.toDate().getTimezoneOffset();var B=(C=N==null||(P=N._z)===null||P===void 0?void 0:P.name)!==null&&C!==void 0?C:r.tz.guess(),K=r.tz.zone(B).utcOffset(+N),Ae=r.tz.zone(B).utcOffset(+W);return K-Ae}function t(S){var _=r(S).startOf("day");return e(_,S)}function s(S,_,C){var P=pe(C),N=P?r(S).startOf(P):r(S),W=P?r(_).startOf(P):r(_);return[N,W,P]}function l(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,_=arguments.length>1?arguments[1]:void 0,C=pe(_);return C?r(S).startOf(C).toDate():r(S).toDate()}function o(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,_=arguments.length>1?arguments[1]:void 0,C=pe(_);return C?r(S).endOf(C).toDate():r(S).toDate()}function i(S,_,C){var P=s(S,_,C),N=fe(P,3),W=N[0],B=N[1],K=N[2];return W.isSame(B,K)}function c(S,_,C){return!i(S,_,C)}function u(S,_,C){var P=s(S,_,C),N=fe(P,3),W=N[0],B=N[1],K=N[2];return W.isAfter(B,K)}function d(S,_,C){var P=s(S,_,C),N=fe(P,3),W=N[0],B=N[1],K=N[2];return W.isBefore(B,K)}function v(S,_,C){var P=s(S,_,C),N=fe(P,3),W=N[0],B=N[1],K=N[2];return W.isSameOrBefore(B,K)}function f(S,_,C){var P=s(S,_,C),N=fe(P,3),W=N[0],B=N[1],K=N[2];return W.isSameOrBefore(B,K)}function h(S,_,C){var P=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"day",N=pe(P),W=r(S),B=r(_),K=r(C);return W.isBetween(B,K,N,"[]")}function m(S,_){var C=r(S),P=r(_),N=r.min(C,P);return N.toDate()}function p(S,_){var C=r(S),P=r(_),N=r.max(C,P);return N.toDate()}function y(S,_){if(!S&&!_)return null;var C=r(_).format("HH:mm:ss"),P=r(S).startOf("day").format("MM/DD/YYYY");return r("".concat(P," ").concat(C),"MM/DD/YYYY HH:mm:ss").toDate()}function b(S,_,C){var P=pe(C);return r(S).add(_,P).toDate()}function D(S,_){for(var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",P=pe(C),N=r(S).toDate(),W=[];f(N,_);)W.push(N),N=b(N,1,P);return W}function E(S,_){var C=pe(_),P=l(S,C);return i(P,S)?P:b(P,1,C)}function w(S,_){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",P=pe(C),N=r(S),W=r(_);return W.diff(N,P)}function O(S){var _=r(S);return _.minutes()}function R(S){var _=S?r.localeData(S):r.localeData();return _?_.firstDayOfWeek():0}function M(S){return r(S).startOf("month").startOf("week").toDate()}function x(S){return r(S).endOf("month").endOf("week").toDate()}function $(S){for(var _=M(S),C=x(S),P=[];f(_,C);)P.push(_),_=b(_,1,"d");return P}function T(S,_,C){return r(S).startOf("day").minute(_+C).toDate()}function k(S,_){return w(S,_,"minutes")}function z(S){var _=r(S).startOf("day"),C=r(S);return C.diff(_,"minutes")+t(S)}function L(S,_){var C=r(S),P=r(_);return C.isBefore(P,"day")}function H(S,_,C){var P=r(_),N=r(C);return P.isSameOrAfter(N,"minutes")}function j(S){var _=S.evtA,C=_.start,P=_.end,N=_.allDay,W=S.evtB,B=W.start,K=W.end,Ae=W.allDay,st=+l(C,"day")-+l(B,"day"),$t=w(C,E(P,"day"),"day"),Tt=w(B,E(K,"day"),"day");return st||Math.max(Tt,1)-Math.max($t,1)||!!Ae-!!N||+C-+B||+P-+K}function V(S){var _=S.event,C=_.start,P=_.end,N=S.range,W=N.start,B=N.end,K=r(C).startOf("day"),Ae=r(P),st=r(W),$t=r(B),Tt=K.isSameOrBefore($t,"day"),yn=!K.isSame(Ae,"minutes"),bn=yn?Ae.isAfter(st,"minutes"):Ae.isSameOrAfter(st,"minutes");return Tt&&bn}function q(S,_){var C=r(S),P=r(_);return C.isSame(P,"day")}function ke(){var S=new Date,_=/-/.test(S.toString())?"-":"",C=S.getTimezoneOffset(),P=Number("".concat(_).concat(Math.abs(C))),N=r().utcOffset();return N>P?1:0}return new ca({formats:vs,firstOfWeek:R,firstVisibleDay:M,lastVisibleDay:x,visibleDays:$,format:function(_,C,P){return a(r(_),P).format(C)},lt:d,lte:f,gt:u,gte:v,eq:i,neq:c,merge:y,inRange:h,startOf:l,endOf:o,range:D,add:b,diff:w,ceil:E,min:m,max:p,minutes:O,getSlotDate:T,getTimezoneOffset:n,getDstOffset:e,getTotalMin:k,getMinutesFromMidnight:z,continuesPrior:L,continuesAfter:H,sortEvents:j,inEventRange:V,isSameDate:q,browserTZOffset:ke})}var rr={},nr={},se={},Ke={};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.views=Ke.navigate=void 0;var fs={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"};Ke.navigate=fs;var hs={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"};Ke.views=hs;var ms=Q.default;Object.defineProperty(se,"__esModule",{value:!0});se.views=se.dateRangeFormat=se.dateFormat=se.accessor=se.DayLayoutAlgorithmPropType=void 0;var ne=ms(Ar),pr=Ke,gr=Object.keys(pr.views).map(function(r){return pr.views[r]}),ps=ne.default.oneOfType([ne.default.string,ne.default.func]);se.accessor=ps;var gs=ne.default.any;se.dateFormat=gs;var ys=ne.default.func;se.dateRangeFormat=ys;var bs=ne.default.oneOfType([ne.default.arrayOf(ne.default.oneOf(gr)),ne.default.objectOf(function(r,a){var n=gr.indexOf(a)!==-1&&typeof r[a]=="boolean";if(n)return null;for(var e=arguments.length,t=new Array(e>2?e-2:0),s=2;s<e;s++)t[s-2]=arguments[s];return ne.default.elementType.apply(ne.default,[r,a].concat(t))})]);se.views=bs;var Ds=ne.default.oneOfType([ne.default.oneOf(["overlap","no-overlap"]),ne.default.func]);se.DayLayoutAlgorithmPropType=Ds;var St={},Ue={},Es=Q.default;Object.defineProperty(Ue,"__esModule",{value:!0});Ue.accessor=sn;Ue.wrapAccessor=void 0;var ws=Es(Mr);function sn(r,a){var n=null;return typeof a=="function"?n=a(r):typeof a=="string"&&(0,ws.default)(r)==="object"&&r!=null&&a in r&&(n=r[a]),n}var Ss=function(a){return function(n){return sn(n,a)}};Ue.wrapAccessor=Ss;var We={},_s=Q.default;Object.defineProperty(We,"__esModule",{value:!0});We.DnDContext=void 0;var Os=_s(F),Rs=Os.default.createContext();We.DnDContext=Rs;var He=Q.default;Object.defineProperty(St,"__esModule",{value:!0});St.default=void 0;var Cs=He(we),Ms=He(Fe),ks=He(Ie),As=He(Xe),$s=He(Ve),je=He(F),yr=He(nt),br=Ue,Ts=We,on=function(r){(0,As.default)(n,r);var a=(0,$s.default)(n);function n(){var e;(0,Ms.default)(this,n);for(var t=arguments.length,s=new Array(t),l=0;l<t;l++)s[l]=arguments[l];return e=a.call.apply(a,[this].concat(s)),e.handleResizeUp=function(o){o.button===0&&e.context.draggable.onBeginAction(e.props.event,"resize","UP")},e.handleResizeDown=function(o){o.button===0&&e.context.draggable.onBeginAction(e.props.event,"resize","DOWN")},e.handleResizeLeft=function(o){o.button===0&&e.context.draggable.onBeginAction(e.props.event,"resize","LEFT")},e.handleResizeRight=function(o){o.button===0&&e.context.draggable.onBeginAction(e.props.event,"resize","RIGHT")},e.handleStartDragging=function(o){var i;if(o.button===0){var c=(i=o.target.getAttribute("class"))===null||i===void 0?void 0:i.includes("rbc-addons-dnd-resize");if(!c){var u=(0,Cs.default)({},e.props.event);u.sourceResource=e.props.resource,e.context.draggable.onBeginAction(e.props.event,"move")}}},e}return(0,ks.default)(n,[{key:"renderAnchor",value:function(t){var s=t==="Up"||t==="Down"?"ns":"ew";return je.default.createElement("div",{className:"rbc-addons-dnd-resize-".concat(s,"-anchor"),onMouseDown:this["handleResize".concat(t)]},je.default.createElement("div",{className:"rbc-addons-dnd-resize-".concat(s,"-icon")}))}},{key:"render",value:function(){var t=this.props,s=t.event,l=t.type,o=t.continuesPrior,i=t.continuesAfter,c=t.resizable,u=this.props.children;if(s.__isPreview)return je.default.cloneElement(u,{className:(0,yr.default)(u.props.className,"rbc-addons-dnd-drag-preview")});var d=this.context.draggable,v=d.draggableAccessor,f=d.resizableAccessor,h=v?!!(0,br.accessor)(s,v):!0;if(!h)return u;var m=c&&(f?!!(0,br.accessor)(s,f):!0);if(m||h){var p={onMouseDown:this.handleStartDragging,onTouchStart:this.handleStartDragging};if(m){var y=null,b=null;l==="date"?(y=!o&&this.renderAnchor("Left"),b=!i&&this.renderAnchor("Right")):(y=!o&&this.renderAnchor("Up"),b=!i&&this.renderAnchor("Down")),p.children=je.default.createElement("div",{className:"rbc-addons-dnd-resizable"},y,u.props.children,b)}d.dragAndDropAction.interacting&&d.dragAndDropAction.event===s&&(p.className=(0,yr.default)(u.props.className,"rbc-addons-dnd-dragged-event")),u=je.default.cloneElement(u,p)}return u}}]),n}(je.default.Component);on.contextType=Ts.DnDContext;var Ps=on;St.default=Ps;var _t={},ie={},Ze=Q.default;Object.defineProperty(ie,"__esModule",{value:!0});ie.default=void 0;ie.getBoundsForNode=rt;ie.getEventNodeFromPoint=cn;ie.getShowMoreNodeFromPoint=un;ie.isEvent=Is;ie.isShowMore=Ws;ie.objectsCollide=Xt;var xs=Ze(Mr),Ns=Ze(Fe),zs=Ze(Ie),Kt=Ze(Hn),ln=Ze(Yn),Ls=Ze(jn);function J(r,a){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return(0,Ls.default)(n,r,a,{passive:!1})}function Fs(r,a,n){return!r||(0,Kt.default)(r,document.elementFromPoint(a,n))}function cn(r,a){var n=a.clientX,e=a.clientY,t=document.elementFromPoint(n,e);return(0,ln.default)(t,".rbc-event",r)}function un(r,a){var n=a.clientX,e=a.clientY,t=document.elementFromPoint(n,e);return(0,ln.default)(t,".rbc-show-more",r)}function Is(r,a){return!!cn(r,a)}function Ws(r,a){return!!un(r,a)}function qe(r){var a=r;return r.touches&&r.touches.length&&(a=r.touches[0]),{clientX:a.clientX,clientY:a.clientY,pageX:a.pageX,pageY:a.pageY}}var Dr=5,Hs=250,Ys=function(){function r(a){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=n.global,t=e===void 0?!1:e,s=n.longPressThreshold,l=s===void 0?250:s,o=n.validContainers,i=o===void 0?[]:o;(0,Ns.default)(this,r),this.isDetached=!1,this.container=a,this.globalMouse=!a||t,this.longPressThreshold=l,this.validContainers=i,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=J("touchmove",function(){},window),this._removeKeyDownListener=J("keydown",this._keyListener),this._removeKeyUpListener=J("keyup",this._keyListener),this._removeDropFromOutsideListener=J("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=J("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return(0,zs.default)(r,[{key:"on",value:function(n,e){var t=this._listeners[n]||(this._listeners[n]=[]);return t.push(e),{remove:function(){var l=t.indexOf(e);l!==-1&&t.splice(l,1)}}}},{key:"emit",value:function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),s=1;s<e;s++)t[s-1]=arguments[s];var l,o=this._listeners[n]||[];return o.forEach(function(i){l===void 0&&(l=i.apply(void 0,t))}),l}},{key:"teardown",value:function(){this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(n){var e=this._selectRect;return!e||!this.selecting?!1:Xt(e,rt(n))}},{key:"filter",value:function(n){var e=this._selectRect;return!e||!this.selecting?[]:n.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(n,e){var t=this,s=null,l=null,o=null,i=function(v){s=setTimeout(function(){u(),n(v)},t.longPressThreshold),l=J("touchmove",function(){return u()}),o=J("touchend",function(){return u()})},c=J("touchstart",i),u=function(){s&&clearTimeout(s),l&&l(),o&&o(),s=null,l=null,o=null};return e&&i(e),function(){u(),c()}}},{key:"_addInitialEventListener",value:function(){var n=this,e=J("mousedown",function(s){n._removeInitialEventListener(),n._handleInitialEvent(s),n._removeInitialEventListener=J("mousedown",n._handleInitialEvent)}),t=J("touchstart",function(s){n._removeInitialEventListener(),n._removeInitialEventListener=n._addLongPressListener(n._handleInitialEvent,s)});this._removeInitialEventListener=function(){e(),t()}}},{key:"_dropFromOutsideListener",value:function(n){var e=qe(n),t=e.pageX,s=e.pageY,l=e.clientX,o=e.clientY;this.emit("dropFromOutside",{x:t,y:s,clientX:l,clientY:o}),n.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(n){var e=qe(n),t=e.pageX,s=e.pageY,l=e.clientX,o=e.clientY;this.emit("dragOverFromOutside",{x:t,y:s,clientX:l,clientY:o}),n.preventDefault()}},{key:"_handleInitialEvent",value:function(n){if(!this.isDetached){var e=qe(n),t=e.clientX,s=e.clientY,l=e.pageX,o=e.pageY,i=this.container(),c,u;if(!(n.which===3||n.button===2||!Fs(i,t,s))){if(!this.globalMouse&&i&&!(0,Kt.default)(i,n.target)){var d=js(0),v=d.top,f=d.left,h=d.bottom,m=d.right;if(u=rt(i),c=Xt({top:u.top-v,left:u.left-f,bottom:u.bottom+h,right:u.right+m},{top:o,left:l}),!c)return}var p=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(n.type),x:l,y:o,clientX:t,clientY:s});if(p!==!1)switch(n.type){case"mousedown":this._removeEndListener=J("mouseup",this._handleTerminatingEvent),this._onEscListener=J("keydown",this._handleTerminatingEvent),this._removeMoveListener=J("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(n),this._removeEndListener=J("touchend",this._handleTerminatingEvent),this._removeMoveListener=J("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(n){var e=n.target,t=this.validContainers;return!t||!t.length||!e?!0:t.some(function(s){return!!e.closest(s)})}},{key:"_handleTerminatingEvent",value:function(n){var e=qe(n),t=e.pageX,s=e.pageY;if(this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),!!this._initialEventData){var l=!this.container||(0,Kt.default)(this.container(),n.target),o=this._isWithinValidContainer(n),i=this._selectRect,c=this.isClick(t,s);return this._initialEventData=null,n.key==="Escape"||!o?this.emit("reset"):c&&l?this._handleClickEvent(n):c?this.emit("reset"):this.emit("select",i)}}},{key:"_handleClickEvent",value:function(n){var e=qe(n),t=e.pageX,s=e.pageY,l=e.clientX,o=e.clientY,i=new Date().getTime();return this._lastClickData&&i-this._lastClickData.timestamp<Hs?(this._lastClickData=null,this.emit("doubleClick",{x:t,y:s,clientX:l,clientY:o})):(this._lastClickData={timestamp:i},this.emit("click",{x:t,y:s,clientX:l,clientY:o}))}},{key:"_handleMoveEvent",value:function(n){if(!(this._initialEventData===null||this.isDetached)){var e=this._initialEventData,t=e.x,s=e.y,l=qe(n),o=l.pageX,i=l.pageY,c=Math.abs(t-o),u=Math.abs(s-i),d=Math.min(o,t),v=Math.min(i,s),f=this.selecting;this.isClick(o,i)&&!f&&!(c||u)||(this.selecting=!0,this._selectRect={top:v,left:d,x:o,y:i,right:d+c,bottom:v+u},f||this.emit("selectStart",this._initialEventData),this.isClick(o,i)||this.emit("selecting",this._selectRect),n.preventDefault())}}},{key:"_keyListener",value:function(n){this.ctrl=n.metaKey||n.ctrlKey}},{key:"isClick",value:function(n,e){var t=this._initialEventData,s=t.x,l=t.y,o=t.isTouch;return!o&&Math.abs(n-s)<=Dr&&Math.abs(e-l)<=Dr}}]),r}();function js(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return(0,xs.default)(r)!=="object"&&(r={top:r,left:r,right:r,bottom:r}),r}function Xt(r,a){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,e=rt(r),t=e.top,s=e.left,l=e.right,o=l===void 0?s:l,i=e.bottom,c=i===void 0?t:i,u=rt(a),d=u.top,v=u.left,f=u.right,h=f===void 0?v:f,m=u.bottom,p=m===void 0?d:m;return!(c-n<d||t+n>p||o-n<v||s+n>h)}function rt(r){if(!r.getBoundingClientRect)return r;var a=r.getBoundingClientRect(),n=a.left+Er("left"),e=a.top+Er("top");return{top:e,left:n,right:(r.offsetWidth||0)+n,bottom:(r.offsetHeight||0)+e}}function Er(r){if(r==="left")return window.pageXOffset||document.body.scrollLeft||0;if(r==="top")return window.pageYOffset||document.body.scrollTop||0}var qs=Ys;ie.default=qs;var Ot={},Rt=Q.default;Object.defineProperty(Ot,"__esModule",{value:!0});Ot.default=void 0;var wr=Rt(wn),ot=Rt(we),Bs=Rt(nt),Je=Rt(F);function Pe(r){return typeof r=="string"?r:r+"%"}function Ks(r){var a=r.style,n=r.className,e=r.event,t=r.accessors,s=r.rtl,l=r.selected,o=r.label,i=r.continuesPrior,c=r.continuesAfter,u=r.getters,d=r.onClick,v=r.onDoubleClick,f=r.isBackgroundEvent,h=r.onKeyPress,m=r.components,p=m.event,y=m.eventWrapper,b=t.title(e),D=t.tooltip(e),E=t.end(e),w=t.start(e),O=u.eventProp(e,w,E,l),R=a.height,M=a.top,x=a.width,$=a.xOffset,T=[Je.default.createElement("div",{key:"1",className:"rbc-event-label"},o),Je.default.createElement("div",{key:"2",className:"rbc-event-content"},p?Je.default.createElement(p,{event:e,title:b}):b)],k=f?(0,ot.default)((0,ot.default)({},O.style),{},(0,wr.default)({top:Pe(M),height:Pe(R),width:"calc(".concat(x," + 10px)")},s?"right":"left",Pe(Math.max(0,$)))):(0,ot.default)((0,ot.default)({},O.style),{},(0,wr.default)({top:Pe(M),width:Pe(x),height:Pe(R)},s?"right":"left",Pe($)));return Je.default.createElement(y,Object.assign({type:"time"},r),Je.default.createElement("div",{role:"button",tabIndex:0,onClick:d,onDoubleClick:v,style:k,onKeyPress:h,title:D?(typeof o=="string"?o+": ":"")+D:void 0,className:(0,Bs.default)(f?"rbc-background-event":"rbc-event",n,O.className,{"rbc-selected":l,"rbc-event-continues-earlier":i,"rbc-event-continues-later":c})},T))}var Xs=Ks;Ot.default=Xs;var he={},dn=Q.default;Object.defineProperty(he,"__esModule",{value:!0});he.dragAccessors=void 0;he.eventTimes=ro;he.mergeComponents=eo;he.pointInColumn=to;var Vs=dn(we),Gs=dn(Gt),Sr=Ue,Us=F,Zs=["children"],Js={start:(0,Sr.wrapAccessor)(function(r){return r.start}),end:(0,Sr.wrapAccessor)(function(r){return r.end})};he.dragAccessors=Js;function Qs(){for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];var e=a.filter(Boolean).map(Us.createFactory),t=function(l){var o=l.children,i=(0,Gs.default)(l,Zs);return e.reduceRight(function(c,u){return u(i,c)},o)};return t}function eo(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0,n=Object.keys(a),e=(0,Vs.default)({},r);return n.forEach(function(t){e[t]=r[t]?Qs(r[t],a[t]):a[t]}),e}function to(r,a){var n=r.left,e=r.right,t=r.top,s=a.x,l=a.y;return s<e+10&&s>n&&l>t}function ro(r,a,n){var e=a.start(r),t=a.end(r),s=n.eq(e,t,"minutes")&&n.diff(e,t,"minutes")===0;s&&(t=n.add(t,1,"day"));var l=n.diff(e,t,"milliseconds");return{start:e,end:t,duration:l}}var no=kr.default,Se=Q.default;Object.defineProperty(_t,"__esModule",{value:!0});_t.default=void 0;var ge=Se(we),ao=Se(Fe),so=Se(Ie),oo=Se(Xe),io=Se(Ve),xe=Se(F),lo=We,Lt=Bn,co=Se(qn),ye=no(ie),uo=Se(Ot),Ne=he,vn=function(r){(0,oo.default)(n,r);var a=(0,io.default)(n);function n(){var e;(0,ao.default)(this,n);for(var t=arguments.length,s=new Array(t),l=0;l<t;l++)s[l]=arguments[l];return e=a.call.apply(a,[this].concat(s)),e.handleMove=function(o,i){if(!(0,Ne.pointInColumn)(i,o))return e.reset();var c=e.context.draggable.dragAndDropAction.event,u=e.props,d=u.accessors,v=u.slotMetrics,f=v.closestSlotFromPoint({y:o.y-e.eventOffsetTop,x:o.x},i),h=(0,Ne.eventTimes)(c,d,e.props.localizer),m=h.duration,p=e.props.localizer.add(f,m,"milliseconds");e.update(c,v.getRange(f,p,!1,!0))},e.handleDropFromOutside=function(o,i){var c=e.props,u=c.slotMetrics,d=c.resource,v=u.closestSlotFromPoint({y:o.y,x:o.x},i);e.context.draggable.onDropFromOutside({start:v,end:u.nextSlot(v),allDay:!1,resource:d})},e.updateParentScroll=function(o,i){setTimeout(function(){var c=(0,co.default)(i,".rbc-addons-dnd-drag-preview")[0];c&&(c.offsetTop<o.scrollTop?(0,Lt.scrollTop)(o,Math.max(c.offsetTop,0)):c.offsetTop+c.offsetHeight>o.scrollTop+o.clientHeight&&(0,Lt.scrollTop)(o,Math.min(c.offsetTop-o.offsetHeight+c.offsetHeight,o.scrollHeight)))})},e._selectable=function(){var o=e.ref.current,i=o.children[0],c=!1,u=e._selector=new ye.default(function(){return o.closest(".rbc-time-view")}),d=(0,Lt.scrollParent)(o);u.on("beforeSelect",function(v){var f=e.context.draggable.dragAndDropAction;if(!f.action)return!1;if(f.action==="resize")return(0,Ne.pointInColumn)((0,ye.getBoundsForNode)(i),v);var h=(0,ye.getEventNodeFromPoint)(i,v);if(!h)return!1;e.eventOffsetTop=v.y-(0,ye.getBoundsForNode)(h).top}),u.on("selecting",function(v){var f=(0,ye.getBoundsForNode)(i),h=e.context.draggable.dragAndDropAction;h.action==="move"&&(e.updateParentScroll(d,i),e.handleMove(v,f)),h.action==="resize"&&(e.updateParentScroll(d,i),e.handleResize(v,f))}),u.on("dropFromOutside",function(v){if(e.context.draggable.onDropFromOutside){var f=(0,ye.getBoundsForNode)(i);(0,Ne.pointInColumn)(f,v)&&e.handleDropFromOutside(v,f)}}),u.on("dragOver",function(v){if(e.context.draggable.dragFromOutsideItem){var f=(0,ye.getBoundsForNode)(i);e.handleDropFromOutside(v,f)}}),u.on("selectStart",function(){c=!0,e.context.draggable.onStart()}),u.on("select",function(v){var f=(0,ye.getBoundsForNode)(i);c=!1;var h=e.context.draggable.dragAndDropAction;if(h.action==="resize")e.handleInteractionEnd();else{if(!e.state.event||!(0,Ne.pointInColumn)(f,v))return;e.handleInteractionEnd()}}),u.on("click",function(){c&&e.reset(),e.context.draggable.onEnd(null)}),u.on("reset",function(){e.reset(),e.context.draggable.onEnd(null)})},e.handleInteractionEnd=function(){var o=e.props.resource,i=e.state.event;e.reset(),e.context.draggable.onEnd({start:i.start,end:i.end,resourceId:o})},e._teardownSelectable=function(){e._selector&&(e._selector.teardown(),e._selector=null)},e.state={},e.ref=xe.default.createRef(),e}return(0,so.default)(n,[{key:"componentDidMount",value:function(){this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"reset",value:function(){this.state.event&&this.setState({event:null,top:null,height:null})}},{key:"update",value:function(t,s){var l=s.startDate,o=s.endDate,i=s.top,c=s.height,u=this.state.event;u&&l===u.start&&o===u.end||this.setState({top:i,height:c,event:(0,ge.default)((0,ge.default)({},t),{},{start:l,end:o})})}},{key:"handleResize",value:function(t,s){var l=this.props,o=l.accessors,i=l.slotMetrics,c=l.localizer,u=this.context.draggable.dragAndDropAction,d=u.event,v=u.direction,f=i.closestSlotFromPoint(t,s),h=(0,Ne.eventTimes)(d,o,c),m=h.start,p=h.end,y;if(v==="UP"){var b=c.min(f,i.closestSlotFromDate(p,-1));y=i.getRange(b,p),y=(0,ge.default)((0,ge.default)({},y),{},{endDate:p})}else if(v==="DOWN"){var D=c.max(f,i.closestSlotFromDate(m));y=i.getRange(m,D),y=(0,ge.default)((0,ge.default)({},y),{},{startDate:m})}this.update(d,y)}},{key:"renderContent",value:function(){var t=this.props,s=t.children,l=t.accessors,o=t.components,i=t.getters,c=t.slotMetrics,u=t.localizer,d=this.state,v=d.event,f=d.top,h=d.height;if(!v)return s;var m=s.props.children,p=v.start,y=v.end,b,D="eventTimeRangeFormat",E=c.startsBeforeDay(p),w=c.startsAfterDay(y);return E?D="eventTimeRangeEndFormat":w&&(D="eventTimeRangeStartFormat"),E&&w?b=u.messages.allDay:b=u.format({start:p,end:y},D),xe.default.cloneElement(s,{children:xe.default.createElement(xe.default.Fragment,null,m,v&&xe.default.createElement(uo.default,{event:v,label:b,className:"rbc-addons-dnd-drag-preview",style:{top:f,height:h,width:100},getters:i,components:o,accessors:(0,ge.default)((0,ge.default)({},l),Ne.dragAccessors),continuesPrior:E,continuesAfter:w}))})}},{key:"render",value:function(){return xe.default.createElement("div",{ref:this.ref},this.renderContent())}}]),n}(xe.default.Component);vn.contextType=lo.DnDContext;var vo=vn;_t.default=vo;var Ct={},Mt={},kt={},At={},_e=Q.default;Object.defineProperty(At,"__esModule",{value:!0});At.default=void 0;var _r=_e(we),fo=_e(Gt),ho=_e(Fe),mo=_e(Ie),po=_e(Xe),go=_e(Ve),Qe=_e(F),yo=_e(nt),bo=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],Do=function(r){(0,po.default)(n,r);var a=(0,go.default)(n);function n(){return(0,ho.default)(this,n),a.apply(this,arguments)}return(0,mo.default)(n,[{key:"render",value:function(){var t=this.props,s=t.style,l=t.className,o=t.event,i=t.selected,c=t.isAllDay,u=t.onSelect,d=t.onDoubleClick,v=t.onKeyPress,f=t.localizer,h=t.continuesPrior,m=t.continuesAfter,p=t.accessors,y=t.getters,b=t.children,D=t.components,E=D.event,w=D.eventWrapper,O=t.slotStart,R=t.slotEnd,M=(0,fo.default)(t,bo);delete M.resizable;var x=p.title(o),$=p.tooltip(o),T=p.end(o),k=p.start(o),z=p.allDay(o),L=c||z||f.diff(k,f.ceil(T,"day"),"day")>1,H=y.eventProp(o,k,T,i),j=Qe.default.createElement("div",{className:"rbc-event-content",title:$||void 0},E?Qe.default.createElement(E,{event:o,continuesPrior:h,continuesAfter:m,title:x,isAllDay:z,localizer:f,slotStart:O,slotEnd:R}):x);return Qe.default.createElement(w,Object.assign({},this.props,{type:"date"}),Qe.default.createElement("div",Object.assign({},M,{tabIndex:0,style:(0,_r.default)((0,_r.default)({},H.style),s),className:(0,yo.default)("rbc-event",l,H.className,{"rbc-selected":i,"rbc-event-allday":L,"rbc-event-continues-prior":h,"rbc-event-continues-after":m}),onClick:function(q){return u&&u(o,q)},onDoubleClick:function(q){return d&&d(o,q)},onKeyPress:function(q){return v&&v(o,q)}}),typeof b=="function"?b(j):j))}}]),n}(Qe.default.Component),Eo=Do;At.default=Eo;var Oe={},wo=Q.default;Object.defineProperty(Oe,"__esModule",{value:!0});Oe.dateCellSelection=Ro;Oe.getSlotAtX=fn;Oe.isSelected=_o;Oe.pointInBox=Oo;Oe.slotWidth=ar;var So=wo(Xn);function _o(r,a){return!r||a==null?!1:(0,So.default)(r,a)}function ar(r,a){var n=r.right-r.left,e=n/a;return e}function fn(r,a,n,e){var t=ar(r,e);return n?e-1-Math.floor((a-r.left)/t):Math.floor((a-r.left)/t)}function Oo(r,a){var n=a.x,e=a.y;return e>=r.top&&e<=r.bottom&&n>=r.left&&n<=r.right}function Ro(r,a,n,e,t){var s=-1,l=-1,o=e-1,i=ar(a,e),c=fn(a,n.x,t,e),u=a.top<n.y&&a.bottom>n.y,d=a.top<r.y&&a.bottom>r.y,v=r.y>a.bottom,f=a.top>r.y,h=n.top<a.top&&n.bottom>a.bottom;return h&&(s=0,l=o),u&&(f?(s=0,l=c):v&&(s=c,l=o)),d&&(s=l=t?o-Math.floor((r.x-a.left)/i):Math.floor((r.x-a.left)/i),u?c<s?s=c:l=c:r.y<n.y?l=o:s=0),{startIdx:s,endIdx:l}}var sr=Q.default;Object.defineProperty(kt,"__esModule",{value:!0});kt.default=void 0;var ce=sr(Ar),Or=sr(F),Co=sr(At),Mo=Oe,ko={propTypes:{slotMetrics:ce.default.object.isRequired,selected:ce.default.object,isAllDay:ce.default.bool,accessors:ce.default.object.isRequired,localizer:ce.default.object.isRequired,components:ce.default.object.isRequired,getters:ce.default.object.isRequired,onSelect:ce.default.func,onDoubleClick:ce.default.func,onKeyPress:ce.default.func},defaultProps:{segments:[],selected:{}},renderEvent:function(a,n){var e=a.selected;a.isAllDay;var t=a.accessors,s=a.getters,l=a.onSelect,o=a.onDoubleClick,i=a.onKeyPress,c=a.localizer,u=a.slotMetrics,d=a.components,v=a.resizable,f=u.continuesPrior(n),h=u.continuesAfter(n);return Or.default.createElement(Co.default,{event:n,getters:s,localizer:c,accessors:t,components:d,onSelect:l,onDoubleClick:o,onKeyPress:i,continuesPrior:f,continuesAfter:h,slotStart:u.first,slotEnd:u.last,selected:(0,Mo.isSelected)(n,e),resizable:v})},renderSpan:function(a,n,e){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",s=Math.abs(n)/a*100+"%";return Or.default.createElement("div",{key:e,className:"rbc-row-segment",style:{WebkitFlexBasis:s,flexBasis:s,maxWidth:s}},t)}};kt.default=ko;var Re=Q.default;Object.defineProperty(Mt,"__esModule",{value:!0});Mt.default=void 0;var Ao=Re(we),$o=Re(Fe),To=Re(Ie),Po=Re(Xe),xo=Re(Ve),No=Re(nt),Rr=Re(F),vt=Re(kt),hn=function(r){(0,Po.default)(n,r);var a=(0,xo.default)(n);function n(){return(0,$o.default)(this,n),a.apply(this,arguments)}return(0,To.default)(n,[{key:"render",value:function(){var t=this,s=this.props,l=s.segments,o=s.slotMetrics.slots,i=s.className,c=1;return Rr.default.createElement("div",{className:(0,No.default)(i,"rbc-row")},l.reduce(function(u,d,v){var f=d.event,h=d.left,m=d.right,p=d.span,y="_lvl_"+v,b=h-c,D=vt.default.renderEvent(t.props,f);return b&&u.push(vt.default.renderSpan(o,b,"".concat(y,"_gap"))),u.push(vt.default.renderSpan(o,p,y,D)),c=m+1,u},[]))}}]),n}(Rr.default.Component);hn.defaultProps=(0,Ao.default)({},vt.default.defaultProps);var zo=hn;Mt.default=zo;var Ce={},Lo=Q.default;Object.defineProperty(Ce,"__esModule",{value:!0});Ce.endOfRange=mn;Ce.eventLevels=Wo;Ce.eventSegments=Io;Ce.inRange=Ho;Ce.segsOverlap=pn;Ce.sortEvents=Yo;var Fo=Lo(Vn);function mn(r){var a=r.dateRange,n=r.unit,e=n===void 0?"day":n,t=r.localizer;return{first:a[0],last:t.add(a[a.length-1],1,e)}}function Io(r,a,n,e){var t=mn({dateRange:a,localizer:e}),s=t.first,l=t.last,o=e.diff(s,l,"day"),i=e.max(e.startOf(n.start(r),"day"),s),c=e.min(e.ceil(n.end(r),"day"),l),u=(0,Fo.default)(a,function(v){return e.isSameDate(v,i)}),d=e.diff(i,c,"day");return d=Math.min(d,o),d=Math.max(d-e.segmentOffset,1),{event:r,span:d,left:u+1,right:Math.max(u+d,1)}}function Wo(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,n,e,t,s=[],l=[];for(n=0;n<r.length;n++){for(t=r[n],e=0;e<s.length&&pn(t,s[e]);e++);e>=a?l.push(t):(s[e]||(s[e]=[])).push(t)}for(n=0;n<s.length;n++)s[n].sort(function(o,i){return o.left-i.left});return{levels:s,extra:l}}function Ho(r,a,n,e,t){var s={start:e.start(r),end:e.end(r)},l={start:a,end:n};return t.inEventRange({event:s,range:l})}function pn(r,a){return a.some(function(n){return n.left<=r.right&&n.right>=r.left})}function Yo(r,a,n,e){var t={start:n.start(r),end:n.end(r),allDay:n.allDay(r)},s={start:n.start(a),end:n.end(a),allDay:n.allDay(a)};return e.sortEvents({evtA:t,evtB:s})}var jo=kr.default,Me=Q.default;Object.defineProperty(Ct,"__esModule",{value:!0});Ct.default=void 0;var it=Me(we),qo=Me(Sn),Bo=Me(Fe),Ko=Me(Ie),Xo=Me(Xe),Vo=Me(Ve),lt=Me(F),Go=Me(Mt),Be=jo(ie),Uo=Ce,be=Oe,ct=he,Zo=We,gn=function(r){(0,Xo.default)(n,r);var a=(0,Vo.default)(n);function n(){var e;(0,Bo.default)(this,n);for(var t=arguments.length,s=new Array(t),l=0;l<t;l++)s[l]=arguments[l];return e=a.call.apply(a,[this].concat(s)),e.handleMove=function(o,i,c){if(!(0,be.pointInBox)(i,o))return e.reset();var u=e.context.draggable.dragAndDropAction.event||c,d=e.props,v=d.accessors,f=d.slotMetrics,h=d.rtl,m=d.localizer,p=(0,be.getSlotAtX)(i,o.x,h,f.slots),y=f.getDateForSlot(p),b=(0,ct.eventTimes)(u,v,m),D=b.start,E=b.duration;D=m.merge(y,D);var w=m.add(D,E,"milliseconds");e.update(u,D,w)},e.handleDropFromOutside=function(o,i){if(e.context.draggable.onDropFromOutside){var c=e.props,u=c.slotMetrics,d=c.rtl,v=c.localizer,f=(0,be.getSlotAtX)(i,o.x,d,u.slots),h=u.getDateForSlot(f);e.context.draggable.onDropFromOutside({start:h,end:v.add(h,1,"day"),allDay:!1})}},e.handleDragOverFromOutside=function(o,i){e.context.draggable.dragFromOutsideItem&&e.handleMove(o,i,e.context.draggable.dragFromOutsideItem())},e._selectable=function(){var o=e.ref.current.closest(".rbc-month-row, .rbc-allday-cell"),i=o.closest(".rbc-month-view, .rbc-time-view"),c=o.classList.contains("rbc-month-row"),u=e._selector=new Be.default(function(){return i},{validContainers:(0,qo.default)(c?[]:[".rbc-day-slot",".rbc-allday-cell"])});u.on("beforeSelect",function(d){var v=e.props.isAllDay,f=e.context.draggable.dragAndDropAction.action,h=(0,Be.getBoundsForNode)(o),m=(0,be.pointInBox)(h,d);return f==="move"||f==="resize"&&(!v||m)}),u.on("selecting",function(d){var v=(0,Be.getBoundsForNode)(o),f=e.context.draggable.dragAndDropAction;f.action==="move"&&e.handleMove(d,v),f.action==="resize"&&e.handleResize(d,v)}),u.on("selectStart",function(){return e.context.draggable.onStart()}),u.on("select",function(d){var v=(0,Be.getBoundsForNode)(o);e.state.segment&&((0,be.pointInBox)(v,d)?e.handleInteractionEnd():e.reset())}),u.on("dropFromOutside",function(d){if(e.context.draggable.onDropFromOutside){var v=(0,Be.getBoundsForNode)(o);(0,be.pointInBox)(v,d)&&e.handleDropFromOutside(d,v)}}),u.on("dragOverFromOutside",function(d){if(e.context.draggable.dragFromOutsideItem){var v=(0,Be.getBoundsForNode)(o);e.handleDragOverFromOutside(d,v)}}),u.on("click",function(){return e.context.draggable.onEnd(null)}),u.on("reset",function(){e.reset(),e.context.draggable.onEnd(null)})},e.handleInteractionEnd=function(){var o=e.props,i=o.resourceId,c=o.isAllDay,u=e.state.segment.event;e.reset(),e.context.draggable.onEnd({start:u.start,end:u.end,resourceId:i,isAllDay:c})},e._teardownSelectable=function(){e._selector&&(e._selector.teardown(),e._selector=null)},e.state={},e.ref=lt.default.createRef(),e}return(0,Ko.default)(n,[{key:"componentDidMount",value:function(){this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"reset",value:function(){this.state.segment&&this.setState({segment:null})}},{key:"update",value:function(t,s,l){var o=(0,Uo.eventSegments)((0,it.default)((0,it.default)({},t),{},{end:l,start:s,__isPreview:!0}),this.props.slotMetrics.range,ct.dragAccessors,this.props.localizer),i=this.state.segment;i&&o.span===i.span&&o.left===i.left&&o.right===i.right||this.setState({segment:o})}},{key:"handleResize",value:function(t,s){var l=this.context.draggable.dragAndDropAction,o=l.event,i=l.direction,c=this.props,u=c.accessors,d=c.slotMetrics,v=c.rtl,f=c.localizer,h=(0,ct.eventTimes)(o,u,f),m=h.start,p=h.end,y=(0,be.getSlotAtX)(s,t.x,v,d.slots),b=d.getDateForSlot(y),D=(0,be.pointInBox)(s,t);if(i==="RIGHT"){if(D){if(d.last<m)return this.reset();f.eq(f.startOf(p,"day"),p)?p=f.add(b,1,"day"):p=b}else if(f.inRange(m,d.first,d.last)||s.bottom<t.y&&+d.first>+m)p=f.add(d.last,1,"milliseconds");else{this.setState({segment:null});return}var E=u.end(o);p=f.merge(p,E),f.lt(p,m)&&(p=E)}else if(i==="LEFT"){if(D){if(d.first>p)return this.reset();m=b}else if(f.inRange(p,d.first,d.last)||s.top>t.y&&f.lt(d.last,p))m=f.add(d.first,-1,"milliseconds");else{this.reset();return}var w=u.start(o);m=f.merge(m,w),f.gt(m,p)&&(m=w)}this.update(o,m,p)}},{key:"render",value:function(){var t=this.props,s=t.children,l=t.accessors,o=this.state.segment;return lt.default.createElement("div",{ref:this.ref,className:"rbc-addons-dnd-row-body"},s,o&&lt.default.createElement(Go.default,Object.assign({},this.props,{selected:null,className:"rbc-addons-dnd-drag-row",segments:[o],accessors:(0,it.default)((0,it.default)({},l),ct.dragAccessors)})))}}]),n}(lt.default.Component);gn.contextType=Zo.DnDContext;var Jo=gn;Ct.default=Jo;var le=Q.default;Object.defineProperty(nr,"__esModule",{value:!0});nr.default=di;var ut=le(we),Qo=le(Gt),ei=le(Fe),ti=le(Ie),ri=le(Xe),ni=le(Ve),Ft=le(F),ai=le(nt),si=le(St),oi=le(_t),ii=le(Ct),li=he,ci=We,ui=["selectable","elementProps"];function di(r){var a=function(n){(0,ri.default)(t,n);var e=(0,ni.default)(t);function t(){var s;(0,ei.default)(this,t);for(var l=arguments.length,o=new Array(l),i=0;i<l;i++)o[i]=arguments[i];s=e.call.apply(e,[this].concat(o)),s.defaultOnDragOver=function(u){u.preventDefault()},s.handleBeginAction=function(u,d,v){s.setState({event:u,action:d,direction:v});var f=s.props.onDragStart;f&&f({event:u,action:d,direction:v})},s.handleInteractionStart=function(){s.state.interacting===!1&&s.setState({interacting:!0})},s.handleInteractionEnd=function(u){var d=s.state,v=d.action,f=d.event;if(v&&(s.setState({action:null,event:null,interacting:!1,direction:null}),u!=null)){u.event=f;var h=s.props,m=h.onEventDrop,p=h.onEventResize;v==="move"&&m&&m(u),v==="resize"&&p&&p(u)}};var c=s.props.components;return s.components=(0,li.mergeComponents)(c,{eventWrapper:si.default,eventContainerWrapper:oi.default,weekWrapper:ii.default}),s.state={interacting:!1},s}return(0,ti.default)(t,[{key:"getDnDContextValue",value:function(){return{draggable:{onStart:this.handleInteractionStart,onEnd:this.handleInteractionEnd,onBeginAction:this.handleBeginAction,onDropFromOutside:this.props.onDropFromOutside,dragFromOutsideItem:this.props.dragFromOutsideItem,draggableAccessor:this.props.draggableAccessor,resizableAccessor:this.props.resizableAccessor,dragAndDropAction:this.state}}}},{key:"render",value:function(){var l=this.props,o=l.selectable,i=l.elementProps,c=(0,Qo.default)(l,ui),u=this.state.interacting;delete c.onEventDrop,delete c.onEventResize,c.selectable=o?"ignoreEvents":!1;var d=this.props.onDropFromOutside?(0,ut.default)((0,ut.default)({},i),{},{onDragOver:this.props.onDragOver||this.defaultOnDragOver}):i;c.className=(0,ai.default)(c.className,"rbc-addons-dnd",!!u&&"rbc-addons-dnd-is-dragging");var v=this.getDnDContextValue();return Ft.default.createElement(ci.DnDContext.Provider,{value:v},Ft.default.createElement(r,Object.assign({},c,{elementProps:d,components:this.components})))}}]),t}(Ft.default.Component);return a.defaultProps=(0,ut.default)((0,ut.default)({},r.defaultProps),{},{draggableAccessor:null,resizableAccessor:null,resizable:!0}),a}var vi=Q.default;Object.defineProperty(rr,"__esModule",{value:!0});var fi=rr.default=void 0,hi=vi(nr),mi=hi.default;fi=rr.default=mi;export{ki as C,fi as d,Ai as m};
