import{j as e,r,R as qe}from"./react-38b596a0.js";import{c as _s}from"./react-dom-e6a66cff.js";import{a as B}from"./classnames-e838fe0c.js";import{u as fs,a as vs,P as Ns}from"./react-redux-503c4afa.js";import{a as bs}from"./axios-28bc18a3.js";import{L as H,N as Me,B as ws}from"./react-router-dom-95f7f4ee.js";/* empty css                       */import{S as Ve}from"./react-slick-5058064e.js";import{l as De,a as Ss}from"./leaflet-dd6f5fb4.js";import{c as S,a as le,b as ys}from"./@reduxjs-4d381dde.js";import{F as Cs,f as Ls,a as Ds}from"./@fortawesome-029db17d.js";import{d as te,a as ke,e as Qe,f as Oe,g as V}from"./react-router-684bf0b7.js";import{m as Ps,d as ks,C as Fs}from"./react-big-calendar-6296360c.js";import{h as F}from"./moment-a8a2d003.js";import"./moment-timezone-7dad11e3.js";import{H as Re}from"./react-router-hash-link-5acdcedf.js";import{d as Ts,p as Hs,a as Es,F as As,R as $s,P as Ms,b as Rs,c as Us,e as Bs,f as Is}from"./redux-persist-d05749c2.js";import{c as Vs}from"./redux-767130a9.js";import"./@babel-5978d8d7.js";import"./scheduler-765c72db.js";import"./use-sync-external-store-9f6f29ae.js";import"./@remix-run-66572050.js";import"./lodash.debounce-39569a74.js";import"./resize-observer-polyfill-a322b104.js";import"./json2mq-d3ccca5e.js";import"./string-convert-c60507dd.js";import"./enquire.js-33edb58f.js";import"./immer-75513efc.js";import"./reselect-0760f7a5.js";import"./redux-thunk-f771c803.js";import"./prop-types-bdeb2994.js";import"./invariant-2c4081a0.js";import"./uncontrollable-84c3097f.js";import"./react-lifecycles-compat-86471e09.js";import"./clsx-b22c2e19.js";import"./date-arithmetic-92dfef60.js";import"./lodash-es-12f1d146.js";import"./dom-helpers-31057db3.js";import"./react-overlays-25dc6cf3.js";import"./@restart-6df4391e.js";import"./@popperjs-9dd40b19.js";import"./warning-f47cdb75.js";import"./memoize-one-297ddbcb.js";import"./dayjs-c9899edc.js";import"./lodash-3c04d9ca.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function a(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(n){if(n.ep)return;n.ep=!0;const l=a(n);fetch(n.href,l)}})();const f=fs,L=vs,Os="/dance-frontend/assets/markerDefault-1bde90ce.svg";var $=(t=>(t.User="user",t.Auth="auth",t.Admin="admin",t.Ticket="ticket",t.Studio="studio",t.MainPage="main",t))($||{}),o=(t=>(t.Idle="idle",t.Pending="pending",t.Fulfilled="fulfilled",t.Rejected="rejected",t))(o||{}),U=(t=>(t.Auth="AUTH",t.NoAuth="NO_AUTH",t.Unknown="UNKNOWN",t))(U||{});const Fe="justToken",Ze=[{id:1,title:"Основные настройки",path:"settings"},{id:2,title:"Абонементы",path:"tickets"},{id:3,title:"Уведомления",path:"notifications"},{id:4,title:"Записи",path:"record"},{id:5,title:"Смена пароля",path:"changepass"},{id:6,title:"Написать отзыв",path:"review"}],Je={id:1,title:"Основные настройки",path:"settings"},Ue=[{id:1,title:"О студии",path:"about"},{id:2,title:"Новости и акции",path:"news"},{id:3,title:"Наши залы",path:"halls"},{id:4,title:"Персонал",path:"personal"},{id:5,title:"Юридическая информация",path:"information"},{id:6,title:"Услуги и цены",path:"price"},{id:7,title:"Расписание",path:"dashboard"},{id:8,title:"Отзывы",path:"reviews"},{id:9,title:"Контакты",path:"contacts"},{id:10,title:"Управление пользователями",path:"control-users"},{id:11,title:"Настройки",path:"settings"}],Xe={id:1,title:"О студии",path:"about"};var O=(t=>(t.First="Зал 1",t.Secondary="Зал 2",t.Third="Зал 3",t))(O||{});const zs="login",es=[{id:1,title:"О студии",url:"/"},{id:2,title:"Услуги и цены",url:"/#pricesBlock"},{id:3,title:"Расписание",url:"/dashboard"},{id:4,title:"Контакты",url:"/#contactsBlock"},{id:5,title:"Скачать приложение",url:"/download"}],Gs=[{id:1,title:"О студии",url:"/"},{id:2,title:"Услуги и цены",url:"/#pricesBlock"},{id:3,title:"Расписание",url:"/dashboard"},{id:4,title:"Отзывы",url:"/#reviewsBlock"},{id:5,title:"Контакты",url:"/#contactsBlock"}],Ys=Os,q=({title:t,cls:s})=>e.jsxs("div",{className:`${s} title grid grid--12`,children:[e.jsx("div",{className:"title__line title__line--left"}),e.jsx("h3",{className:"title__text",children:t}),e.jsx("div",{className:"title__line title__line--right"})]});function ae(){const[t,s]=r.useState(!1);return r.useEffect(()=>{const a=setTimeout(()=>{s(!0)},500);return()=>clearTimeout(a)},[]),t&&e.jsxs("div",{className:"spinner",children:[e.jsx("div",{className:"spinner__ring"}),e.jsx("span",{children:"Loading..."})]})}const Ks=()=>{const t=localStorage.getItem(Fe);return t?{token:t}:{token:""}},Ws=({token:t})=>{localStorage.setItem(Fe,t)},ss=()=>{localStorage.removeItem(Fe)},R="https://www.just-studio.na4u.ru/",qs="5000",ts=()=>{const t=bs.create({baseURL:R,timeout:qs,responseType:"json",headers:{Accept:"*","Content-Type":"application/json"}});return t.interceptors.request.use(s=>{const a=Ks();return a&&s.headers&&(s.headers.Authorization=`Bearer ${a.token}`),s}),t};ts();const as=({hall:t,isMainPage:s})=>{const a=B("card-halls__item",{"card-halls__item--grid":s});return e.jsxs("li",{className:a,children:[e.jsxs("div",{className:"card-halls__item-photoContainer",children:[e.jsx("img",{src:`${R}${t.PhotoHall}`,alt:"Galerry",className:"card-halls__item-photo"}),e.jsx("h3",{className:"card-halls__item-caption",children:t.Title})]}),e.jsx("p",{children:t.Description})]},t.IdHall)};var b=(t=>(t.Root="/",t.Modal="/modal",t.Login="/login",t.Registration="/registration",t.Recovery="/recovery",t.Dashboard="/dashboard",t.PersonalArea="/inbox",t.AdministratorArea="/administration",t.NotFound="/*",t))(b||{}),w=(t=>(t.Registration="/registration",t.Confirmation="/confirmation",t.Login="/login",t.Logout="/logOutOfAccount",t.Role="/accessAccount",t.UserData="/basicSettings",t.DeleteUser="/deleteLogin",t.UpdateToken="/loginRefresh",t.Tickets="/seasonTickets",t.AddPhoto="/addUsersPhoto",t.DeletePhotoUser="/deleteUsersPhoto",t.Banner="/basicBanners",t.AboutStudio="/studioSettings",t.CityMap="/studioCitySettings",t.PointsMap="/studioPointsSettings",t.Logotype="/studioSettingsLogo",t.AddHallPhoto="/hallsSettingsPhoto",t.AddTeacherPhoto="/teacherSettingsPhoto",t.Halls="/hallsSettings",t.Teachers="/teachersSettings",t.Price="/ServicePrice",t.AddPrice="/addServicePrice",t.DelPrice="/deleteServicePrice",t.MainPage="/page",t))(w||{});const se=({link:t})=>e.jsxs("p",{className:"guide",children:["Еще ничего нет. Добавить нужную информацию можно в личном кабинете",e.jsx(H,{to:`${b.AdministratorArea}/${t}`,children:" администратора"})]}),Qs=()=>{const t=f(g=>g.main.mainPage),s=t==null?void 0:t.Atelie,a=s==null?void 0:s.description,i=t==null?void 0:t.Halls,n=i&&(i==null?void 0:i.length)>3,l=B("main-about__list card-halls__list grid grid--3",{"main-about__tile":n}),c=f(g=>g.main.isStudioDataLoading),d=f(g=>g.main.isHallsLoading),[h,x]=r.useState(!1);return r.useEffect(()=>{c===o.Pending||d===o.Pending?x(!1):x(!0)},[d,c]),e.jsxs("section",{className:"section main-about container",children:[e.jsx(q,{title:"О студии",cls:"main-about__title"}),h?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"main-about__text",children:e.jsx("p",{style:{whiteSpace:"pre-line"},children:s?`${a}`:e.jsx(se,{link:"about"})})}),e.jsx("ul",{className:l,children:i?i.map(g=>e.jsx(as,{hall:g,isMainPage:n},g.IdHall)):e.jsx(se,{link:"halls"})})]}):e.jsx("div",{className:"main-about__spinnerContainer",children:e.jsx(ae,{})})]})},Zs=({alt:t,className:s,url:a})=>e.jsx("div",{className:`${s} photo-container`,children:e.jsx("img",{src:`${R}${a}`,alt:t,className:"photo-container__image",width:200,height:200})}),is=({children:t,teacher:s,prefixClass:a})=>e.jsxs("div",{className:`${a}__personal-item personal-item `,children:[t,e.jsx(Zs,{alt:"staffPhoto",className:`${a}__personal-photo personal-photo`,url:`${s.photoTeachers}`}),e.jsxs("div",{className:`${a}__personal-description personal-description`,children:[e.jsx("h5",{children:s.teachersName}),e.jsx("p",{children:s.description})]})]});function Ae(t){const s=()=>typeof window<"u"?window.matchMedia(t).matches:!1,[a,i]=r.useState(s()),n=qe.useCallback(()=>{i(s())},[t]);return r.useEffect(()=>{const l=window.matchMedia(t);return n(),l.addEventListener("change",n),()=>{l.removeEventListener("change",n)}},[t]),a}const Js={dots:!0,arrow:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:4e3},ns=({cards:t,staffInfo:s})=>{const a=Ae("(min-width: 1920px)"),i=Ae("(min-width: 1200px)"),n=Ae("(min-width: 767px)"),[l,c]=r.useState(d());function d(){return a?5:i?3:n?2:1}r.useEffect(()=>{c(d())},[a,i,n]);const h={dots:!0,infinite:!0,speed:500,slidesToShow:l,slidesToScroll:1};return e.jsxs(e.Fragment,{children:[t&&e.jsx(Ve,{...Js,className:"slider",children:t.map(x=>e.jsx("div",{className:"card",id:"cards",children:e.jsx("img",{src:`${R}${x.PhotoBanner}`,alt:"banner",className:"banner"})},x.IdBanner))}),s&&e.jsx("div",{id:"staff",children:e.jsx(Ve,{...h,className:"slider slider-staff",children:s.map(x=>e.jsx(is,{teacher:x,prefixClass:"main-personal"}))})})]})},Xs=()=>{const t=f(i=>i.main.mainPage),s=t==null?void 0:t.Banners,a=f(i=>i.main.isBannerLoading);return e.jsx("section",{className:"main-banners",children:a===o.Pending?e.jsx("div",{className:"main-banners__spinnerContainer",children:e.jsx(ae,{})}):e.jsx(e.Fragment,{children:s?e.jsx(ns,{cards:s}):e.jsx(se,{link:"news"})})})},et=()=>{const t=f(i=>i.main.mainPage),s=t==null?void 0:t.Teachers,a=f(i=>i.main.isTeachersLoading);return e.jsxs("section",{className:"section main-personal",children:[e.jsx(q,{title:"Персонал",cls:"main-personal__title container"}),a===o.Pending?e.jsx("div",{className:"main-personal__spinnerContainer",children:e.jsx(ae,{})}):e.jsxs(e.Fragment,{children:[s&&e.jsx(ns,{staffInfo:s}),!s&&e.jsx(se,{link:"personal"})]})]})},C="/dance-frontend/assets/sprite-c3e09dff.svg";function st(t,s){const[a,i]=r.useState(null),n=r.useRef(!1);return r.useEffect(()=>{if(t.current!==null&&!n.current){const l=new De.Map(t.current,{center:{lat:s.lat,lng:s.lng},zoom:s.zoom}),c=new De.TileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>'});l.addLayer(c),i(l),n.current=!0}},[t,s]),a}const tt=Ss.icon({iconUrl:Ys,iconSize:[60,60],iconAnchor:[20,60]}),at=({POINTS:t,CITY:s})=>{const a=r.useRef(null),i=st(a,s);return r.useEffect(()=>{if(i){const n=De.layerGroup().addTo(i);return new De.Marker({lat:t.lat,lng:t.lng}).setIcon(tt).addTo(n),()=>{i.removeLayer(n)}}},[i,t]),e.jsx("div",{className:"map-wrapper",ref:a})},rs=()=>e.jsxs("div",{className:"soc1al",children:[e.jsx("a",{href:"",children:e.jsx("svg",{width:"40",height:"40",viewBox:"0 0 40 40",children:e.jsx("use",{xlinkHref:`${C}#ok`})})}),e.jsx("a",{href:"",children:e.jsx("svg",{width:"40",height:"40",viewBox:"0 0 40 40",children:e.jsx("use",{xlinkHref:`${C}#vk`})})}),e.jsx("a",{href:"",children:e.jsx("svg",{width:"40",height:"40",viewBox:"0 0 40 40",children:e.jsx("use",{xlinkHref:`${C}#telegram`})})})]}),ls="/dance-frontend/assets/NF-f67d51f3.png",ie=S("mainPage/aboutStudio",async(t,{extra:s})=>{const{data:a}=await s.get(w.MainPage);return a}),it=()=>{const t=f(p=>{var m;return(m=p.main.mainPage)==null?void 0:m.City}),s=f(p=>{var m;return(m=p.main.mainPage)==null?void 0:m.Points}),[a,i]=r.useState(t),[n,l]=r.useState(s);r.useEffect(()=>{t&&s&&(i(t),l(s))},[t,s]);const c=L();r.useEffect(()=>{c(ie())},[c]);const d=f(p=>p.main.isPointsLoading),h=f(p=>p.main.isCityLoading),[x,g]=r.useState(!1);return r.useEffect(()=>{h===o.Pending||d===o.Pending?g(!1):g(!0)},[d,h]),e.jsxs("section",{className:"section main-contacts container",id:"contactsBlock",children:[e.jsx(q,{title:"Контакты",cls:"main-contacts__title"}),x?e.jsxs(e.Fragment,{children:[a!=null&&a.lat&&(a!=null&&a.lng)&&(n!=null&&n.lat)&&(n!=null&&n.lng)?e.jsx(at,{CITY:a,POINTS:n},a.lat):e.jsxs("div",{className:"main-contacts__nomap",children:[e.jsx(se,{link:"contacts"}),e.jsx("img",{src:ls,alt:"oops, no map here yet"})]}),e.jsxs("div",{className:"main-contacts__info",children:[e.jsxs("div",{className:"main-contacts__info-location",children:[e.jsx("div",{children:e.jsx("svg",{width:"25",height:"25",viewBox:"0 0 25 25",children:e.jsx("use",{xlinkHref:`${C}#location`})})}),e.jsx("p",{children:t==null?void 0:t.title})]}),e.jsxs("div",{className:"main-contacts__info-phone",children:[e.jsx("svg",{width:"25",height:"25",viewBox:"0 0 25 25",children:e.jsx("use",{xlinkHref:`${C}#phone`})}),e.jsx("p",{children:e.jsx("a",{href:"tel:+74957887750",children:"+7 (495) 788-77-50"})})]}),e.jsxs("div",{className:"main-contacts__info-socialblock",children:[e.jsx("p",{children:"Мы в социальных сетях:"}),e.jsx(rs,{})]})]})," "]}):e.jsx("div",{className:"main-contacts__spinnerContainer",children:e.jsx(ae,{})})]})},os=({price:t,cls:s,isMainPage:a})=>{const n=B("card-prices__item",{"card-prices__item-noneShadow":s==="noneShadow","card-prices__item-redisignBlock":a}),l=B({"card-prices__item-redisignCheckboxGroup":a});return e.jsx("li",{className:n,children:t&&e.jsxs(e.Fragment,{children:[e.jsx("h4",{className:"card-prices__item-subtitle",children:t.title}),e.jsxs("div",{className:l,children:[e.jsxs("div",{className:"card-prices__item-checkboxGroup",children:[t.descriptionOne!==""&&e.jsxs("div",{className:"card-prices__item-checkbox",children:[e.jsx("div",{children:e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:e.jsx("use",{xlinkHref:`${C}#checkForPrice`})})}),e.jsx("p",{className:"card-prices__item-textCheck",children:t.descriptionOne})]}),t.descriptionTwo!==""&&e.jsxs("div",{className:"card-prices__item-checkbox",children:[e.jsx("div",{children:e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:e.jsx("use",{xlinkHref:`${C}#checkForPrice`})})}),e.jsx("p",{className:"card-prices__item-textCheck",children:t.descriptionTwo})]}),t.descriptionThree!==""&&e.jsxs("div",{className:"card-prices__item-checkbox",children:[e.jsx("div",{children:e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:e.jsx("use",{xlinkHref:`${C}#checkForPrice`})})}),e.jsx("p",{className:"card-prices__item-textCheck",children:t.descriptionThree})]})]}),e.jsxs("h4",{className:"card-prices__item-subtitle",children:[t.price," P"]})]})]})})},nt=()=>{const t=f(l=>l.main.mainPage),s=t==null?void 0:t.Price,a=s&&(s==null?void 0:s.length)>4,i=B("main-prices__list card-prices__list grid grid--4",{"main-prices__tile":a}),n=f(l=>l.main.isPriceLoading);return e.jsxs("section",{className:"section main-prices container",id:"pricesBlock",children:[e.jsx(q,{title:"Услуги и цены",cls:"main-prices__title"}),n===o.Pending?e.jsx("div",{className:"main-prices__spinnerContainer",children:e.jsx(ae,{})}):e.jsx(e.Fragment,{children:e.jsx("div",{className:i,children:s?e.jsx(e.Fragment,{children:s.map(l=>e.jsx(os,{price:l,isMainPage:a||!1},l.idPrice))}):e.jsx(se,{link:"price"})})})]})},ds=[{id:1,data:{user:"Сергей Иванов",stars:4,date:"22.12.2016",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Dignissimos, amet."}},{id:2,data:{user:"Сергей Иванов",stars:4,date:"22.12.2016",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Dignissimos, amet."}},{id:3,data:{user:"Сергей Иванов",stars:4,date:"22.12.2016",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Dignissimos, amet."}},{id:4,data:{user:"Сергей Иванов",stars:4,date:"22.12.2016",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Dignissimos, amet."}},{id:5,data:{user:"Сергей Иванов",stars:4,date:"22.12.2016",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Dignissimos, amet."}},{id:6,data:{user:"Сергей Иванов",stars:4,date:"22.12.2016",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Dignissimos, amet."}},{id:7,data:{user:"Сергей Иванов",stars:4,date:"22.12.2016",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Dignissimos, amet."}},{id:8,data:{user:"Сергей Иванов",stars:4,date:"22.12.2016",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Dignissimos, amet."}},{id:9,data:{user:"Сергей Иванов",stars:4,date:"22.12.2016",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Dignissimos, amet."}},{id:10,data:{user:"Сергей Иванов",stars:4,date:"22.12.2016",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Dignissimos, amet."}}],rt=[{id:1,text:"Текст нового уведомления",date:new Date(2014,11,31,12,30,0)},{id:2,text:"Текст нового уведомления",date:new Date(2014,11,31,12,30,0)},{id:3,text:"Текст нового уведомленияТекст нового уведомленияТекст нового уведомленияТекст нового уведомленияТекст нового уведомленияТекст нового уведомленияТекст нового уведомленияТекст нового уведомленияТекст нового уведомленияТекст нового уведомленияТекст нового уведомления",date:new Date(2014,11,31,12,30,0)},{id:4,text:"Текст нового уведомления",date:new Date(2014,11,31,12,30,0)},{id:5,text:"Текст нового уведомления",date:new Date(2014,11,31,12,30,0)}],lt=["бокс","балет","танцы"],ot=["09:00","12:00","15:00"],dt=["Зал 1","Зал 2","Зал 3"];function D({id:t,onClick:s,isActive:a}){const i=function(n){switch(n){case"edit":return"pencilControls";case"delete":return"deleteControls";case"close":return"closeControls";case"view":return"viewControls";default:return""}};return e.jsx("svg",{width:"30",height:"30",viewBox:"0 0 30 30",className:`control ${a&&"activeControlButton"}`,onClick:s,children:e.jsx("use",{xlinkHref:`${C}#${i(t)}`})})}const cs=({review:t,id:s})=>{const a=s==="adminSettings",i=B("card-reviews__user",{ratingRedisign:a});return e.jsx(e.Fragment,{children:e.jsx("li",{className:"card-reviews__item",children:t&&e.jsxs(e.Fragment,{children:[a&&e.jsx("div",{className:"card-reviews__control",children:e.jsx(D,{id:"delete"})}),e.jsxs("div",{className:i,children:[e.jsx("h5",{className:"card-reviews__name",children:t.data.user}),e.jsxs("div",{className:"card-reviews__rating",children:[Array.from({length:t==null?void 0:t.data.stars},(n,l)=>l).map(n=>e.jsx("div",{children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",children:e.jsx("use",{xlinkHref:`${C}#star`})})},n)),e.jsx("p",{children:"4.8"})]})]}),e.jsx("p",{className:"card-reviews__date",children:t.data.date}),e.jsx("p",{className:"card-reviews__description",children:t.data.description})]})})})},_=({text:t,classList:s,children:a,openModalForm:i,onMouseEnter:n,onMouseLeave:l,disabled:c,activeMenuUser:d,activeDashboardMenu:h})=>e.jsxs("button",{className:`button ${s}  ${d&&"button--activeMenuUser"} ${h&&"button--activeDashboardMenu"}`,onClick:i,onMouseEnter:n,onMouseLeave:l,disabled:c,children:[a,t]}),ct=()=>{const[t,s]=r.useState(4),a=()=>{s(t+2)},i=ds.slice(0,t);return e.jsxs("section",{className:"section main-reviews container",id:"reviewsBlock",children:[e.jsx(q,{title:"Отзывы",cls:"main-reviews__title"}),e.jsx("ul",{className:"main-reviews__list card-reviews__list grid grid--4",children:i.map(n=>e.jsx(cs,{review:n},n.id))}),e.jsx("div",{className:"main-reviews__buttons",children:t===i.length?e.jsx(_,{text:"Показать еще",classList:"all-reviews__button button--more",openModalForm:a}):e.jsx(_,{text:"Скрыть все",classList:"all-reviews__button button--more",openModalForm:()=>s(4)})})]})},mt=()=>{const t=L();return r.useEffect(()=>{t(ie())},[t]),e.jsxs(e.Fragment,{children:[e.jsx(Xs,{}),e.jsx(Qs,{}),e.jsx(et,{}),e.jsx(nt,{}),e.jsx(ct,{}),e.jsx(it,{})]})},ht=()=>e.jsx(mt,{}),ut=()=>e.jsx("section",{className:"not-found",children:e.jsxs("div",{className:"not-found__inner container",children:[e.jsx("h1",{className:"not-found__title",children:"Извините, страница не найдена"}),e.jsxs("div",{className:"not-found__info grid grid--12",children:[e.jsx("p",{className:"not-found__text",children:"Но есть другие"}),e.jsx(H,{to:b.Root,className:"not-found__link",children:e.jsx("p",{children:"Главная страница"})}),e.jsx("img",{src:ls,alt:"Не найдено",className:"not-found__image"})]})]})}),gt=()=>e.jsx(ut,{}),me=S("user/registration",async({emailUser:t,password:s},{extra:a})=>{const{data:i}=await a.post(w.Registration,{emailUser:t,password:s});return i}),he=S("user/confirmation",async({emailUser:t,password:s,code:a},{extra:i})=>{const{data:n}=await i.post(w.Confirmation,{emailUser:t,password:s,code:a});return n}),ue=S("user/login",async({emailUser:t,password:s},{extra:a})=>{const i=await a.post(w.Login,{emailUser:t,password:s}),n=i.data.token;return Ws({token:n}),i.data}),Te=S("user/logout",async(t,{extra:s})=>{const{data:a}=await s.get(w.Logout);return ss(),a}),Y=S("user/data",async(t,{extra:s})=>{const{data:a}=await s.get(w.UserData);return a}),ge=S("user/updatedata",async({userName:t,genders:s,phoneNumber:a,dateOfBirth:i},{extra:n})=>{const{data:l}=await n.post(w.UserData,{userName:t,genders:s,phoneNumber:a,dateOfBirth:i});return l}),xe=S("user/updatePhoto",async({photoUser:t},{extra:s})=>{const{data:a}=await s.post(w.AddPhoto,t,{headers:{"content-type":"multipart/form-data"}});return a}),pe=S("user/deletePhoto",async(t,{extra:s})=>{const{data:a}=await s.post(w.DeletePhotoUser);return a}),ms=S("user/deleteData",async(t,{extra:s})=>{const{data:a}=await s.post(w.DeleteUser);return ss(),a}),Q=S("user/role",async(t,{extra:s})=>{const{data:a}=await s.get(w.Role);return a}),xt={authStatus:U.Unknown,isRegistrationLoading:o.Idle,isConfirmationLoading:o.Idle,message:"",userData:{},userRole:null,isUserDataLoading:o.Idle,isUserRoleLoading:o.Idle,isUserPhotoLoading:o.Idle,buttonActive:Je.title,formAuthActiveId:zs,token:""},I=le({name:$.Auth,initialState:xt,reducers:{addtokenStore(t,s){t.token=s.payload},deletetokenStore(t){t.token=""},changeActiveButtonMenuPersonal(t,s){t.buttonActive=s.payload},changeFormActive(t,s){t.formAuthActiveId=s.payload},refreshUser(t){t.userData={},t.userRole=null,t.authStatus=U.Unknown}},extraReducers(t){t.addCase(me.pending,s=>{s.isRegistrationLoading=o.Pending}).addCase(me.fulfilled,(s,a)=>{s.isRegistrationLoading=o.Fulfilled,s.message=a.payload}).addCase(me.rejected,s=>{s.isRegistrationLoading=o.Rejected}).addCase(he.pending,s=>{s.isConfirmationLoading=o.Pending}).addCase(he.fulfilled,s=>{s.isConfirmationLoading=o.Fulfilled}).addCase(he.rejected,s=>{s.isConfirmationLoading=o.Rejected}).addCase(ue.pending,s=>{s.isConfirmationLoading=o.Pending,s.authStatus=U.Unknown}).addCase(ue.fulfilled,s=>{s.isConfirmationLoading=o.Fulfilled,s.authStatus=U.Auth}).addCase(ue.rejected,s=>{s.isConfirmationLoading=o.Rejected,s.authStatus=U.NoAuth}).addCase(Te.fulfilled,s=>{s.authStatus=U.NoAuth,s.userData={},s.userRole=null}).addCase(Y.pending,s=>{s.isUserDataLoading=o.Pending}).addCase(Y.fulfilled,(s,a)=>{s.userData=a.payload,s.authStatus=U.Auth,s.isUserDataLoading=o.Fulfilled}).addCase(Y.rejected,s=>{s.isUserDataLoading=o.Rejected}).addCase(ge.pending,s=>{s.isUserDataLoading=o.Pending}).addCase(ge.fulfilled,(s,a)=>{s.message=a.payload,s.isUserDataLoading=o.Fulfilled}).addCase(ge.rejected,s=>{s.isUserDataLoading=o.Rejected}).addCase(xe.pending,s=>{s.isUserPhotoLoading=o.Pending}).addCase(xe.fulfilled,(s,a)=>{s.message=a.payload,s.isUserPhotoLoading=o.Fulfilled}).addCase(xe.rejected,s=>{s.isUserPhotoLoading=o.Rejected}).addCase(pe.pending,s=>{s.isUserPhotoLoading=o.Pending}).addCase(pe.fulfilled,(s,a)=>{s.message=a.payload,s.isUserPhotoLoading=o.Fulfilled}).addCase(pe.rejected,s=>{s.isUserPhotoLoading=o.Rejected}).addCase(Q.pending,s=>{s.isUserRoleLoading=o.Pending}).addCase(Q.fulfilled,(s,a)=>{s.userRole=a.payload,s.authStatus=U.Auth,s.isUserRoleLoading=o.Fulfilled}).addCase(Q.rejected,s=>{s.isUserRoleLoading=o.Rejected}).addCase(ms.fulfilled,(s,a)=>{s.authStatus=U.NoAuth,s.message=a.payload,s.userData={},s.userRole=null})}});I.actions;const je=S("user/tickets",async(t,{extra:s})=>{const{data:a}=await s.get(w.Tickets);return a});function pt(){const t=L(),s=f(i=>i.auth.buttonActive),a=i=>{switch(t(I.actions.changeActiveButtonMenuPersonal(i)),i){case"tickets":t(je());break}};return e.jsx("div",{className:"user-sidebar",children:e.jsx("ul",{className:"user-sidebar__list",children:Ze.map(i=>{const n=i.path===s;return e.jsx("li",{className:"user-sidebar__item",children:e.jsx(Me,{to:`${b.PersonalArea}/${i.path}`,onClick:()=>a(i.path),children:e.jsx(_,{text:i.title,classList:"user-sidebar__button button--menuUser",activeMenuUser:n})},i.id)},i.id)})})})}const jt=r.memo(pt);function _t({children:t}){return e.jsx("div",{className:"ticketsEmpty",children:t})}const ft=["Абонемент","Дата покупки","Дата начала","Дата окончания","Посетил занятий","Состояние"],vt=[{id:1,dateOfPurchase:"01.10.23",startDate:"02.10.23",endDate:"02.11.23",usedClasses:5,totalClasses:12,status:"Активный"},{id:2,dateOfPurchase:"01.10.23",startDate:"02.10.23",endDate:"02.11.23",usedClasses:5,totalClasses:12,status:"Неактивный"},{id:3,dateOfPurchase:"01.10.23",startDate:"02.10.23",endDate:"02.11.23",usedClasses:5,totalClasses:12,status:"Завершенный"}],Nt=()=>{const t=vt;return e.jsx("div",{className:"user-tickets grid grid--12",children:t.length>0?e.jsxs("table",{className:"user-tickets__table",children:[e.jsx("thead",{className:"user-tickets__thead",children:e.jsx("tr",{children:ft.map(s=>e.jsx("th",{className:"user-tickets__header",children:s},s))})}),e.jsx("tbody",{className:"user-tickets__tbody",children:t.map(({id:s,dateOfPurchase:a,startDate:i,endDate:n,usedClasses:l,totalClasses:c,status:d})=>{const h=B("user-tickets__row",{"user-tickets__row--completed":d==="Завершенный","user-tickets__row--non-active":d==="Неактивный"});return e.jsxs("tr",{className:h,children:[e.jsx("td",{className:"user-tickets__cell",children:s}),e.jsx("td",{className:"user-tickets__cell",children:a}),e.jsx("td",{className:"user-tickets__cell",children:i}),e.jsx("td",{className:"user-tickets__cell",children:n}),e.jsxs("td",{className:"user-tickets__cell",children:[l,"/",c]}),e.jsx("td",{className:"user-tickets__cell",children:d})]},s)})})]}):e.jsxs(_t,{children:[e.jsx("p",{children:"У Вас ещё нет абонементов."}),e.jsxs("p",{children:["Для приобритения обратитесь в студию по адресу: Южно-Сахалинск, Коммунистический проспект, 20, с 09:00 до 21:00 или запишитесь на пробное занятие по телефону: ",e.jsx("a",{href:"tel:+74957887750",children:"+7 (495) 788-77-50"})]})]})})};function Z({togglePasswordVisibility:t,showPassword:s}){return e.jsx(Cs,{icon:s?Ls:Ds,onClick:t})}const Be=t=>!!(/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(t)&&t.length!==0),ze=t=>!!/^(?=.*[A-Z])(?=.*[^ ])(?=.*\d)(?!(.*(?:${["qwerty", "root", "admin", "12345", "password","Abc123"].join('|')})))[A-Za-z\d\S]{8,}$/.test(t),$e=()=>{const t=te(),[s,a]=r.useState(""),i=L(),[n,l]=r.useState(!1),[c,d]=r.useState(""),[h,x]=r.useState({email:"",password:""}),g=u=>{x({...h,[u.target.name]:u.target.value}),d("")};r.useEffect(()=>{a("");const u=Be(h.email);!u&&h.email!==""?d("Введите корректный email"):d(""),u&&h.password!==""?l(!0):l(!1)},[h]);const p=u=>{u.preventDefault();const y=h.email,k=h.password;i(ue({emailUser:y,password:k})).unwrap().then(()=>{i(Q())}).then(()=>{i(Y())}).then(()=>t("/")).catch(()=>{a("Неправильный логин или пароль")})},[m,v]=r.useState(!1),j=()=>{v(!m)};return e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"modalForm__title",children:"Вход"}),e.jsxs("form",{onSubmit:p,className:"form-content",children:[e.jsxs("fieldset",{children:[e.jsxs("label",{htmlFor:"tel",children:["Адрес электронной почты",e.jsx("input",{type:"email",value:h.email,onChange:g,name:"email",className:c&&c!==""||s&&s!==""?"errorInput":"",placeholder:"example@gmail.com"})]}),c&&c!==""&&e.jsx("span",{className:"error-message",children:c}),s&&s!==""&&e.jsx("span",{className:"error-message",children:s})]}),e.jsx("fieldset",{children:e.jsxs("label",{htmlFor:"password",children:["Пароль",e.jsx("input",{value:h.password,onChange:g,name:"password",type:m?"text":"password",className:s&&s!==""?"errorInput":"",placeholder:"exampLe_56q"}),e.jsx("div",{className:"eyeIcon",children:e.jsx(Z,{showPassword:m,togglePasswordVisibility:j})})]})}),e.jsxs("div",{className:"linkGroup",children:[e.jsx("label",{onClick:()=>{i(I.actions.changeFormActive("registration"))},children:"Зарегистрироваться"}),e.jsx("label",{onClick:()=>{i(I.actions.changeFormActive("recovery"))},children:"Забыли пароль?"})]}),e.jsx(_,{text:"Войти",classList:"form-content__button button--registration",disabled:!n})]})]})},Pe="/dance-frontend/assets/Политика-ce95027e.pdf",bt=({onChange:t,agreement:s})=>{const i=B("checkbox--fake",{checkbox__errorInput:(s||s!==""&&"error")=="error"});return e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"checkbox",id:"agreement",name:"agreement",className:"checkbox checkbox--agreement",onChange:t}),e.jsx("span",{className:i,children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",children:e.jsx("use",{xlinkHref:`${C}#checkmark`})})})]})},wt=({email:t,password:s})=>{const a=L(),[i,n]=r.useState(""),[l,c]=r.useState(!1),[d,h]=r.useState(""),x=m=>{m.preventDefault();const v=Number(i);a(he({emailUser:t,password:s,code:v})).unwrap().then(()=>{c(!l)}).catch(()=>{h("Неверный код. Попробуйте еще")})},[g,p]=r.useState(!1);return r.useEffect(()=>{p(i!=="")},[i]),l?e.jsx(e.Fragment,{children:e.jsx("p",{children:"Вы успешно зарегистрированы"})}):e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"modalForm__title",children:"Подтверждение регистрации"}),e.jsxs("form",{onSubmit:x,className:"form-content",children:[e.jsxs("fieldset",{children:[e.jsxs("label",{children:["Код",e.jsx("input",{type:"number",value:i,onChange:m=>n(m.target.value),name:"code",placeholder:"****"})]}),d&&d!==""&&e.jsx("span",{className:"error-message",children:d})]}),e.jsx(_,{text:"Подтвердить",classList:"form-content__button button--registration",disabled:!g})]})]})},St=()=>{const[t,s]=r.useState(!1),[a,i]=r.useState(!1),[n,l]=r.useState(""),[c,d]=r.useState(""),[h,x]=r.useState(!1),[g,p]=r.useState(!1),[m,v]=r.useState({email:"",password:"",dublPassword:""}),j=A=>{v({...m,[A.target.name]:A.target.value})};r.useEffect(()=>{!Be(m.email)&&m.email!==""?l("Введите корректный email"):l("")},[m]),r.useEffect(()=>{const A=ze(m.password),N=ze(m.dublPassword);!A&&!N&&m.password!==""?d("Не менее 8 символов, с использованием цифр, букв,символов, как минимум 1 заглавная буква)"):m.password!==m.dublPassword?d("Пароли должны совпадать"):d("")},[m.password,m.dublPassword]),r.useEffect(()=>{h&&c===""&&n===""&&m.password!==""&&m.email!==""?p(!0):p(!1)},[h,c,n,m]);const u=L(),[y,k]=r.useState(!1),P=A=>{A.preventDefault();const N=m.email,M=m.password;u(me({emailUser:N,password:M})).unwrap().then(()=>{k(!y)}).catch(()=>{l("Пользователь с такой почтой уже существует")})},E=()=>{u(I.actions.changeFormActive("login"))};return e.jsx(e.Fragment,{children:y?e.jsx(wt,{email:m.email,password:m.password}):e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"modalForm__title",children:"Регистрация"}),e.jsxs("form",{onSubmit:P,className:"form-content",children:[e.jsxs("fieldset",{children:[e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("input",{type:"email",value:m.email,onChange:j,name:"email",placeholder:"example@mail.com",className:n&&n!==""?"errorInput":""}),n&&n!==""&&e.jsx("span",{className:"error-message",children:n})]}),e.jsxs("fieldset",{children:[e.jsx("label",{htmlFor:"password",children:"Пароль"}),e.jsx("input",{value:m.password,onChange:j,name:"password",type:t?"text":"password",className:c&&c!==""?"errorInput":"",placeholder:"exampLe_56q"}),e.jsx("div",{className:"eyeIcon",children:e.jsx(Z,{showPassword:t,togglePasswordVisibility:()=>s(!t)})})]}),e.jsxs("fieldset",{children:[e.jsx("label",{htmlFor:"dublPassword",children:"Повторите пароль"}),e.jsx("input",{value:m.dublPassword,onChange:j,name:"dublPassword",type:a?"text":"password",className:c&&c!==""?"errorInput":"",placeholder:"exampLe_56q"}),e.jsx("div",{className:"eyeIcon",children:e.jsx(Z,{showPassword:a,togglePasswordVisibility:()=>i(!a)})}),c&&c!==""&&e.jsx("p",{className:"error-message",children:c})]}),e.jsx(_,{text:"Зарегистрироваться",classList:"form-content__button button--registration",disabled:!g}),e.jsx("div",{className:"agreement",children:e.jsxs("label",{htmlFor:"agreement",className:"agreeCheckbox",children:[e.jsx(bt,{onChange:()=>x(!h),agreement:m.password!==""||m.dublPassword!==""?h:""}),e.jsxs("p",{children:["регистрируясь, я соглашаюсь с"," ",e.jsx("span",{className:"conditions",children:e.jsx("a",{href:Pe,target:"_blank",children:"условиями использования и Политикой конфиденциальности"})})]})]})})]}),e.jsx("label",{className:"backButton",onClick:E,children:"Назад"})]})})},yt=()=>{const t=L(),[s,a]=r.useState(""),[i,n]=r.useState(""),l=()=>{t(I.actions.changeFormActive("login"))},[c,d]=r.useState(!1);return r.useEffect(()=>{Be(s)?(d(!0),n("")):(d(!1),n("Введите корректный email"))},[s]),e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"modalForm__title",children:"Восстановление пароля"}),e.jsxs("form",{className:"form-content",children:[e.jsxs("fieldset",{children:[e.jsxs("label",{children:["Email",e.jsx("input",{type:"email",value:s,onChange:h=>a(h.target.value),name:"email",placeholder:"example@mail.com",className:i&&s!==""?"errorInput":""})]}),i&&s!==""&&e.jsx("span",{className:"error-message",children:i})]}),e.jsx(_,{text:"Отправить пароль на email",classList:"form-content__button button--registration",disabled:!c})]}),e.jsx("label",{className:"backButton",onClick:l,children:"Назад"})]})};function G({children:t}){const s=te(),a=L(),i=f(n=>n.auth.formAuthActiveId);return e.jsx("div",{className:"modalWrapper",children:e.jsx("div",{className:"noModalWrapper",children:e.jsxs("div",{className:"modal",children:[e.jsx("div",{className:"closeContainer",children:e.jsx(D,{id:"close",onClick:()=>{s("/"),a(I.actions.changeFormActive("login"))}})}),e.jsx("div",{className:"modalForm",children:t||e.jsxs(e.Fragment,{children:[i==="login"&&e.jsx($e,{}),i==="registration"&&e.jsx(St,{}),i==="recovery"&&e.jsx(yt,{})]})})]})})})}function Ct(){const t=L(),s=f(m=>m.auth.userData),[a,i]=r.useState(s.photoUser!==""?`${R}${s.photoUser}`:null),[n,l]=r.useState(""),[c,d]=r.useState(!0),[h,x]=r.useState(),g=m=>{m.preventDefault(),l("");const v=m.target.files&&m.target.files[0];if(!v)return;if(!/(\.jpg)$/i.exec(v.name))l("Допустимы файлы формата jpg, размер до 512х512"),i(""),d(!1);else{l(""),d(!0);const u=new FileReader;u.onloadend=()=>{const y=u.result;i(y),x(v)},u.readAsDataURL(v)}};r.useEffect(()=>{c&&h&&t(xe({photoUser:h})).unwrap().then(()=>{t(Y()),l("")}).catch(()=>{l("Размер превышает разрешенный до 512х512"),i("")})},[c,h,t]),r.useEffect(()=>{s.photoUser!==""&&i(`${R}${s.photoUser}?${Date.now()}`)},[s.photoUser]);const p=()=>{t(pe()).unwrap().then(()=>{t(Y()),i("")})};return e.jsxs("form",{className:"user-photo",encType:"multipart/form-data",children:[e.jsxs("label",{htmlFor:"photoUser",className:"user-photo__download",children:[e.jsx("input",{type:"file",name:"photoUser",id:"photoUser",onChange:g}),e.jsx("div",{className:"user-photo__controls",children:e.jsx(D,{id:"edit"})}),a&&a!==""&&e.jsx("img",{src:a,alt:"Preview"})]}),e.jsx("div",{className:"user-photo__controls",onClick:p,children:e.jsx(D,{id:"delete"})}),n&&e.jsx("p",{className:"user-photo__error",children:n})]})}const Lt=()=>{const t=L(),s=f(u=>u.auth.userData),a=s.dateOfBirth?new Date(s.dateOfBirth):"",[i,n]=r.useState({emailUser:s.emailUser,password:s.password,userName:s.userName,genders:s.genders,phoneNumber:s.phoneNumber,dateOfBirth:a&&a.toISOString().substr(0,10)}),l=u=>{n({...i,[u.target.name]:u.target.value})},c=u=>{n({...i,genders:u.target.value})},d=u=>{if(u.preventDefault(),!i)return!1;t(ge({userName:i.userName,genders:i.genders,phoneNumber:i.phoneNumber,dateOfBirth:new Date(i.dateOfBirth)})).unwrap().then(()=>{t(Y())})},[h,x]=r.useState(!1),[g,p]=r.useState(!1),[m,v]=r.useState(!1),j=()=>{p(!0),setTimeout(()=>{p(!1),t(ms()).unwrap().catch(()=>v(!0))},3e3)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"user-settings grid grid--4",children:[e.jsx(Ct,{}),e.jsxs("form",{className:"user-settings__form",children:[e.jsxs("fieldset",{className:"user-settings__fieldset",children:[e.jsx("label",{className:"user-settings__label",children:"Имя"}),e.jsx("input",{type:"text",name:"userName",id:"name",placeholder:"Введите имя",value:i.userName,onChange:l,className:"user-settings__input input"})]}),e.jsxs("fieldset",{className:"user-settings__fieldset",children:[e.jsx("label",{className:"user-settings__label",children:"Пол"}),e.jsxs("div",{className:"user-settings__gender-checkboxes",children:[e.jsx("input",{type:"radio",id:"female",name:"genders",className:"user-settings__radio radio",value:"female",onChange:c,checked:i.genders==="female"}),e.jsx("label",{htmlFor:"female",className:"radioLabel",children:"Ж"}),e.jsx("input",{type:"radio",id:"male",name:"genders",className:"user-settings__radio radio",value:"male",onChange:c,checked:i.genders==="male"}),e.jsx("label",{htmlFor:"male",className:"radioLabel",children:"М"})]})]}),e.jsxs("fieldset",{className:"user-settings__fieldset",children:[e.jsx("label",{className:"user-settings__label",children:"Номер телефона"}),e.jsx("input",{type:"text",name:"phoneNumber",id:"tel",placeholder:"+71111111111",value:i.phoneNumber,onChange:l,className:"user-settings__input input"})]}),e.jsxs("fieldset",{className:"user-settings__fieldset",children:[e.jsx("label",{className:"user-settings__label",children:"E-mail"}),e.jsx("input",{type:"email",name:"emailUser",id:"email",value:s.emailUser,className:"user-settings__input input",disabled:!0})]}),e.jsxs("fieldset",{className:"user-settings__fieldset",children:[e.jsx("label",{className:"user-settings__label",children:"Дата рождения"}),e.jsx("input",{type:"date",name:"dateOfBirth",id:"date",value:i.dateOfBirth,onChange:l})]}),e.jsxs("div",{className:"user-settings__buttons",children:[e.jsx(_,{text:"Сохранить",classList:"user-settings__button button--save",openModalForm:u=>d(u)}),e.jsx(_,{text:"Удалить профиль",classList:"user-settings__button button--delete",openModalForm:()=>x(!h)}),h&&e.jsx(G,{children:e.jsxs("div",{className:"user-settings__delete-modal",children:[e.jsx("p",{className:"user-settings__delete-modal-text",children:"Вы уверены?"}),e.jsxs("div",{className:"user-settings__delete-modal-buttons",children:[e.jsx(_,{text:"Да",classList:"user-settings__button button--save",openModalForm:j}),e.jsx(_,{text:"Нет",classList:"user-settings__button button--cancel",openModalForm:()=>x(!h)})]})]})}),g&&e.jsx(G,{children:e.jsx("div",{className:"user-settings__delete-modal",children:e.jsx("p",{className:"user-settings__delete-modal-text",children:"Удаляем..."})})}),m&&e.jsx(G,{children:e.jsxs("div",{className:"user-settings__delete-modal",children:[e.jsx(D,{id:"close",onClick:()=>{v(!1),p(!1)}}),e.jsx("p",{className:"user-settings__delete-modal-text",children:"Ой, что-то пошло не так &#128566"})]})})]})]})]})})},Dt=()=>e.jsx("div",{className:"user-review",children:e.jsxs("form",{className:"user-review__form",children:[e.jsx("label",{children:"Оставьте свой отзыв и оценку"}),e.jsx("input",{type:"text",placeholder:"Имя"}),e.jsx("textarea",{className:"user-review__textarea",placeholder:"Отзыв",rows:5}),e.jsx("label",{children:"Оценка"}),e.jsxs("div",{className:"user-review__group-star",children:[e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:e.jsx("use",{xlinkHref:`${C}#starTransparent`})}),e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:e.jsx("use",{xlinkHref:`${C}#starTransparent`})}),e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:e.jsx("use",{xlinkHref:`${C}#starTransparent`})}),e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:e.jsx("use",{xlinkHref:`${C}#starTransparent`})}),e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:e.jsx("use",{xlinkHref:`${C}#starTransparent`})})]}),e.jsx(_,{text:"Отправить отзыв",classList:"user-review__button button button--save"})]})}),Pt=({title:t,data:s,isRecordSelect:a})=>{const[i,n]=r.useState(!1),[l,c]=r.useState(t),d=B("select-filter",{"select-filter--is-record-select":a});return e.jsxs("div",{className:d,children:[e.jsxs("div",{onClick:()=>n(!i),className:"select-filter__title",children:[e.jsx("input",{type:"text",value:l,className:"select-filter__input cursor",required:!0,readOnly:!0}),e.jsx("label",{className:"select-filter__label",children:e.jsx("svg",{width:"13",height:"8",viewBox:"0 0 13 8",children:i?e.jsx("use",{xlinkHref:`${C}#topArrow`}):e.jsx("use",{xlinkHref:`${C}#bottomArrow`})})})]}),i&&e.jsx("div",{className:"select-filter__options",children:s.map((h,x)=>e.jsx("p",{className:"select-filter__option",onClick:()=>{c(h),n(!i)},children:h},x))})]})},kt=["Дата","Время","Занятие"],Ft=[{id:1,startDate:"02.10.23",time:"09:00",lesson:"Занятие 1"},{id:2,startDate:"02.10.23",time:"12:00",lesson:"Занятие 2"},{id:3,startDate:"02.10.23",time:"18:00",lesson:"Занятие 3"}],Tt=()=>{const t=["Выбор занятия","Выбор времени"];return e.jsx("div",{className:"user-record grid grid--12",children:e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"user-record__filters",children:t.map(s=>{let a=[];return s==="Выбор зала"&&(a=dt),s==="Выбор занятия"&&(a=lt),s==="Выбор времени"&&(a=ot),e.jsx(Pt,{title:s,data:a},s)})}),e.jsx(_,{text:"Записаться",classList:"user-record__button button--record"}),e.jsxs("div",{className:"user-record__content grid grid--12",children:[e.jsx("h5",{className:"user-record__title",children:"Текущие записи"}),e.jsxs("table",{className:"user-record__table",children:[e.jsx("thead",{children:e.jsx("tr",{className:"user-record__table-header",children:kt.map(s=>e.jsx("th",{className:"user-record__table-header-cell",children:s},s))})}),e.jsx("tbody",{children:Ft.map(({id:s,startDate:a,time:i,lesson:n})=>e.jsxs("tr",{className:"user-record__table-row",children:[e.jsx("td",{className:"user-record__table-cell",children:a}),e.jsx("td",{className:"user-record__table-cell",children:i}),e.jsx("td",{className:"user-record__table-cell",children:n})]},s))})]})]})]})})},Ht=()=>{const[t,s]=r.useState(!1),[a,i]=r.useState(!1),[n,l]=r.useState(!1),c=()=>{s(!t)},d=()=>{i(!a)},h=()=>{l(!n)},x=()=>{};return e.jsx("div",{className:"user-password",children:e.jsxs("div",{className:"user-password__form",children:[e.jsxs("fieldset",{className:"user-password__fieldset",children:[e.jsx("label",{htmlFor:"currentPassword",className:"user-password__label",children:"Текущий пароль"}),e.jsx("input",{type:t?"text":"password",name:"currentPassword",id:"currentPassword",className:"user-password__input",placeholder:"*****"}),e.jsx("div",{className:"user-password__eye-icon",children:e.jsx(Z,{showPassword:t,togglePasswordVisibility:c})})]}),e.jsxs("fieldset",{className:"user-password__fieldset",children:[e.jsx("label",{htmlFor:"newPassword",className:"user-password__label",children:"Новый пароль"}),e.jsx("input",{type:a?"text":"password",name:"newPassword",id:"newPassword",className:"user-password__input",placeholder:"*****"}),e.jsx("div",{className:"user-password__eye-icon",children:e.jsx(Z,{showPassword:a,togglePasswordVisibility:d})})]}),e.jsxs("fieldset",{className:"user-password__fieldset",children:[e.jsx("label",{htmlFor:"doubleNewPassword",className:"user-password__label",children:"Подтвердите пароль"}),e.jsx("input",{type:n?"text":"password",name:"doubleNewPassword",id:"doubleNewPassword",className:"user-password__input",placeholder:"*****"}),e.jsx("div",{className:"user-password__eye-icon",children:e.jsx(Z,{showPassword:n,togglePasswordVisibility:h})})]}),e.jsx(_,{text:"Сменить пароль",classList:"user-password__button button button--save",openModalForm:x})]})})},Et=()=>{const[t,s]=r.useState(new Set),a=i=>{const n=new Set(t);t.has(i)?n.delete(i):n.add(i),s(n)};return e.jsxs("div",{className:"user-notifications",children:[e.jsxs("div",{className:"user-notifications__settings",children:[e.jsx("input",{type:"checkbox",name:"selectedAll",id:"selectedAll",className:"user-notifications__checkbox"}),e.jsx("div",{className:"user-notifications__fake"}),e.jsx("label",{htmlFor:"selectedAll",className:"user-notifications__label",children:"Выделить все"}),e.jsx("input",{type:"checkbox",name:"read",id:"read",className:"user-notifications__checkbox"}),e.jsx("label",{htmlFor:"read",className:"user-notifications__label",children:"Пометить прочитанным"}),e.jsx("input",{type:"checkbox",name:"delete",id:"delete",className:"user-notifications__checkbox"}),e.jsx("label",{htmlFor:"delete",className:"user-notifications__label",children:"Удалить"})]}),e.jsx("div",{className:"user-notifications__list",children:rt.map(i=>{const n=`notification${i.id}`,l=t.has(n),c=`${i.date.getDate()}.${i.date.getMonth()+1}.${i.date.getFullYear()}`,d=`${i.date.getHours()}:${i.date.getMinutes()}`;return e.jsxs("li",{className:"user-notifications__notification grid grid--12",children:[e.jsx("div",{className:"user-notifications__notification-item",children:e.jsxs("label",{htmlFor:n,className:"user-notifications__label ",children:[e.jsx("input",{type:"checkbox",name:n,id:n,className:"user-notifications__checkbox",checked:l,onChange:()=>a(n)}),e.jsx("span",{className:"user-notifications__fake"}),e.jsx("span",{className:"user-notifications__text",children:i.text})]})}),e.jsxs("div",{className:"user-notifications__time",children:[c," ",d]})]},i.id)})}),e.jsxs("div",{className:"user-notifications__subscribe",children:[e.jsx("p",{className:"user-notifications__subscribe-text",children:"Получение уведомлений на почту"}),e.jsxs("div",{className:"user-notifications__input-group",children:[e.jsx("input",{type:"radio",name:"radio",id:"onRadio",className:"user-notifications__radio radio",defaultChecked:!0}),e.jsx("label",{htmlFor:"onRadio",className:"user-notifications__radiolabel radioLabel",children:"Включить"}),e.jsx("input",{type:"radio",name:"radio",id:"offRadio",className:"user-notifications__radio radio"}),e.jsx("label",{htmlFor:"offRadio",className:"user-notifications__radio-label radioLabel",children:"Выключить"})]})]})]})};function At({currentButton:t}){return e.jsxs(e.Fragment,{children:[t==="settings"&&e.jsx(Lt,{}),t==="tickets"&&e.jsx(Nt,{}),t==="notifications"&&e.jsx(Et,{}),t==="record"&&e.jsx(Tt,{}),t==="changepass"&&e.jsx(Ht,{}),t==="review"&&e.jsx(Dt,{})]})}const $t=()=>{const t=te(),s=L(),a=ke().pathname.slice(1).split("/")[1],i=f(n=>n.auth.buttonActive);return r.useEffect(()=>{s(I.actions.changeActiveButtonMenuPersonal(a))},[a,s]),r.useEffect(()=>{a||t(`${Je.path}`)},[t,a]),e.jsx("section",{className:"section",children:e.jsxs("div",{className:"user container",children:[e.jsx(jt,{}),i&&e.jsx(At,{currentButton:i})]})})},Ge=()=>e.jsx($t,{}),Ie=t=>t[$.Auth].authStatus;function Ye({children:t}){const s=f(Ie);return s===U.Unknown||s===U.NoAuth?e.jsx(Qe,{to:`${b.Root}`}):t}F.updateLocale("ru",{months:{format:"Января_Февраля_Марта_Апреля_Мая_Июня_Июля_Августа_Сентября_Октября_Ноября_Декабря".split("_"),standalone:"Январь_Февраль_Март_Апрель_Май_Июнь_Июль_Август_Сентябрь_Октябрь_Ноябрь_Декабрь".split("_")},monthsShort:{format:"янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.".split("_"),standalone:"янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.".split("_")},week:{dow:1},weekdays:{standalone:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),format:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_"),isFormat:/\[ ?[Вв] ?(?:прошлую|следующую|эту)? ?] ?dddd/},weekdaysShort:"вс_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., H:mm",LLLL:"dddd, D MMMM YYYY г., H:mm"}});F.tz.setDefault("Europe/Moscow");const Mt=Ps(F),hs=new Date;hs.setHours(6,0,0);const Rt={month:"Месяц",day:"День",week:"Неделя",previous:"<",next:">",today:"Сегодня"},T=new Date;new Date(T.getTime()+1*60*60*1e3);new Date(T.getTime()+(1*24+4)*60*60*1e3);const Ut=[{id:0,title:"Занятие 1",start:F(T).toDate(),end:F(new Date(T.getTime()+1*60*60*1e3)).toDate(),halls:O.First,desc:"meeting",isDraggable:!0,isResizable:!0},{id:1,title:"Занятие 2",start:F(new Date(T.getTime()-6*60*60*1e3)).toDate(),end:F(new Date(T.getTime()-5*60*60*1e3)).toDate(),halls:O.Secondary,desc:"meeting",isDraggable:!0,isResizable:!0},{id:3,title:"Занятие 3",start:F(new Date(T.getTime()+(1*24+3)*60*60*1e3)).toDate(),end:F(new Date(T.getTime()+(1*24+4)*60*60*1e3)).toDate(),halls:O.Third,desc:"meeting",isDraggable:!0,isResizable:!0},{id:4,title:"Занятие 4",start:F(T).toDate(),end:F(new Date(T.getTime()+1*60*60*1e3)).toDate(),halls:O.First,desc:"meeting",isDraggable:!0,isResizable:!0},{id:5,title:"Аренда Балетного зала",start:F(new Date(T.getTime()-4*60*60*1e3)).toDate(),end:F(new Date(T.getTime()-3*60*60*1e3)).toDate(),halls:O.Secondary,desc:"meeting",isDraggable:!0,isResizable:!0},{id:6,title:"Занятие 6",start:F(new Date(T.getTime()+1*24*60*60*1e3)).toDate(),end:F(new Date(T.getTime()+4*24*60*60*1e3)).toDate(),halls:O.Third,desc:"meeting",isDraggable:!0,isResizable:!0},{id:7,title:"Занятие 7",start:F(new Date(T.getTime()+.5*60*60*1e3)).toDate(),end:F(new Date(T.getTime()+1*60*60*1e3)).toDate(),halls:O.First,desc:"meeting",isDraggable:!0,isResizable:!0},{id:8,title:"Занятие 8",start:F(new Date(T.getTime()+3*60*60*1e3)).toDate(),end:F(new Date(T.getTime()+4*60*60*1e3)).toDate(),halls:O.First,desc:"meeting",isDraggable:!0,isResizable:!0},{id:9,title:"Занятие 9",start:F(new Date(T.getTime()+1*24*60*60*1e3)).toDate(),end:F(new Date(T.getTime()+3*24*60*60*1e3)).toDate(),halls:O.First,desc:"meeting",isDraggable:!0,isResizable:!0}];function Bt({selectedEvent:t,onClick:s}){return e.jsxs("div",{className:"detailEvent",children:[e.jsxs("div",{className:"control",children:[e.jsx(D,{id:"delete"}),e.jsx(D,{id:"close",onClick:s})]}),e.jsx("p",{children:t.title}),e.jsxs("p",{children:[t.start.toLocaleString(),"-",t.end.toLocaleString()]}),e.jsx("p",{children:t.desc})]})}const us=()=>{var j;const s=((j=f(u=>u.auth.userRole))==null?void 0:j.role)==="administrator",[a,i]=r.useState(Ut),n=u=>{const y=u.halls;return{className:B("primaryEvent",{firstEvent:y==="Зал 1",secondaryEvent:y==="Зал 2",thirdEvent:y==="Зал 3"})}},[l,c]=r.useState({id:0,title:"",allDay:!1,start:new Date,end:new Date,halls:"",desc:""}),[d,h]=r.useState(!1),x=u=>{c(u),h(!0)},g=()=>{h(!d)},p=ks(Fs),m=r.useCallback(({event:u,start:y,end:k})=>{i(P=>{const E=P.find(N=>N.id===u.id)??{};return[...P.filter(N=>N.id!==u.id),{...E,start:y,end:k}]})},[i]),v=r.useCallback(({event:u,start:y,end:k})=>{i(P=>{const E=P.find(N=>N.id===u.id)??{};return[...P.filter(N=>N.id!==u.id),{...E,start:y,end:k}]})},[i]);return e.jsxs(e.Fragment,{children:[e.jsx(p,{views:["day","week","month"],localizer:Mt,messages:Rt,defaultDate:r.useMemo(()=>new Date,[]),defaultView:"week",events:a,eventPropGetter:n,min:hs,step:30,style:{height:1350},dayLayoutAlgorithm:"no-overlap",popup:!0,dayPropGetter:u=>u.getDay()===new Date().getDay()?{style:{backgroundColor:"rgba(113, 133, 108, .1)"}}:{},onSelectEvent:x,resizableAccessor:s?"isResizable":void 0,onEventDrop:s?m:void 0,onEventResize:s?v:void 0,resizable:s}),d&&e.jsx(Bt,{selectedEvent:l,onClick:g})]})},It=()=>e.jsxs("section",{className:"section full-calendar",children:[e.jsx(q,{title:"Расписание",cls:"full-calendar__title"}),e.jsx("div",{className:"dashboard",children:e.jsx(us,{})})]}),Vt=()=>e.jsx("div",{className:"container",children:e.jsx(It,{})}),Ot={buttonActive:Xe.title},oe=le({name:$.Admin,initialState:Ot,reducers:{changeActiveButtonMenu(t,s){t.buttonActive=s.payload}}});oe.actions;const J=S("admin/aboutStudio",async(t,{extra:s})=>{const{data:a}=await s.get(w.AboutStudio);return a}),_e=S("admin/changeAboutStudio",async(t,{extra:s})=>{const{data:a}=await s.post(w.AboutStudio,{description:t});return a}),fe=S("admin/getCoordsCity",async(t,{extra:s})=>{const{data:a}=await s.get(w.CityMap);return a}),ve=S("admin/changeCoordsCity",async({title:t,lat:s,lng:a,zoom:i},{extra:n})=>{const{data:l}=await n.post(w.CityMap,{title:t,lat:s,lng:a,zoom:i});return l}),Ne=S("admin/getCoordsPoints",async(t,{extra:s})=>{const{data:a}=await s.get(w.PointsMap);return a}),be=S("admin/changeCoordsPoints",async({lat:t,lng:s},{extra:a})=>{const{data:i}=await a.post(w.PointsMap,{lat:t,lng:s});return i}),X=S("admin/getBanner",async(t,{extra:s})=>{const{data:a}=await s.get(w.Banner);return a}),we=S("admin/changeBanner",async({PhotoBanner:t},{extra:s})=>{const{data:a}=await s.post(w.Banner,t,{headers:{"content-type":"multipart/form-data"}});return a}),Se=S("admin/deleteBanner",async({IdBanner:t},{extra:s})=>{const{data:a}=await s.delete(w.Banner,{data:{IdBanner:t}});return a}),ye=S("admin/changeLogotype",async({photoLogo:t},{extra:s})=>{const{data:a}=await s.post(w.Logotype,t,{headers:{"content-type":"multipart/form-data"}});return a}),K=S("admin/getHalls",async(t,{extra:s})=>{const{data:a}=await s.get(w.Halls);return a}),gs=S("admin/addHallPhoto",async({PhotoHall:t},{extra:s})=>{const{data:a}=await s.post(w.AddHallPhoto,t,{headers:{"content-type":"multipart/form-data"}});return a}),ne=S("admin/addHall",async({IdHall:t,Title:s,Description:a},{extra:i})=>{const{data:n}=await i.post(w.Halls,{IdHall:t,Title:s,Description:a});return n}),Ce=S("admin/deleteHall",async({IdHall:t},{extra:s})=>{const{data:a}=await s.delete(w.Halls,{data:{IdHall:t}});return a}),W=S("admin/getTeachers",async(t,{extra:s})=>{const{data:a}=await s.get(w.Teachers);return a}),xs=S("admin/addTeacherPhoto",async({photoTeachers:t},{extra:s})=>{const{data:a}=await s.post(w.AddTeacherPhoto,t,{headers:{"content-type":"multipart/form-data"}});return a}),re=S("admin/addTeacher",async({idTeachers:t,teachersName:s,description:a},{extra:i})=>{const{data:n}=await i.post(w.Teachers,{idTeachers:t,teachersName:s,description:a});return n}),Le=S("admin/deleteTeacher",async({idTeachers:t},{extra:s})=>{const{data:a}=await s.delete(w.Teachers,{data:{idTeachers:t}});return a}),ee=S("admin/getTickets",async(t,{extra:s})=>{const{data:a}=await s.get(w.Price);return a}),zt=S("admin/addPrice",async({title:t,descriptionOne:s,descriptionTwo:a,descriptionThree:i,price:n},{extra:l})=>{const{data:c}=await l.post(w.AddPrice,{title:t,descriptionOne:s,descriptionTwo:a,descriptionThree:i,price:n});return c}),Gt=S("admin/deletePrice",async({idPrice:t},{extra:s})=>{const{data:a}=await s.delete(w.DelPrice,{data:{idPrice:t}});return a}),Yt=()=>{var v;const t=L(),s=(v=f(j=>j.studio.aboutStudioData))==null?void 0:v.photoLogo,[a,i]=r.useState(s),[n,l]=r.useState(""),[c,d]=r.useState(!0),[h,x]=r.useState(),[g,p]=r.useState(s!==""?`${R}${s}`:null),m=j=>{j.preventDefault(),l("");const u=j.target.files&&j.target.files[0];if(!u)return;if(!/(\.jpg|\.png)$/i.exec(u.name))l("Допустимы файлы формата png,jpg, размер до 512x512"),d(!1),p("");else{d(!0),x(u);const k=new FileReader;k.onloadend=()=>{const P=k.result;p(P)},k.readAsDataURL(u)}};return r.useEffect(()=>{c&&h&&t(ye({photoLogo:h})).unwrap().then(()=>{t(J())})},[c,h,t]),r.useEffect(()=>{i(s)},[s]),r.useEffect(()=>{s!==""&&p(`${R}${s}?${Date.now()}`)},[s]),e.jsxs(e.Fragment,{children:[a&&a!==""?e.jsxs("form",{className:"logotype-settings__update-form",encType:"multipart/form-data",children:[e.jsxs("label",{htmlFor:"reloadLogotype",className:"logotype-settings__update",children:[e.jsx(D,{id:"edit"}),e.jsx("input",{type:"file",name:"reloadLogotype",id:"reloadLogotype",onChange:m})]}),e.jsx("div",{className:"logotype-settings__card",id:"logotype",children:e.jsx(H,{to:b.Root,children:g&&g!==""&&e.jsx("img",{src:g,alt:"logotype"})})})]}):e.jsx("form",{className:"logotype-settings__add",encType:"multipart/form-data",children:e.jsxs("label",{htmlFor:"logotype",className:"logotype-settings__download button button--save",children:["Добавить лого",e.jsx("input",{type:"file",name:"logotype",id:"logotype",onChange:m},s)]})}),n&&e.jsx("p",{className:"logotype-settings__error-message error-message",children:n})]})},ps=({onClick:t,userRole:s})=>{const a=te(),i=L(),[n,l]=r.useState(!0),c=()=>{l(!n)},d=()=>{i(Te()),c&&c()},h=()=>{a(b.Root)},x=B("mobile-overlay visible-mobile",{"mobile-overlay--admin":s==="administrator"});return e.jsxs("dialog",{className:x,onClick:t,children:[e.jsx("form",{className:"mobile-overlay__close-button-wrapper",method:"dialog",children:e.jsx("button",{className:"mobile-overlay__close-button cross-button",type:"submit",children:e.jsx("span",{className:"visually-hidden",children:"Close navigation menu"})})}),e.jsx("div",{className:"mobile-overlay__body",children:s==="administrator"?e.jsxs("ul",{className:"mobile-overlay__list",children:[Ue.map(g=>e.jsx("li",{className:"mobile-overlay__item",children:e.jsx(Me,{to:`${b.AdministratorArea}/${g.path}`,className:"admin__sidebar-item",onClick:()=>i(oe.actions.changeActiveButtonMenu(g.path)),children:g.title})},g.id)),e.jsxs("li",{className:"mobile-overlay__item",onClick:h,children:[e.jsx("svg",{width:"25",height:"25",viewBox:"0 0 25 25",children:e.jsx("use",{xlinkHref:`${C}#return`})}),e.jsx("p",{children:"На главную"})]}),e.jsxs("li",{className:"mobile-overlay__item",onClick:d,children:[e.jsx("svg",{width:"25",height:"25",viewBox:"0 0 25 25",children:e.jsx("use",{xlinkHref:`${C}#logout`})}),e.jsx("p",{children:"Выход"})]})]}):e.jsxs("ul",{className:"mobile-overlay__list",children:[es.map(g=>{const p=g.title==="Услуги и цены"||g.title==="Контакты";return e.jsx("li",{className:"mobile-overlay__item",children:p?e.jsx(Re,{smooth:!0,to:g.url,className:"mobile-overlay__link",children:g.title}):e.jsx(H,{to:g.url,className:"mobile-overlay__link",children:g.title})},g.id)}),s==="customers"?e.jsxs(e.Fragment,{children:[e.jsx("li",{className:"mobile-overlay__item",children:e.jsxs(H,{to:s==="customers"?b.PersonalArea:b.AdministratorArea,children:[e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:e.jsx("use",{xlinkHref:`${C}#user`})}),"Профиль"]})}),e.jsx("li",{className:"mobile-overlay__item",onClick:d,children:e.jsxs(H,{to:b.Root,children:[e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 25 25",children:e.jsx("use",{xlinkHref:`${C}#logout`})}),"Выход"]})})]}):e.jsx("li",{className:"mobile-overlay__item",children:e.jsxs(H,{className:"header__icon-enter visible-mobile",to:`${b.Modal}${b.Login}`,state:{previousLocation:"/"},onClick:()=>i(I.actions.changeFormActive("login")),children:[e.jsx("svg",{width:"48",height:"48",viewBox:"0 0 48 48",children:e.jsx("use",{xlinkHref:`${C}#enter`})}),"Вход"]})})]})})]})};function Kt(){var x;const t=(x=f(g=>g.auth.userRole))==null?void 0:x.role,s=te(),a=L(),i="admin__sidebar-item",n=`${i} active`,l=()=>{a(Te()).unwrap().then(()=>{s(b.Root)})},c=()=>{s(b.Root)},[d,h]=r.useState(!1);return e.jsxs("aside",{className:"admin__sidebar",children:[e.jsxs("div",{className:"admin__sidebar-content hidden-mobile",children:[e.jsx("div",{className:"admin__sidebar-logo logotype-settings",children:e.jsx(Yt,{})}),e.jsx("ul",{className:"admin__sidebar-list",children:Ue.map(g=>e.jsx("li",{className:"admin__sidebar-item-wrapper",children:e.jsx(Me,{to:`${b.AdministratorArea}/${g.path}`,className:({isActive:p})=>p?n:i,onClick:()=>a(oe.actions.changeActiveButtonMenu(g.path)),children:g.title})},g.id))})]}),e.jsxs("ul",{className:"admin__sidebar-controls  hidden-mobile",children:[e.jsxs("li",{className:`admin__sidebar-control ${i}`,onClick:c,children:[e.jsx("svg",{width:"25",height:"25",viewBox:"0 0 25 25",children:e.jsx("use",{xlinkHref:`${C}#return`})}),e.jsx("p",{children:"На главную"})]}),e.jsxs("li",{className:`admin__sidebar-control ${i}`,onClick:l,children:[e.jsx("svg",{width:"25",height:"25",viewBox:"0 0 25 25",children:e.jsx("use",{xlinkHref:`${C}#logout`})}),e.jsx("p",{children:"Выход"})]})]}),e.jsx("button",{className:"button__burger-menu burger-button visible-mobile",type:"button",onClick:()=>h(!d),children:e.jsx("span",{className:"visually-hidden",children:"Open navigation menu"})}),d&&e.jsx(ps,{onClick:()=>h(!d),userRole:t})]})}const Wt=r.memo(Kt),qt=()=>{const t=L(),s=f(g=>g.studio.aboutStudioData),[a,i]=r.useState(s&&s.description!==null?s.description:"У вас еще нет описания. Изменить описание можно нажав на иконку 'Карандаш'"),[n,l]=r.useState(!1),[c,d]=r.useState(!1),h=()=>{t(_e(a)).unwrap().then(()=>t(J())),d(!1),l(!1)};r.useEffect(()=>{s&&s.description!==null&&i(s.description)},[s]);const x=()=>{i(""),d(!1)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"admin__content-about admin-about",children:[e.jsxs("div",{className:"admin-about__control-group",children:[e.jsx(D,{id:"edit",onClick:()=>{d(!0),l(!0)},isActive:n}),e.jsx(D,{id:"delete",onClick:x})]}),c?e.jsx("textarea",{rows:25,value:a,onBlur:h,onChange:g=>i(g.target.value),className:"admin-about__edit-text"}):e.jsx(e.Fragment,{children:e.jsx("p",{style:{whiteSpace:"pre-line"},children:a})})]})})},Qt=()=>{const t=L(),s=f(j=>j.studio.city),a=f(j=>j.studio.points),[i,n]=r.useState(!1),[l,c]=r.useState(""),[d,h]=r.useState(s?{title:s.title,lat:s.lat,lng:s.lng,zoom:s.zoom}:{title:"",lat:"",lng:"",zoom:""}),[x,g]=r.useState(a?{lat:a.lat,lng:a.lng}:{lat:"",lng:""});r.useEffect(()=>{t(fe()),t(Ne())},[t]),r.useEffect(()=>{s&&h({title:s.title,lat:s.lat,lng:s.lng,zoom:s.zoom}),a&&g({lat:a.lat,lng:a.lng})},[s,a]);const p=j=>{h({...d,[j.target.name]:j.target.value})},m=j=>{g({...x,[j.target.name]:j.target.value})},v=()=>{t(ve({title:d.title,lat:Number(d.lat),lng:Number(d.lng),zoom:Number(d.zoom)})).unwrap().then(()=>{n(!0),setTimeout(()=>{n(!1)},2e3)}),t(be({lat:Number(x.lat),lng:Number(x.lng)})).unwrap().then(()=>{n(!0),setTimeout(()=>{n(!1)},2e3)})};return e.jsxs("div",{className:"admin-page__contacts",children:[e.jsxs("fieldset",{children:[e.jsx("legend",{children:"Контактные данные"}),e.jsx("input",{type:"text",name:"title",value:d.title,placeholder:"Введите адрес",onChange:p}),e.jsx("input",{type:"tel",value:l,placeholder:"Введите телефон",onChange:j=>c(j.target.value)})]}),e.jsxs("fieldset",{children:[e.jsx("legend",{children:"Координаты и масштаб города"}),e.jsx("input",{type:"number",value:d.lat,name:"lat",placeholder:"Широта",pattern:"[0-9]+(\\.[0-9]+)?",onChange:p}),e.jsx("input",{type:"number",value:d.lng,name:"lng",placeholder:"Долгота",pattern:"[0-9]+(\\.[0-9]+)?",onChange:p}),e.jsx("input",{type:"number",value:d.zoom,name:"zoom",placeholder:"Масштаб от 1 до 20",max:20,onChange:p})]}),e.jsxs("fieldset",{children:[e.jsx("legend",{children:"Координаты студии"}),e.jsx("input",{type:"number",value:x.lat,name:"lat",placeholder:"Широта",pattern:"[0-9]+(\\.[0-9]+)?",onChange:m}),e.jsx("input",{type:"number",value:x.lng,name:"lng",placeholder:"Долгота",pattern:"[0-9]+(\\.[0-9]+)?",onChange:m})]}),e.jsx(_,{text:i?"Это успех":"Сохранить",classList:"btn-save",openModalForm:v})]})},Zt=()=>e.jsxs("div",{className:"admin-page__usersData",children:[e.jsxs("div",{className:"admin-page__usersData-toolbar",children:[e.jsxs("div",{className:"admin-page__usersData-buttonContainer",children:[e.jsx(_,{text:"Пользователи",classList:"btn-save"}),e.jsx(_,{text:"Запись",classList:"btn-save"})]}),e.jsxs("form",{className:"admin-page__usersData-searchForm searchForm",children:[e.jsx("input",{type:"search",id:"search",name:"search",placeholder:"Найти"}),e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",className:"searchForm__iconSearch",children:e.jsx("use",{xlinkHref:`${C}#search`})})]})]}),e.jsxs("div",{className:"admin-page__usersData-content grid grid--12",children:[e.jsxs("table",{className:"admin-page__usersData-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Фамилия Имя"}),e.jsx("th",{children:"Дата регистрации"}),e.jsx("th",{children:"Состояние"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Иванов Иван"}),e.jsx("td",{children:"21.08.2023"}),e.jsx("td",{children:"Активен"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Васильева Мария"}),e.jsx("td",{children:"15.08.2023"}),e.jsx("td",{children:"Активен"})]})]}),e.jsx("tfoot",{})]}),e.jsxs("div",{className:"admin-page__usersData-controlsButton",children:[e.jsx(_,{text:"Добавить",classList:"btn-save"}),e.jsx(_,{text:"Редактировать",classList:"btn-reg"}),e.jsx(_,{text:"Удалить",classList:"btn-more"})]})]})]}),Jt=()=>e.jsxs("div",{className:"admin-page__dashboard",children:[e.jsxs("div",{className:"admin-page__dashboard-buttonGroup",children:[e.jsx(_,{text:"Все",classList:"dashboardMenuAdmin"}),e.jsx(_,{text:"Зал 1",classList:"dashboardMenuAdmin"}),e.jsx(_,{text:"Зал 2",classList:"dashboardMenuAdmin"}),e.jsx(_,{text:"Зал 3",classList:"dashboardMenuAdmin"})]}),e.jsx(us,{})]}),Xt=({onClick:t})=>{const s=L(),a=f(N=>N.studio.currentHallData),[i,n]=r.useState(!1),[l,c]=r.useState(a?`${R}${a==null?void 0:a.PhotoHall}`:null),[d,h]=r.useState(""),[x,g]=r.useState(""),[p,m]=r.useState(""),[v,j]=r.useState(!0),[u,y]=r.useState(),k=N=>{N.preventDefault(),m("");const M=N.target.files&&N.target.files[0];if(!M)return;if(!/(\.jpg)$/i.exec(M.name))m("Допустимы файлы формата jpg, размер до 320х252"),c(""),j(!1);else{j(!0);const z=new FileReader;z.onloadend=()=>{const Ee=z.result;c(Ee),y(M)},z.readAsDataURL(M)}};r.useEffect(()=>{v&&u&&(s(gs({PhotoHall:u})).unwrap(),n(!0))},[v,u]);const P=N=>{if(N.preventDefault(),a){const M=a.IdHall;s(ne({IdHall:M,Title:d,Description:x})).unwrap().then(()=>s(K())).then(()=>{t&&t()})}},[E,A]=r.useState(!1);return r.useEffect(()=>{A(!!(i&&d&&x))},[i,d,x]),e.jsxs("div",{className:"card-hall__manager card-add",children:[e.jsx("div",{className:"card-hall__manager-control",children:e.jsx(D,{id:"close",onClick:t})}),e.jsxs("form",{className:"card-hall__manager-form",encType:"multipart/form-data",children:[e.jsxs("label",{htmlFor:"PhotoHall",className:"card-hall__manager-download",children:["Добавить фото",e.jsx("input",{type:"file",name:"PhotoHall",id:"PhotoHall",onChange:k}),l&&l!==null&&e.jsx("img",{src:l,alt:"Preview"})]}),p&&e.jsx("p",{className:"card-hall__manager-error",children:p}),e.jsx("div",{className:"card-hall__manager-item-data",children:e.jsxs(e.Fragment,{children:[e.jsx("textarea",{name:"title",id:"title",rows:1,placeholder:"Добавить название",value:d,onChange:N=>h(N.target.value)}),e.jsx("textarea",{name:"description",id:"description",rows:5,placeholder:"Добавить описание",value:x,onChange:N=>g(N.target.value)}),e.jsxs("div",{className:"card-hall__manager-buttonGroup",children:[e.jsx(_,{text:"Сохранить",disabled:!E,classList:E?"btn-save":"btn-dis",openModalForm:P}),e.jsx(_,{text:"Отменить",classList:"btn-cancel",openModalForm:t})]})]})})]})]})},ea=({onClick:t,id:s})=>{const a=L(),i=f(u=>u.studio.hallsData),n=i==null?void 0:i.filter(u=>u.IdHall===s)[0],[l,c]=r.useState(""),[d,h]=r.useState(""),[x,g]=r.useState("");r.useEffect(()=>{n&&(c(`${R}${n==null?void 0:n.PhotoHall}`),h(n.Title),g(n.Description))},[n]);const[p,m]=r.useState(""),v=u=>{u.preventDefault(),m("");const y=u.target.files&&u.target.files[0];if(!y)return;if(!/(\.jpg)$/i.exec(y.name))m("Допустимы файлы формата jpg, размер до 320х252"),c("");else{const P=new FileReader;P.onloadend=()=>{const E=P.result;c(E)},P.readAsDataURL(y)}},j=u=>{if(u.preventDefault(),n){const y=n.IdHall;a(ne({IdHall:y,Title:d,Description:x})).unwrap().then(()=>a(K())).then(()=>{t&&t()})}};return e.jsxs("div",{className:"card-hall__manager card-edit",children:[e.jsx("div",{className:"card-hall__manager-control",children:e.jsx(D,{id:"close",onClick:t})}),e.jsxs("form",{className:"card-hall__manager-form",encType:"multipart/form-data",children:[e.jsxs("label",{htmlFor:"PhotoHall",className:"card-hall__manager-download",children:["Добавить фото",e.jsx("input",{type:"file",name:"PhotoHall",id:"PhotoHall",onChange:v}),l&&l!==""&&e.jsx("img",{src:l,alt:"Preview"})]}),p&&e.jsx("p",{className:"card-hall__manager-error",children:p}),e.jsxs("div",{className:"card-hall__manager-item-data",children:[e.jsx("textarea",{name:"title",id:"title",rows:1,placeholder:"Добавить название",value:d,onChange:u=>h(u.target.value)}),e.jsx("textarea",{name:"description",id:"description",rows:5,placeholder:"Добавить описание",value:x,onChange:u=>g(u.target.value)}),e.jsxs("div",{className:"card-hall__manager-buttonGroup",children:[e.jsx(_,{text:"Сохранить",classList:"btn-save",openModalForm:j}),e.jsx(_,{text:"Отменить",classList:"btn-cancel",openModalForm:t})]})]})]})]})},sa=()=>{const t=L(),s=f(m=>m.studio.hallsData),[a,i]=r.useState(s),[n,l]=r.useState(!1),[c,d]=r.useState(!1),[h,x]=r.useState(0);r.useEffect(()=>{t(K())},[t]);const g=m=>{t(Ce({IdHall:m})).unwrap().then(()=>t(K()))};r.useEffect(()=>{i(s)},[s]);const p=m=>{d(!c),x(m)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"admin__content-halls admin-halls grid grid--3",children:a!==null?e.jsx(e.Fragment,{children:a.map(m=>e.jsxs("div",{className:"admin-halls__card-wrapper",children:[e.jsxs("div",{className:"admin-halls__control-group",children:[e.jsx(D,{id:"edit",onClick:()=>p(m.IdHall)}),e.jsx(D,{id:"delete",onClick:()=>g(m.IdHall)})]}),e.jsx(as,{hall:m})]},m.IdHall))}):e.jsx("p",{className:"admin-halls__text",children:'У вас еще нет залов. Вы можете добавить зал, нажав кнопку "Добавить"'})}),e.jsx("div",{className:"admin-halls__add",children:e.jsx(_,{text:"Добавить",classList:"admin-halls__button button--add",openModalForm:()=>l(!n)})}),n&&e.jsx(G,{children:e.jsx(Xt,{onClick:()=>l(!n)})}),c&&e.jsx(G,{children:e.jsx(ea,{onClick:()=>d(!c),id:h})})]})},ta=()=>e.jsxs("div",{className:"admin__content-policy admin-policy",children:[e.jsx(q,{title:"Юридическая информация",cls:"admin-policy__title"}),e.jsxs("ul",{className:"admin-policy__list grid grid--2",children:[e.jsxs("li",{className:"admin-policy__item",children:[e.jsxs("div",{className:"admin-policy__item-controls",children:[e.jsx("a",{href:Pe,target:"_blank",rel:"noopener noreferrer",children:e.jsx(D,{id:"view"})}),e.jsx(D,{id:"delete"})]}),e.jsx("div",{className:"admin-policy__item-file",children:"Условия использования и Политика конфиденциальности"})]}),e.jsxs("li",{className:"admin-policy__item",children:[e.jsxs("div",{className:"admin-policy__item-controls",children:[e.jsx("a",{href:Pe,target:"_blank",rel:"noopener noreferrer",children:e.jsx(D,{id:"view"})}),e.jsx(D,{id:"delete"})]}),e.jsx("div",{className:"admin-policy__item-file",children:"Условия использования и Политика конфиденциальности Условия использования и Политика конфиденциальности"})]})]}),e.jsx("div",{className:"admin-policy__button-container",children:e.jsx(_,{text:"Добавить",classList:"admin-policy__button button button--save"})})]}),aa=()=>{const t=L(),s=f(m=>m.studio.bannersData),[a,i]=r.useState(s),[n,l]=r.useState(""),[c,d]=r.useState(!0),[h,x]=r.useState(),g=m=>{m.preventDefault(),l("");const v=m.target.files&&m.target.files[0];if(!v)return;/(\.jpg)$/i.exec(v.name)?(d(!0),x(v)):(l("Допустимы файлы формата jpg, размер до 1434x345"),d(!1))};r.useEffect(()=>{c&&h&&t(we({PhotoBanner:h})).unwrap().then(()=>{t(X())})},[c,h,t]),r.useEffect(()=>{t(X())},[t]),r.useEffect(()=>{i(s)},[s]);const p=m=>{t(Se({IdBanner:m})).unwrap().then(()=>t(X()))};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"admin__content-banners admin-banners",children:a?e.jsx(e.Fragment,{children:a.map(m=>e.jsxs("div",{className:"admin-banners__card",children:[e.jsx("div",{className:"admin-banners__control",children:e.jsx(D,{id:"delete",onClick:()=>p(m.IdBanner)})}),e.jsx("img",{src:`${R}${m.PhotoBanner}?v=1`,alt:"Баннер"})]},m.IdBanner))}):e.jsx("p",{children:'У вас еще нет баннеров. Вы можете добавить, нажав кнопку "Добавить"'})}),e.jsxs("form",{className:"admin-banners__add",children:[e.jsxs("label",{htmlFor:"banner",className:"admin-banners__button button button--save",children:["Добавить",e.jsx("input",{type:"file",name:"banner",id:"banner",onChange:g})]}),n&&e.jsx("p",{className:"admin-banners__error error-message",children:n})]})]})},ia=()=>e.jsxs("div",{className:"admin-page__settings",children:[e.jsx("h2",{children:"Темы"}),e.jsx("p",{children:"Текущая тема:"}),e.jsxs("div",{className:"admin-page__settings-theme admin-page__settings-seventhTheme admin-page__settings-currentTheme",children:[e.jsx("div",{className:"admin-page__settings-tile"}),e.jsx("div",{className:"admin-page__settings-tile"}),e.jsx("div",{className:"admin-page__settings-tile"}),e.jsx("div",{className:"admin-page__settings-tile"}),e.jsx("div",{className:"admin-page__settings-tile"}),e.jsx("div",{className:"admin-page__settings-tile"}),e.jsx("div",{className:"admin-page__settings-tile"})]}),e.jsx("p",{children:"Чтобы применить другую тему нажмите на нее"}),e.jsx("div",{className:"admin-page__settings-new",children:e.jsxs("div",{className:"admin-page__settings-theme admin-page__settings-secondaryTheme",children:[e.jsx("div",{className:"admin-page__settings-tile"}),e.jsx("div",{className:"admin-page__settings-tile"}),e.jsx("div",{className:"admin-page__settings-tile"}),e.jsx("div",{className:"admin-page__settings-tile"}),e.jsx("div",{className:"admin-page__settings-tile"}),e.jsx("div",{className:"admin-page__settings-tile"}),e.jsx("div",{className:"admin-page__settings-tile"})]})}),e.jsx("h2",{children:"Разделы"}),e.jsxs("div",{className:"admin-page__settings-pages",children:[e.jsxs("div",{className:"admin-page__settings-page",children:[e.jsx("h3",{children:"Главная страница"}),e.jsx("p",{className:"admin-page__settings-pageitem",children:"О студии"}),e.jsx("p",{className:"admin-page__settings-pageitem",children:"Персонал"}),e.jsx("p",{className:"admin-page__settings-pageitem",children:"Услуги и цены"}),e.jsx("p",{className:"admin-page__settings-pageitem",children:"Отзывы"}),e.jsx("p",{className:"admin-page__settings-pageitem",children:"Контакты"})]}),e.jsx("div",{className:"admin-page__settings-pageitem",children:e.jsx("h3",{children:"Расписание"})}),e.jsx("div",{className:"admin-page__settings-pageitem",children:e.jsx("h3",{children:"Отзывы"})})]})]}),na=()=>{const[t,s]=r.useState("all");return e.jsxs("div",{className:"admin-page__reviews",children:[e.jsxs("div",{className:"admin-page__reviews-inputGroup",children:[e.jsx("input",{type:"radio",name:"radio",id:"all",className:"admin-page__reviews-checkbox",checked:t==="all",onChange:()=>s("all")}),e.jsx("label",{htmlFor:"all",className:`admin-page__reviews-radiolabel ${t==="all"?"active":""}`,children:"Все отзывы"}),e.jsx("input",{type:"radio",name:"radio",id:"new",className:"admin-page__reviews-checkbox",checked:t==="new",onChange:()=>s("new")}),e.jsx("label",{htmlFor:"new",className:`admin-page__reviews-radiolabel ${t==="new"?"active":""}`,children:"Новые"})]}),ds.map(a=>e.jsx(cs,{review:a,id:"adminSettings"},a.id))]})},ra=({onClick:t,id:s})=>{const a=L(),i=f(u=>u.studio.techersData),n=i==null?void 0:i.filter(u=>u.idTeachers===s)[0],[l,c]=r.useState(""),[d,h]=r.useState(""),[x,g]=r.useState("");r.useEffect(()=>{n&&(c(`${R}${n==null?void 0:n.photoTeachers}`),h(n.teachersName),g(n.description))},[n]);const[p,m]=r.useState(""),v=u=>{u.preventDefault(),m("");const y=u.target.files&&u.target.files[0];if(!y)return;if(!/(\.jpg)$/i.exec(y.name))m("Допустимы файлы формата jpg, размер до 320х252"),c("");else{const P=new FileReader;P.onloadend=()=>{const E=P.result;c(E)},P.readAsDataURL(y)}},j=u=>{if(u.preventDefault(),n){const y=n.idTeachers;a(re({idTeachers:y,teachersName:d,description:x})).unwrap().then(()=>a(W())).then(()=>{t&&t()})}};return e.jsxs("div",{className:"card-personal__manager card-edit",children:[e.jsx("div",{className:"card-personal__manager-control",children:e.jsx(D,{id:"close",onClick:t})}),e.jsxs("form",{className:"card-personal__manager-form",encType:"multipart/form-data",children:[e.jsxs("label",{htmlFor:"PhotoHall",className:"card-personal__manager-download",children:[e.jsx("input",{type:"file",name:"PhotoHall",id:"PhotoHall",onChange:v}),l&&l!==""&&e.jsx("div",{className:"photo-container",children:e.jsx("div",{className:"photo-container__inner",children:e.jsx("div",{className:"photo-container__body",children:e.jsx("img",{src:l,alt:"Preview",className:"photo-container__image"})})})})]}),p&&e.jsx("p",{className:"card-personal__manager-error",children:p}),e.jsxs("div",{className:"card-personal__manager-item-data",children:[e.jsx("textarea",{name:"title",id:"title",rows:2,placeholder:"Добавить название",value:d,onChange:u=>h(u.target.value)}),e.jsx("textarea",{name:"description",id:"description",rows:5,placeholder:"Добавить описание",value:x,onChange:u=>g(u.target.value)}),e.jsxs("div",{className:"card-personal__manager-buttonGroup",children:[e.jsx(_,{text:"Сохранить",classList:"btn-save",openModalForm:j}),e.jsx(_,{text:"Отменить",classList:"btn-cancel",openModalForm:t})]})]})]})]})},la=({onClick:t})=>{const s=L(),a=f(N=>N.studio.currentTeacherData),[i,n]=r.useState(!1),[l,c]=r.useState(a?`${R}${a==null?void 0:a.photoTeachers}`:null),[d,h]=r.useState(""),[x,g]=r.useState(""),[p,m]=r.useState(""),[v,j]=r.useState(!0),[u,y]=r.useState(),k=N=>{N.preventDefault(),m("");const M=N.target.files&&N.target.files[0];if(!M)return;if(!/(\.jpg)$/i.exec(M.name))m("Допустимы файлы формата jpg, размер до 200х200"),c(""),j(!1);else{j(!0);const z=new FileReader;z.onloadend=()=>{const Ee=z.result;c(Ee),y(M)},z.readAsDataURL(M)}};r.useEffect(()=>{v&&u&&(s(xs({photoTeachers:u})).unwrap(),n(!0))},[v,u]);const P=N=>{if(N.preventDefault(),a&&i){const M=a.idTeachers;s(re({idTeachers:M,teachersName:d,description:x})).unwrap().then(()=>s(W())).then(()=>{t&&t()})}},[E,A]=r.useState(!1);return r.useEffect(()=>{A(!!(i&&d&&x))},[i,d,x]),e.jsxs("div",{className:"card-personal__manager card-add",children:[e.jsx("div",{className:"card-personal__manager-control",children:e.jsx(D,{id:"close",onClick:t})}),e.jsxs("form",{className:"card-personal__manager-form",encType:"multipart/form-data",children:[e.jsxs("label",{htmlFor:"photoTeacher",className:"card-personal__manager-download",children:["Добавить фото",e.jsx("input",{type:"file",name:"photoTeacher",id:"photoTeacher",onChange:k}),l&&l!==null&&l!==""&&e.jsx("img",{src:l,alt:"Preview"})]}),p&&e.jsx("p",{className:"card-personal__manager-error",children:p}),e.jsx("div",{className:"card-personal__manager-item-data",children:e.jsxs(e.Fragment,{children:[e.jsx("textarea",{name:"title",id:"title",rows:1,placeholder:"Имя и фамилия",value:d,onChange:N=>h(N.target.value)}),e.jsx("textarea",{name:"description",id:"description",rows:5,placeholder:"Добавить описание",value:x,onChange:N=>g(N.target.value)}),e.jsxs("div",{className:"card-personal__manager-buttonGroup",children:[e.jsx(_,{text:"Сохранить",disabled:!E,classList:E?"btn-save":"btn-dis",openModalForm:P}),e.jsx(_,{text:"Отменить",classList:"btn-cancel",openModalForm:t})]})]})})]})]})},oa=()=>{const t=L(),s=f(m=>m.studio.techersData),[a,i]=r.useState(s),[n,l]=r.useState(!1),[c,d]=r.useState(!1),[h,x]=r.useState(0);r.useEffect(()=>{t(W())},[t]);const g=m=>{t(Le({idTeachers:m})).unwrap().then(()=>t(W()))};r.useEffect(()=>{i(s)},[s]);const p=m=>{d(!c),x(m)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"admin__content-personal admin-personal",children:a!==null?e.jsx("ul",{className:"admin-personal__list personal-list grid grid--2",children:a.map(m=>e.jsxs("li",{className:"admin-personal__item-wrapper",children:[e.jsxs("div",{className:"admin-personal__control-group",children:[e.jsx(D,{id:"edit",onClick:()=>p(m.idTeachers)}),e.jsx(D,{id:"delete",onClick:()=>g(m.idTeachers)})]}),e.jsx(is,{teacher:m,prefixClass:"admin-personal"})]},m.idTeachers))}):e.jsx("p",{className:"admin-personal__text",children:'У вас еще нет персонала. Вы можете добавить преподавателя, нажав кнопку "Добавить"'})}),e.jsx("div",{className:"admin-personal__add",children:e.jsx(_,{text:"Добавить",classList:"admin-personal__button button--add",openModalForm:()=>l(!n)})}),n&&e.jsx(G,{children:e.jsx(la,{onClick:()=>l(!n)})}),c&&e.jsx(G,{children:e.jsx(ra,{onClick:()=>d(!c),id:h})})]})},da=({onClick:t})=>{const s=L(),[a,i]=r.useState(""),[n,l]=r.useState(""),[c,d]=r.useState(""),[h,x]=r.useState(""),[g,p]=r.useState(0),m=u=>{u.preventDefault(),s(zt({title:a,descriptionOne:n,descriptionTwo:c,descriptionThree:h,price:g})).unwrap().then(()=>s(ee())).then(()=>{t&&t()})},[v,j]=r.useState(!1);return r.useEffect(()=>{j(!!(a&&g&&(n||c||h)))},[a,n,c,h,g]),e.jsxs("div",{className:"card-price__manager card-add",children:[e.jsx("div",{className:"card-price__manager-control",children:e.jsx(D,{id:"close",onClick:t})}),e.jsx("form",{className:"card-price__manager-form",children:e.jsx("div",{className:"card-price__manager-item-data",children:e.jsxs(e.Fragment,{children:[e.jsx("textarea",{name:"titleTicket",id:"titleTicket",rows:1,placeholder:"Добавить название абонемента",value:a,onChange:u=>i(u.target.value)}),e.jsx("textarea",{name:"descriptionOne",id:"descriptionOne",rows:2,placeholder:"Добавить описание",value:n,onChange:u=>l(u.target.value)}),e.jsx("textarea",{name:"descriptionTwo",id:"descriptionTwo",rows:2,placeholder:"Добавить описание",value:c,onChange:u=>d(u.target.value)}),e.jsx("textarea",{name:"descriptionThree",id:"descriptionThree",rows:2,placeholder:"Добавить описание",value:h,onChange:u=>x(u.target.value)}),e.jsx("input",{name:"price",id:"price",placeholder:"Добавить стоимость",value:g,onChange:u=>p(Number(u.target.value))}),e.jsxs("div",{className:"card-price__manager-buttonGroup",children:[e.jsx(_,{text:"Сохранить",disabled:!v,classList:v?"btn-save":"btn-dis",openModalForm:m}),e.jsx(_,{text:"Отменить",classList:"btn-cancel",openModalForm:t})]})]})})})]})},ca=()=>{const t=L(),s=f(l=>l.studio.priceData);r.useEffect(()=>{t(ee())},[t]);const[a,i]=r.useState(!1),n=l=>{t(Gt({idPrice:l})).unwrap().then(()=>t(ee()))};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"admin-page__price",children:s?e.jsx("ul",{className:"admin-page__price-list price-list grid grid--12",children:s.map(l=>e.jsxs("div",{className:"admin-page__price-item-wrapper",children:[e.jsx("div",{className:"admin-page__price-controlGroup",children:e.jsx(D,{id:"delete",onClick:()=>n(l.idPrice)})}),e.jsx(os,{price:l,cls:"noneShadow"})]},l.title))}):e.jsx("p",{className:"admin-page__price-text",children:'У вас еще нет абонементов. Вы можете добавить их нажав кнопку "Добавить"'})}),e.jsx("div",{className:"admin-page__price-add",children:e.jsx(_,{text:"Добавить",classList:"add",openModalForm:()=>i(!a)})}),a&&e.jsx(G,{children:e.jsx(da,{onClick:()=>i(!a)})})]})},ma=({isActiveButton:t})=>{const s=B("admin__content",{admin__overlay:t==="contacts"});return e.jsxs("div",{className:s,children:[t==="about"&&e.jsx(qt,{}),t==="news"&&e.jsx(aa,{}),t==="halls"&&e.jsx(sa,{}),t==="personal"&&e.jsx(oa,{}),t==="information"&&e.jsx(ta,{}),t==="price"&&e.jsx(ca,{}),t==="dashboard"&&e.jsx(Jt,{}),t==="reviews"&&e.jsx(na,{}),t==="contacts"&&e.jsx(Qt,{}),t==="control-users"&&e.jsx(Zt,{}),t==="settings"&&e.jsx(ia,{})]})},ha=()=>{const t=te(),s=L(),a=f(n=>n.admin.buttonActive),i=ke().pathname.slice(1).split("/")[1];return r.useEffect(()=>{s(oe.actions.changeActiveButtonMenu(i))},[i,s]),r.useEffect(()=>{i||t(`${Xe.path}`)},[t,i]),r.useEffect(()=>{s(Q()),s(J())},[s]),e.jsxs("section",{className:"admin grid grid--2",children:[e.jsx(Wt,{}),a&&e.jsx(ma,{isActiveButton:a})]})},Ke=()=>e.jsx(ha,{}),js=()=>{const t=f(i=>{var n;return(n=i.main.mainPage)==null?void 0:n.Atelie.photoLogo}),[s,a]=r.useState("");return r.useEffect(()=>{t&&t!==""&&a(`${R}${t}?v=${Math.random()}`)},[t]),e.jsx(H,{to:b.Root,children:s&&e.jsx("img",{src:s,alt:"Logotype",width:250,height:60,loading:"lazy",className:"logo__image"})},s)},ua=()=>{const t=f(a=>{var i;return(i=a.main.mainPage)==null?void 0:i.City}),s=()=>{window.scrollTo(0,0)};return e.jsxs("div",{className:"footer",children:[e.jsxs("div",{className:"footer__inner container",children:[e.jsx("div",{className:"footer__logo logo",onClick:s,children:e.jsx(js,{})}),e.jsx("nav",{className:"footer__menu",children:e.jsxs("ul",{className:"footer__menu-list",children:[e.jsx("li",{className:"footer__menu-item",children:e.jsx(H,{to:"/",className:"footer__menu-link",children:"Скачать приложение"})}),e.jsx("li",{className:"footer__menu-item",children:e.jsx("ul",{children:Gs.map(a=>{const i=a.title==="Услуги и цены"||a.title==="Контакты"||a.title==="Отзывы";return e.jsx("li",{children:i?e.jsx(Re,{smooth:!0,to:a.url,className:"footer__menu-link",children:a.title}):e.jsx(H,{to:a.url,className:"footer__menu-link",children:a.title})},a.id)})})}),e.jsx("li",{className:"footer__menu-item",children:e.jsx("span",{children:e.jsx("a",{href:Pe,target:"_blank",children:"Юридическая информация"})})})]})}),e.jsxs("div",{className:"footer__contacts",children:[e.jsxs("div",{className:"footer__contacts-location",children:[e.jsx("div",{style:{width:"24"},children:e.jsx("svg",{width:"25",height:"25",viewBox:"0 0 25 25",children:e.jsx("use",{xlinkHref:`${C}#location`})})}),e.jsxs("p",{children:[t==null?void 0:t.title," ",e.jsx("br",{}),"c 09:00 до 21:00"]})]}),e.jsxs("div",{className:"footer__contacts-phone",children:[e.jsx("svg",{width:"25",height:"25",viewBox:"0 0 25 25",children:e.jsx("use",{xlinkHref:`${C}#phone`})}),e.jsx("p",{children:e.jsx("a",{href:"tel:+74957887750",children:"+7 (495) 788-77-50"})})]}),e.jsxs("div",{className:"footer__contacts-socialBlock",children:[e.jsx("p",{children:"Мы в социальных сетях:"}),e.jsx(rs,{})]})]})]}),e.jsx("div",{className:"footer__organization container",children:e.jsx(H,{to:"https://pnpl.site/",children:"Проект разработан в рамках Pineapple Practice"})})]})},We=({openModalForm:t})=>{var d;r.useEffect(()=>{const h=document.querySelector("#area");return setTimeout(()=>{h==null||h.classList.add("active")},10),()=>{setTimeout(()=>{h==null||h.classList.remove("active")},10)}},[]);const s=L(),a=()=>{s(Te()),t&&t()},i=f(Ie),n=(d=f(h=>h.auth.userRole))==null?void 0:d.role,[l,c]=r.useState(n);return r.useEffect(()=>{c(n)},[n]),i!==U.Auth||l===""?e.jsx(Qe,{to:b.Root}):e.jsxs("div",{className:"area",id:"area",children:[e.jsx("div",{className:"area__decoration"}),e.jsx("div",{className:"area__controls",children:e.jsx(D,{id:"close",onClick:t})}),e.jsxs("ul",{className:"area__submenu-list",children:[e.jsx("p",{className:"area__submenu-item",onClick:t,children:e.jsxs(H,{to:l==="customers"?b.PersonalArea:b.AdministratorArea,children:[e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:e.jsx("use",{xlinkHref:`${C}#user`})}),"Профиль"]})}),e.jsx("p",{className:"area__submenu-item",onClick:a,children:e.jsxs(H,{to:b.Root,children:[e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 25 25",children:e.jsx("use",{xlinkHref:`${C}#logout`})}),"Выход"]})})]})]})},ga=()=>{var m,v;const t=L(),s=ke(),[a,i]=r.useState(!1),n=()=>{i(!a)},l=f(Ie),c=f(j=>j.auth.userData),[d,h]=r.useState(c);r.useEffect(()=>{h(c)},[c]);const[x,g]=r.useState(!1),p=(m=f(j=>j.auth.userRole))==null?void 0:m.role;return e.jsx("div",{className:"header",children:e.jsxs("div",{className:"header__inner container",children:[e.jsx("div",{className:"header__logo logo",children:e.jsx(js,{})}),e.jsx("nav",{className:"header__menu hidden-mobile",children:e.jsx("ul",{className:"header__menu-list",children:es.map(j=>{const u=j.title==="Услуги и цены"||j.title==="Контакты";return e.jsx("li",{className:"header__menu-item",children:u?e.jsx(Re,{smooth:!0,to:j.url,className:"header__menu-link",children:j.title}):e.jsx(H,{to:j.url,className:"header__menu-link",children:j.title})},j.id)})})}),l==="AUTH"&&p==="customers"&&e.jsxs("div",{className:"header__userControl  hidden-mobile",children:[e.jsx(H,{to:`${b.PersonalArea}/notifications`,className:"header__userControl-notification",children:e.jsx("svg",{width:"30",height:"30",viewBox:"0 0 30 30",children:e.jsx("use",{xlinkHref:`${C}#notification`})})}),e.jsxs("div",{className:"header__submenu",children:[e.jsx(_,{text:(d==null?void 0:d.userName)!==""?`${d.userName}`:`${(v=d.emailUser)==null?void 0:v.split("@")[0]}`,classList:"header__button button--enter",openModalForm:n}),a&&e.jsx(We,{openModalForm:n})]})]}),l==="AUTH"&&p==="administrator"&&e.jsxs("div",{className:"header__submenu   hidden-mobile",children:[e.jsx(_,{text:"Admin",classList:"header__button button--enter",openModalForm:n}),a&&e.jsx(We,{openModalForm:n})]}),(l==="NO_AUTH"||l==="UNKNOWN"||p==="")&&e.jsx(H,{className:"hidden-mobile",to:`${b.Modal}${b.Login}`,state:{previousLocation:s},onClick:()=>t(I.actions.changeFormActive("login")),children:e.jsx(_,{text:"Вход",classList:"header__button button--enter"})}),l==="AUTH"&&p==="customers"&&e.jsxs("div",{className:"header__mobile-controls visible-mobile",children:[e.jsx(H,{to:`${b.PersonalArea}/notifications`,className:"header__userControl-notification",children:e.jsx("svg",{width:"30",height:"30",viewBox:"0 0 30 30",children:e.jsx("use",{xlinkHref:`${C}#notification`})})}),e.jsx("button",{className:"button__burger-menu burger-button visible-mobile",type:"button",onClick:()=>g(!x),children:e.jsx("span",{className:"visually-hidden",children:"Open navigation menu"})})]}),l==="AUTH"&&p==="administrator"&&e.jsx("button",{className:"button__burger-menu burger-button visible-mobile",type:"button",onClick:()=>g(!x),children:e.jsx("span",{className:"visually-hidden",children:"Open navigation menu"})}),(l==="NO_AUTH"||l==="UNKNOWN"||p==="")&&e.jsx(e.Fragment,{children:e.jsx("button",{className:"button__burger-menu burger-button visible-mobile",type:"button",onClick:()=>g(!x),children:e.jsx("span",{className:"visually-hidden",children:"Open navigation menu"})})}),x&&e.jsx(ps,{onClick:()=>g(!x),userRole:p})]})})},ce=({children:t})=>e.jsxs(e.Fragment,{children:[e.jsx(ga,{}),t,e.jsx(ua,{})]}),xa=()=>{var c;const t=ke(),s=L(),a=(c=t.state)==null?void 0:c.previousLocation,[i,n]=r.useState(!0);r.useEffect(()=>{setTimeout(()=>{n(!1)},50)},[]);const l=localStorage.getItem(`${Fe}`);return r.useEffect(()=>{l||s(I.actions.refreshUser())},[l]),e.jsx(e.Fragment,{children:i?e.jsx("div",{className:"spinnerContainer",children:e.jsx(ae,{})}):e.jsxs("div",{className:"app",children:[e.jsxs(Oe,{location:a||t,children:[e.jsx(V,{path:b.Root,element:e.jsxs(ce,{children:[e.jsx(ht,{})," "]})}),e.jsx(V,{path:b.Dashboard,element:e.jsx(ce,{children:e.jsx(Vt,{})})}),e.jsx(V,{path:`${b.Modal}${b.Login}`,element:e.jsx($e,{})}),e.jsx(V,{path:b.NotFound,element:e.jsx(ce,{children:e.jsx(gt,{})})}),e.jsx(V,{path:b.PersonalArea,element:e.jsx(Ye,{children:e.jsxs(ce,{children:[" ",e.jsx(Ge,{})]})}),children:Ze.map(d=>e.jsx(V,{path:d.path,element:e.jsx(Ge,{})},d.title))}),e.jsx(V,{path:b.AdministratorArea,element:e.jsx(Ye,{children:e.jsx(Ke,{})}),children:Ue.map(d=>e.jsx(V,{path:d.path,element:e.jsx(Ke,{})},d.title))})]}),a&&e.jsx(Oe,{children:e.jsx(V,{path:`${b.Modal}/:id`,element:e.jsx(G,{}),children:e.jsx(V,{path:` ${b.Login}`,element:e.jsx($e,{})})})})]})})},pa={userTickets:null,isTicketsLoading:o.Idle},ja=le({name:$.Ticket,initialState:pa,reducers:{},extraReducers(t){t.addCase(je.pending,s=>{s.isTicketsLoading=o.Pending}).addCase(je.fulfilled,(s,a)=>{s.isTicketsLoading=o.Fulfilled,s.userTickets=a.payload}).addCase(je.rejected,s=>{s.isTicketsLoading=o.Rejected})}}),_a={message:"",isStudioDataLoading:o.Idle,isBannerLoading:o.Idle,isHallsLoading:o.Idle,isTeachersLoading:o.Idle,isLogotypeLoading:o.Idle,isPriceLoading:o.Idle,isCityLoading:o.Idle,isPointsLoading:o.Idle,aboutStudioData:null,bannersData:[],hallsData:[],currentHallData:null,techersData:[],currentTeacherData:null,priceData:[],points:void 0,city:void 0},fa=le({name:$.Studio,initialState:_a,reducers:{},extraReducers(t){t.addCase(J.pending,s=>{s.isStudioDataLoading=o.Pending}).addCase(J.fulfilled,(s,a)=>{s.aboutStudioData=a.payload,s.isStudioDataLoading=o.Fulfilled}).addCase(J.rejected,s=>{s.isStudioDataLoading=o.Rejected}).addCase(_e.pending,s=>{s.isStudioDataLoading=o.Pending}).addCase(_e.fulfilled,(s,a)=>{s.message=a.payload,s.isStudioDataLoading=o.Fulfilled}).addCase(_e.rejected,s=>{s.isStudioDataLoading=o.Rejected}).addCase(fe.pending,s=>{s.isStudioDataLoading=o.Pending}).addCase(fe.fulfilled,(s,a)=>{s.city=a.payload,s.isCityLoading=o.Fulfilled}).addCase(fe.rejected,s=>{s.isCityLoading=o.Rejected}).addCase(ve.pending,s=>{s.isCityLoading=o.Pending}).addCase(ve.fulfilled,(s,a)=>{s.message=a.payload,s.isCityLoading=o.Fulfilled}).addCase(ve.rejected,s=>{s.isCityLoading=o.Rejected}).addCase(Ne.pending,s=>{s.isPointsLoading=o.Pending}).addCase(Ne.fulfilled,(s,a)=>{s.points=a.payload,s.isPointsLoading=o.Fulfilled}).addCase(Ne.rejected,s=>{s.isPointsLoading=o.Rejected}).addCase(be.pending,s=>{s.isPointsLoading=o.Pending}).addCase(be.fulfilled,(s,a)=>{s.message=a.payload,s.isPointsLoading=o.Fulfilled}).addCase(be.rejected,s=>{s.isPointsLoading=o.Rejected}).addCase(X.pending,s=>{s.isBannerLoading=o.Pending}).addCase(X.fulfilled,(s,a)=>{s.bannersData=a.payload,s.isBannerLoading=o.Fulfilled}).addCase(X.rejected,s=>{s.isBannerLoading=o.Rejected}).addCase(we.pending,s=>{s.isBannerLoading=o.Pending}).addCase(we.fulfilled,(s,a)=>{s.message=a.payload,s.isBannerLoading=o.Fulfilled}).addCase(we.rejected,s=>{s.isBannerLoading=o.Rejected}).addCase(Se.pending,s=>{s.isBannerLoading=o.Pending}).addCase(Se.fulfilled,(s,a)=>{s.message=a.payload,s.bannersData=[],s.isBannerLoading=o.Fulfilled}).addCase(Se.rejected,s=>{s.isBannerLoading=o.Rejected}).addCase(ye.pending,s=>{s.isLogotypeLoading=o.Pending}).addCase(ye.fulfilled,(s,a)=>{s.message=a.payload,s.isLogotypeLoading=o.Fulfilled}).addCase(ye.rejected,s=>{s.isLogotypeLoading=o.Rejected}).addCase(K.pending,s=>{s.isHallsLoading=o.Pending}).addCase(K.fulfilled,(s,a)=>{s.hallsData=a.payload,s.isHallsLoading=o.Fulfilled}).addCase(K.rejected,s=>{s.isHallsLoading=o.Rejected}).addCase(gs.fulfilled,(s,a)=>{s.currentHallData=a.payload}).addCase(ne.pending,s=>{s.isHallsLoading=o.Pending}).addCase(ne.fulfilled,s=>{s.currentHallData=null,s.isHallsLoading=o.Fulfilled}).addCase(ne.rejected,s=>{s.isHallsLoading=o.Rejected}).addCase(Ce.pending,s=>{s.isHallsLoading=o.Pending}).addCase(Ce.fulfilled,(s,a)=>{s.message=a.payload,s.bannersData=[],s.isHallsLoading=o.Fulfilled}).addCase(Ce.rejected,s=>{s.isHallsLoading=o.Rejected}).addCase(W.pending,s=>{s.isTeachersLoading=o.Pending}).addCase(W.fulfilled,(s,a)=>{s.techersData=a.payload,s.isTeachersLoading=o.Fulfilled}).addCase(W.rejected,s=>{s.isTeachersLoading=o.Rejected}).addCase(xs.fulfilled,(s,a)=>{s.currentTeacherData=a.payload}).addCase(re.pending,s=>{s.isTeachersLoading=o.Pending}).addCase(re.fulfilled,s=>{s.currentTeacherData=null,s.isTeachersLoading=o.Fulfilled}).addCase(re.rejected,s=>{s.isTeachersLoading=o.Rejected}).addCase(Le.pending,s=>{s.isTeachersLoading=o.Pending}).addCase(Le.fulfilled,(s,a)=>{s.message=a.payload,s.techersData=[],s.isTeachersLoading=o.Fulfilled}).addCase(Le.rejected,s=>{s.isTeachersLoading=o.Rejected}).addCase(ee.pending,s=>{s.isPriceLoading=o.Pending}).addCase(ee.fulfilled,(s,a)=>{s.priceData=a.payload,s.isPriceLoading=o.Fulfilled}).addCase(ee.rejected,s=>{s.isPriceLoading=o.Rejected})}}),va={mainPage:null,isStudioDataLoading:o.Idle,isBannerLoading:o.Idle,isHallsLoading:o.Idle,isTeachersLoading:o.Idle,isPriceLoading:o.Idle,isCityLoading:o.Idle,isPointsLoading:o.Idle},Na=le({name:$.MainPage,initialState:va,reducers:{},extraReducers(t){t.addCase(ie.pending,s=>{s.isStudioDataLoading=o.Pending,s.isBannerLoading=o.Pending,s.isTeachersLoading=o.Pending,s.isPriceLoading=o.Pending,s.isCityLoading=o.Pending,s.isPointsLoading=o.Pending,s.isHallsLoading=o.Pending}).addCase(ie.fulfilled,(s,a)=>{s.mainPage=a.payload,s.isStudioDataLoading=o.Fulfilled,s.isBannerLoading=o.Fulfilled,s.isTeachersLoading=o.Fulfilled,s.isPriceLoading=o.Fulfilled,s.isCityLoading=o.Fulfilled,s.isPointsLoading=o.Fulfilled,s.isHallsLoading=o.Fulfilled}).addCase(ie.rejected,s=>{s.isStudioDataLoading=o.Rejected,s.isBannerLoading=o.Rejected,s.isTeachersLoading=o.Rejected,s.isPriceLoading=o.Rejected,s.isCityLoading=o.Rejected,s.isPointsLoading=o.Rejected,s.isHallsLoading=o.Rejected})}}),ba={key:"root",storage:Ts,whitelist:[$.Auth,$.Admin,$.MainPage,$.Ticket]},wa=Vs({[$.Auth]:I.reducer,[$.Admin]:oe.reducer,[$.Ticket]:ja.reducer,[$.Studio]:fa.reducer,[$.MainPage]:Na.reducer}),Sa=Hs(ba,wa),ya=ts(),He=ys({reducer:Sa,middleware:t=>t({thunk:{extraArgument:ya},serializableCheck:{ignoredActions:[As,$s,Ms,Rs,Us,Bs]}})}),Ca=Es(He);He.dispatch(Y());He.dispatch(Q());_s.createRoot(document.getElementById("root")).render(e.jsx(qe.StrictMode,{children:e.jsx(Ns,{store:He,children:e.jsx(Is,{loading:e.jsx("div",{children:"Loading"}),persistor:Ca,children:e.jsx(ws,{basename:"/dance-frontend",children:e.jsx(xa,{})})})})}));
